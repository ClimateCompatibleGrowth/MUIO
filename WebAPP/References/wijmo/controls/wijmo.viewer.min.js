/*!
    *
    * Wijmo Library 5.20213.824
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var wijmo,__extends=this&&this.__extends||function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();!function(e){!function(t){"use strict";var o=function(){function _MultiSelectEx(t){this._selectedAll=!1;this._innerCheckedItemsChanged=!1;this.checkedItemsChanged=new e.Event;var o=this,n=new e.input.MultiSelect(t);o._multiSelect=n;n.checkedItemsChanged.addHandler(o.onCheckedItemsChanged,o);n.isDroppedDownChanged.addHandler(o.onIsDroppedDownChanged,o);n.headerFormatter=function(){return o._updateHeader()};o._lostFocus=o._multiSelect.lostFocus}_MultiSelectEx.prototype._updateHeader=function(){var t=this.checkedItems||[],o=[],n=this.displayMemberPath;if(!t.length)return e.culture.Viewer.parameterNoneItemsSelected;if(this._selectedAll)return e.culture.Viewer.parameterAllItemsSelected;if(n){for(var i=0;i<t.length;i++)o[i]=t[i][n];return o.join(", ")}return t.join(", ")};_MultiSelectEx.prototype.onIsDroppedDownChanged=function(){this._multiSelect.isDroppedDown&&this._updateSelectedAll()};_MultiSelectEx.prototype.onCheckedItemsChanged=function(e,t){if(!this._innerCheckedItemsChanged)if(this._selectAllItem){this._updateSelectedAll();this.checkedItemsChanged.raise(this,t)}else this.checkedItemsChanged.raise(this,t)};Object.defineProperty(_MultiSelectEx.prototype,"isEditable",{get:function(){return this._multiSelect.isEditable},set:function(e){this._multiSelect.isEditable=e},enumerable:!0,configurable:!0});Object.defineProperty(_MultiSelectEx.prototype,"isDisabled",{get:function(){return this._multiSelect.isDisabled},set:function(e){this._multiSelect.isDisabled=e},enumerable:!0,configurable:!0});Object.defineProperty(_MultiSelectEx.prototype,"displayMemberPath",{get:function(){return this._multiSelect.displayMemberPath},set:function(e){this._multiSelect.displayMemberPath=e},enumerable:!0,configurable:!0});Object.defineProperty(_MultiSelectEx.prototype,"selectedValuePath",{get:function(){return this._multiSelect.selectedValuePath},set:function(e){this._multiSelect.selectedValuePath=e},enumerable:!0,configurable:!0});Object.defineProperty(_MultiSelectEx.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){var o=this.displayMemberPath||"name";this._itemsSource=t;var n=[];if(t){if(t.length>1){this._selectAllItem={};this._selectAllItem[o]=e.culture.Viewer.parameterSelectAllItemText;n.push(this._selectAllItem)}else this._selectAllItem=null;n=n.concat(t)}this._multiSelect.itemsSource=n},enumerable:!0,configurable:!0});Object.defineProperty(_MultiSelectEx.prototype,"checkedItems",{get:function(){var e=[];this._multiSelect.checkedItems&&(e=this._multiSelect.checkedItems.slice());var t=e.indexOf(this._selectAllItem);t>-1&&e.splice(t,1);return e},set:function(e){this._multiSelect.checkedItems=e;this._selectedAll=!1;this._updateSelectedAll()},enumerable:!0,configurable:!0});Object.defineProperty(_MultiSelectEx.prototype,"lostFocus",{get:function(){return this._lostFocus},enumerable:!0,configurable:!0});_MultiSelectEx.prototype._updateSelectedAll=function(){if(this._selectAllItem){var e=this._multiSelect.checkedItems||[],t=e.indexOf(this._selectAllItem),o=t>-1;if(this._selectedAll!==o){this._selectedAll=o;this._innerCheckedItemsChanged=!0;this._selectedAll?this._multiSelect.checkedItems=this._multiSelect.itemsSource.slice():this._multiSelect.checkedItems=[];this._innerCheckedItemsChanged=!1}else{this._selectedAll=e&&this._itemsSource&&e.length-(o?1:0)===this._itemsSource.length;if(this._selectedAll!==o){this._innerCheckedItemsChanged=!0;if(this._selectedAll)this._multiSelect.checkedItems=e.concat(this._selectAllItem);else{(e=e.slice()).splice(t,1);this._multiSelect.checkedItems=e}this._innerCheckedItemsChanged=!1}}}};return _MultiSelectEx}();t._MultiSelectEx=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";e.parametersIcon='<path d="M24,11.9v-2h-4V7h0V5h0h-1h-5V2h0V0h0h-1H1H0h0v2h0v11h0v1h0h1h5v4h0v1h0h1h3v4h0v1h0h1h2.1v-1H11V12h2.1v-2H11h-1h0v2h0v6H7V7h12v2.9h-1v2h5V23h-4.9v1H23h1h0v-1h0L24,11.9L24,11.9z M6,5L6,5l0,2h0v6H1V2h12v3H7H6z"/><path d="M20,20v-3v-1h-1h-1v-1v-1h-1h-3h-1v1v3v1h1h1v2h0h1h3h1h0L20,20L20,20z M14,18v-3h3v1h-1h-1v1v1H14z M17,17v1h-1v-1H17z M16,20v-1h1h1v-1v-1h1v3H16z"/>'}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";e.icons={paginated:'<rect x="16" y= "1" width="1" height="1" /><rect x="17" y= "2" width="1" height="1" /><rect x="18" y= "3" width="1" height="1" /><path d= "M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M5,22.1V2h8v5h1h1h3v15.1H5z" /><rect x="6" y= "8" width="10" height="1" /><rect x="6" y= "5" width="5" height="1" /><rect x="6" y= "11" width="10" height="1" /><rect x="6" y= "14" width="10" height="1" /><rect x="6" y= "17" width="10" height="1" /><rect x="6" y= "20" width="10" height="1" />',print:'<rect x="5" y= "1" width="14" height="4" /><polygon points= "22,8 22,7 19,7 19,6 5,6 5,7 2,7 2,8 1,8 1,11 1,20 2,20 2,21 5,21 5,11 19,11 19,21 22,21 22,20 23,20 23, 11 23, 8 "/><path d="M6,12v11h12V12H6z M16,21H8v-1h8V21z M16,18H8v-1h8V18z M16,15H8v-1h8V15z" />',exports:'<path d="M19.6,23"/><polyline points="5,19 5,2 13,2 13,7 14.3,7 15,7 18,7 18,9 20,9 20,7 20,6.4 20,5 20,4 19,4 19,5 15,5 15,2 15,1 16,1 16,0 15,0 5,0 3,0 3,2 3,19 3,21 5,21 "/><rect x="18" y="3" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="16" y="1" width="1" height="1"/><polygon points="17,16.6 20,14.1 17,11.6 17,13.6 13,13.6 13,14.6 17,14.6 "/><rect x="3" y="20.9" width="2" height="3.1"/><rect x="4.5" y="22" width="15.6" height="2"/><rect x="18" y="8.4" width="2" height="1.6"/><rect x="18" y="18" width="2.1" height="6"/>',portrait:'<path d="M19,0L19,0L5,0v0H3v24h0.1H5h14h1.7H21V0H19z M12.5,23h-1v-1h1V23z M19,21H5V2h14V21z"/>',landscape:'<path d="M24,19L24,19l0-14h0V3H0v0.1V5v14v1.7V21h24V19z M1,12.5v-1h1v1H1z M3,19V5h19v14H3z"/>',pageSetup:'<rect x="18" y="1" width="1" height="1"/><rect x="19" y="2" width="1" height="1"/><rect x="20" y="3" width="1" height="1"/><polygon points="22,5 22,4 21,4 21,5 20.4,5 20,5 17,5 17,2 17,1.3 17,1 18,1 18,0 17,0 17,0 7,0 6,0 5,0 5,5 7,5 7,2 15,2 15,7 16,7 17,7 20,7 20,22.1 7,22.1 7,19 5,19 5,24 5.9,24 7,24 20,24 21.1,24 22,24 22,5 "/><rect x="5" y="7" width="2" height="2"/><rect x="5" y="11" width="2" height="2"/><rect x="5" y="15" width="2" height="2"/><rect x="9" y="11" width="2" height="2"/><rect x="1" y="11" width="2" height="2"/><polygon points="9,8 9,8 8,8 8,9 9,9 9,10 10,10 10,8 "/><polygon points="2,9 2,9 2,10 3,10 3,9 4,9 4,8 2,8 "/><polygon points="3,16 3,16 4,16 4,15 3,15 3,14 2,14 2,16 "/><polygon points="10,15 10,15 10,14 9,14 9,15 8,15 8,16 10,16 "/>',previousPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="5.6,10.7 12,4.4 18.4,10.7 18.4,15 13.5,10.1 13.5,19.6 10.4,19.6 10.4,10.1 5.6,15 " />',nextPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="18.4,13.3 12,19.6 5.6,13.3 5.6,9 10.5,13.9 10.5,4.4 13.6,4.4 13.6,13.9 18.4,9 " />',firstPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="6.5,13.1 12,7.8 17.5,13.1 17.5,17.5 13.5,13.5 13.5,19.6 10.4,19.6 10.4,13.5 6.5,17.5 " /><rect x="6.5" y= "4.4" width="10.9" height="2.2" />',lastPage:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="17.5,10.9 12,16.2 6.5,10.9 6.5,6.5 10.5,10.5 10.5,4.4 13.6,4.4 13.6,10.5 17.5,6.5 " /><rect x="6.5" y= "17.5" transform="matrix(-1 -8.987357e-011 8.987357e-011 -1 24 37.0909)" width="10.9" height="2.2" />',backwardHistory:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="10.7,18.4 4.4,12 10.7,5.6 15,5.6 10.1,10.5 19.6,10.5 19.6,13.6 10.1,13.6 15,18.4 " />',forwardHistory:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon points="13.3,5.6 19.6,12 13.3,18.4 9,18.4 13.9,13.5 4.4,13.5 4.4,10.4 13.9,10.4 9,5.6 " />',selectTool:'<polygon points="19.9,13.4 5.6,1.1 5.3,19.9 10.5,14.7 14.3,23.3 16.4,22.4 12.6,13.8 "/>',moveTool:'<polygon points="12.5,3 14.5,3 12,0 9.5,3 11.5,3 11.5,21 11.5,21 9.6,21 12,24 14.5,21 12.5,21 "/><polygon points="21,12.5 21,14.5 24,12 21,9.5 21,11.5 3,11.5 3,11.5 3,9.6 0,12 3,14.5 3,12.5 "/>',continuousView:'<polygon points="22,0 22,5 9,5 9,0 7,0 7,5 7,7 7,7 24,7 24,7 24,5 24,0 "/><polygon points="23,15 19,15 19,11 20,11 20,10 19,10 18,10 17,10 9,10 7.4,10 7,10 7,24 9,24 9,12 17,12 17,15 17,16.6 17,17 22,17 22,24 24,24 24,17 24,15.1 24,15 24,15 24,14 23,14 "/><rect x="22" y="13" width="1" height="1"/><polygon points="20.9,12 20.9,13 22,13 22,12 21,12 21,11 20,11 20,12 "/><polygon points="4.9,5.2 2.5,2.2 0,5.2 2,5.2 2,9.2 3,9.2 3,5.2 "/><polygon points="2.9,19.2 2.9,15.2 1.9,15.2 1.9,19.2 0,19.2 2.5,22.1 4.9,19.2 "/>',singleView:'<rect x="16" y="1" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="18" y="3" width="1" height="1"/><path d="M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M5,22.1V2h8v5h1h1h3v15.1H5z"/>',fitWholePage:'<rect x="16" y="1" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="18" y="3" width="1" height="1"/><path d="M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M18,22.1H5V2h8v5h1h1h3V22.1z"/><polygon points="17,13.5 15,11 15,13 13,13 13,14 15,14 15,16 "/><polygon points="6,13.5 8,16 8,14 10,14 10,13 8,13 8,11 "/><polygon points="11.5,7 9,9 11,9 11,11 12,11 12,9 14,9 "/><polygon points="11.5,20 14,18 12,18 12,16 11,16 11,18 9,18 "/>',fitPageWidth:'<rect x="16" y="1" width="1" height="1"/><rect x="17" y="2" width="1" height="1"/><rect x="18" y="3" width="1" height="1"/><path d="M20,5V4h-1v1h-0.6H18h-3V2V1.3V1h1V0h-1h0H5H4H3v24h2v0h13h1.1H20L20,5L20,5z M5,22.1V2h8v5h1h1h3v15.1H5z"/><polygon points="14,15.5 17,13 14,10.6 14,12.6 13,12.6 13,13.6 14,13.6 "/><polyline points="6,13.1 9,15.6 9,13.6 10,13.6 10,12.6 9,12.6 9,10.6 6,13.1 "/>',zoomOut:'<circle opacity=".25" cx="12" cy="12" r="12"/><rect opacity=".75" x="5" y="10" width="14" height="3"/>',zoomIn:'<circle opacity=".25" cx="12" cy="12" r="12"/><polygon opacity=".75" points="19,10 13.5,10 13.5,4.5 10.5,4.5 10.5,10 5,10 5,13 10.5,13 10.5,18.5 13.5,18.5 13.5,13 19,13 " />',fullScreen:'<path d="M22,0H0v2.8V4v20h1.5H2h20h0.7H24V4V0H22z M7,1h1v1H7V1z M5,1h1v1H5V1z M3,1h1v1H3V1z M22,22H2L2,4h20L22,22z" /><polygon points="19.6,9.9 20,6 16.1,6.4 17.6,7.8 14.7,10.6 15.4,11.3 18.3,8.5"/><polygon points="4.4,16.2 4,20 7.9,19.7 6.5,18.3 9.3,15.5 8.6,14.8 5.8,17.6"/>',exitFullScreen:'<path d="M22,0H0v2.8V4v20h1.5H2h20h0.7H24V4V0H22z M7,1h1v1H7V1z M5,1h1v1H5V1z M3,1h1v1H3V1z M22,22H2L2,4h20L22,22z" /><polygon points="9.2,18.6 9.6,14.7 5.7,15.1 7.2,16.5 4.3,19.3 5,20 7.9,17.2"/><polygon points="14.8,7.5 14.4,11.3 18.3,11 16.9,9.6 19.7,6.8 19,6.1 16.2,8.9"/>',thumbnails:'<path d="M20,2h-5h-2v2v5v2v0h2v0h5v0h2v0V9V4V2H20z M20,9h-5V4h5V9z"/><path d="M20,13h-5h-2v2v5v2v0h2v0h5v0h2v0v-2v-5v-2H20z M20,20h-5v-5h5V20z"/><path d="M9,13H4H2v2v5v2v0h2v0h5v0h2v0v-2v-5v-2H9z M9,20H4v-5h5V20z"/><rect x="2" y="2" width="9" height="9"/>',outlines:'<path d="M22,0H2H0v2v20v2h2h20h2v-2V2V0H22z M2,2h12v20H2V2z M22,22h-6V2h6V22z"/><rect x="17.5" y="5" width="3" height="1" /><rect x="17.5" y="8" width="3" height="1"/><rect x="17.5" y="11" width="3" height="1"/>',search:'<circle stroke-width="2" fill="none" cx="9.5" cy="9.5" r="8.5"/><rect x="16.9" y="13.7" transform="matrix(-0.7193 0.6947 -0.6947 -0.7193 44.3315 18.4942)" width="3" height="9"/>',searchNext:'<polygon points="12,12.6 4,4.5 4,11.4 12,19.5 20,11.4 20,4.5 "/>',searchPrevious:'<polygon points="12,11.4 20,19.5 20,12.6 12,4.5 4,12.6 4,19.5 "/>',hamburgerMenu:'<rect x="2" y="4.875" width="20" height="1.5"/><rect x="2" y="11.25" width="20" height="1.5"/><rect x="2" y="17.625" width="20" height="1.5"/>',viewMenu:'<path transform="scale(1.5)" d="M8,2.9c-4.4,0-8,2.2-8,5s3.6,5,8,5s8-2.2,8-5S12.4,2.9,8,2.9z M8,11.8c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4s4, 1.8,4,4C12, 10,10.2,11.8,8,11.8z"/><circle class="st0" cx="12" cy="11.85" r="3.45"/>',searchOptions:'<polygon points="12,12.6 4,4.5 4,11.4 12,19.5 20,11.4 20,4.5 "/>',searchLeft:'<polygon points="11.4,12 19.5,20 12.6,20 4.5,12 12.6,4 19.5,4 "/>',searchRight:'<polygon points="12.6,12 4.5,4 11.4,4 19.5,12 11.4,20 4.5,20 "/>',showZoomBar:'<path d="M22.8,20.7l-4.4-4.4c1.1-1.6,1.8-3.5,1.8-5.6c0-5.2-4.3-9.5-9.5-9.5s-9.5,4.3-9.5,9.5s4.3,9.5,9.5,9.5 c2.1,0,4-0.7,5.6-1.8l4.4,4.4L22.8,20.7z M4.2,10.7c0-3.6,2.9-6.5,6.5-6.5s6.5,2.9,6.5,6.5s-2.9,6.5-6.5,6.5S4.2,14.3,4.2,10.7z"/><polygon points="7.2,9.2 7.2,7.2 9.2,7.2 9.2,6.2 6.2,6.2 6.2,9.2 "/><polygon points="12.2,7.2 14.2,7.2 14.2,9.2 15.2,9.2 15.2,6.2 12.2,6.2 "/><polygon points="9.2,14.2 7.2,14.2 7.2,12.2 6.2,12.2 6.2,15.2 9.2,15.2 "/><polygon points="14.2,12.2 14.2,14.2 12.2,14.2 12.2,15.2 15.2,15.2 15.2,12.2"/>',rubberbandTool:'\n    <g>\n        <polygon points="11.5,2 4,2 2,2 2,4 2,11.5 4,11.5 4,4 11.5,4 \t"/>\n        <path d="M16,10V8h-2h-4H8v2v4v2h2h4h2v-2V10z M14,14h-4v-4h4V14z"/>\n        <polygon points="20,12 20,19 19,19 19,20 12,20 12,22 20,22 22,22 22,20 22,12"/>\n        <rect x="16" y="16" class="st0" width="1" height="1"/>\n        <rect x="17" y="17" class="st0" width="1" height="1"/>\n        <rect x="18" y="18" class="st0" width="1" height="1"/>\n    </g>',magnifierTool:'\n    <circle fill="none" stroke-width="2" stroke-miterlimit="10" cx="9.5" cy="9.5" r="7.5"/>\n    <rect x="17" y="13.7" transform="matrix(0.7193 -0.6947 0.6947 0.7193 -7.4537 17.9238)" class="st1" width="3" height="9"/>\n    <polygon points="14,8.5 10.5,8.5 10.5,5 8.5,5 8.5,8.5 5,8.5 5,10.5 8.5,10.5 8.5,14 10.5,14 10.5,10.5 14,10.5"/>\n    ',rotateDocument:'\n    <g>\n        <path d="M18,0H5H3v4v18v2h2h13h2v-2V4V0H18z M18,22H5V4h13V22z"/>\n        <polygon points="9,12 13,12 13,14 15,11.5 13,9 13,11 9,11 8,11 8,12 8,17 9,17"/>\n    </g>',rotatePage:'\n    <g>\n        <rect x="16" y="1" width="1" height="1"/>\n        <rect x="17" y="2" width="1" height="1"/>\n        <rect x="18" y="3" width="1" height="1"/>\n        <path class="st0" d="M19,4v1h-0.6H18h-3V2V1.3V1h1V0h-1H5H4H3v24h2h13h1.1H20V5V4H19z M18,22.1H5V2h8v5h1h1h3V22.1z"/>\n        <polygon points="13,11 9,11 8,11 8,12 8,17 9,17 9,12 13,12 13,14 15,11.5 13,9"/>\n    </g>'}}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(e){__extends(PageLoadedEventArgs,e);function PageLoadedEventArgs(t,o){var n=e.call(this)||this;n._pageIndex=t;n._pageElement=o;return n}Object.defineProperty(PageLoadedEventArgs.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(e){this._pageIndex=e},enumerable:!0,configurable:!0});Object.defineProperty(PageLoadedEventArgs.prototype,"pageElement",{get:function(){return this._pageElement},set:function(e){this._pageElement=e},enumerable:!0,configurable:!0});return PageLoadedEventArgs}(e.EventArgs);t.PageLoadedEventArgs=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";var t=function(){function _ActionQueue(){this._actions=[];this._isStarted=!1}_ActionQueue.prototype._any=function(){return this._actions.length>0};_ActionQueue.prototype.queue=function(e){var t=this,o=this._any();this._actions.push((function(){e();t._continue()}));this.isStarted&&!o&&this._continue()};_ActionQueue.prototype._continue=function(){var e=this._actions.shift();e&&e()};_ActionQueue.prototype.start=function(){if(!this._isStarted){this._isStarted=!0;this._continue()}};Object.defineProperty(_ActionQueue.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0});return _ActionQueue}();e._ActionQueue=t}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";if("undefined"!=typeof window){window.TouchEvent=window.TouchEvent||function(){};window.PointerEvent=window.PointerEvent||function(){};window.Touch=window.Touch||function(){}}var t={startName:"touchstart",moveName:"touchmove",endName:["touchend","touchcancel","touchleave"].join(",")},o={startName:["pointerdown","pointerenter"].join(","),moveName:"pointermove",endName:["pointerup","pointercancel","pointerleave"].join(",")};e._getTouchEventMap=function _getTouchEventMap(){return"ontouchstart"in window?t:o}}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";!function(e){e[e.None=0]="None";e[e.Left=1]="Left";e[e.Up=2]="Up";e[e.Right=3]="Right";e[e.Down=4]="Down"}(e._TouchDirection||(e._TouchDirection={}))}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(){function _TouchInfo(e){this._systemTouchInfo=e;e instanceof Touch?this._id=e.identifier:this._id=e.pointerId;this._target=e.target;this._screenX=e.screenX;this._screenY=e.screenY;this._clientX=e.clientX;this._clientY=e.clientY}_TouchInfo.getCenter=function(t,o){return new e.Point(t.x+(o.x-t.x)/2,t.y+(o.y-t.y)/2)};_TouchInfo.getCenterClient=function(t,o){return _TouchInfo.getCenter(new e.Point(t.clientX,t.clientY),new e.Point(o.clientX,o.clientY))};_TouchInfo.getCenterScreen=function(t,o){return _TouchInfo.getCenter(new e.Point(t.screenX,t.screenY),new e.Point(o.screenX,o.screenY))};_TouchInfo.getDistance=function(e,t){var o=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.sqrt(o*o+n*n)};_TouchInfo._getDirection=function(e,o){var n=o.clientX-e.clientX,i=o.clientY-e.clientY;return Math.abs(n)>=Math.abs(i)?n>0?t._TouchDirection.Right:n<0?t._TouchDirection.Left:t._TouchDirection.None:i>0?t._TouchDirection.Down:i<0?t._TouchDirection.Up:t._TouchDirection.None};Object.defineProperty(_TouchInfo.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(_TouchInfo.prototype,"systemTouchInfo",{get:function(){return this._systemTouchInfo},enumerable:!0,configurable:!0});Object.defineProperty(_TouchInfo.prototype,"screenX",{get:function(){return this._screenX},enumerable:!0,configurable:!0});Object.defineProperty(_TouchInfo.prototype,"screenY",{get:function(){return this._screenY},enumerable:!0,configurable:!0});Object.defineProperty(_TouchInfo.prototype,"clientX",{get:function(){return this._clientX},enumerable:!0,configurable:!0});Object.defineProperty(_TouchInfo.prototype,"clientY",{get:function(){return this._clientY},enumerable:!0,configurable:!0});return _TouchInfo}();t._TouchInfo=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";var t=function(){function _SpeedReducer(){this._timeInterval=50;this._speedInterval=5}Object.defineProperty(_SpeedReducer.prototype,"timeInterval",{get:function(){return this._timeInterval},set:function(e){this._timeInterval=e},enumerable:!0,configurable:!0});Object.defineProperty(_SpeedReducer.prototype,"speedInterval",{get:function(){return this._speedInterval},set:function(e){this._speedInterval=e},enumerable:!0,configurable:!0});_SpeedReducer.prototype.stop=function(){if(null!=this._timer){clearInterval(this._timer);this._timer=null}};_SpeedReducer.prototype.start=function(e,t,o){var n=this;this.stop();if(o){var i=e>=0?1:-1,r=t>=0?1:-1,a=Math.abs(e*this._timeInterval),s=Math.abs(t*this._timeInterval),c=Math.max(a,s),u=Math.floor(c/this.speedInterval),l=Math.floor(a/u),p=Math.floor(s/u);this._timer=setInterval((function(){a-=l;s-=p;a=Math.max(0,a);s=Math.max(0,s);a&&s?o(a*i,s*r):n.stop()}),this._timeInterval)}};return _SpeedReducer}();e._SpeedReducer=t}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(e){__extends(_Scroller,e);function _Scroller(){return null!==e&&e.apply(this,arguments)||this}_Scroller.getScrollbarWidth=function(e){var t,o;if(!_Scroller._scrollbarWidth||e){(t=document.createElement("div")).style.width="50px";t.style.height="50px";t.style.overflow="auto";document.body.appendChild(t);(o=document.createElement("div")).style.height="60px";t.appendChild(o);_Scroller._scrollbarWidth=t.offsetWidth-t.clientWidth;document.body.removeChild(t)}return _Scroller._scrollbarWidth};_Scroller._scrollbarWidth=null;return _Scroller}(e.Control);t._Scroller=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){e._enumToArray=function _enumToArray(e){var t=[];for(var o in e)o&&o.length&&"_"!=o[0]&&!isNaN(parseInt(o))&&t.push({text:e[o],value:o});return t}}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(e){__extends(_RubberbandOnAppliedEventArgs,e);function _RubberbandOnAppliedEventArgs(t){var o=e.call(this)||this;o._rect=t;return o}Object.defineProperty(_RubberbandOnAppliedEventArgs.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0});return _RubberbandOnAppliedEventArgs}(e.EventArgs);t._RubberbandOnAppliedEventArgs=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(e){__extends(_LinkClickedEventArgs,e);function _LinkClickedEventArgs(t){var o=e.call(this)||this;o._a=t;return o}Object.defineProperty(_LinkClickedEventArgs.prototype,"element",{get:function(){return this._a},enumerable:!0,configurable:!0});return _LinkClickedEventArgs}(e.EventArgs);t._LinkClickedEventArgs=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";!function(e){e[e.Boolean=0]="Boolean";e[e.DateTime=1]="DateTime";e[e.Time=2]="Time";e[e.Date=3]="Date";e[e.Integer=4]="Integer";e[e.Float=5]="Float";e[e.String=6]="String"}(e._ParameterType||(e._ParameterType={}));!function(e){e[e.Folder=0]="Folder";e[e.File=1]="File";e[e.Report=2]="Report"}(e.CatalogItemType||(e.CatalogItemType={}))}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(e){__extends(QueryLoadingDataEventArgs,e);function QueryLoadingDataEventArgs(t){var o=e.call(this)||this;o._data=t||{};return o}Object.defineProperty(QueryLoadingDataEventArgs.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0});return QueryLoadingDataEventArgs}(e.EventArgs);t.QueryLoadingDataEventArgs=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";var t=function(){function _ExecutionStatus(){}_ExecutionStatus.loaded="Loaded";_ExecutionStatus.rendering="Rendering";_ExecutionStatus.completed="Completed";_ExecutionStatus.stopped="Stopped";_ExecutionStatus.cleared="Cleared";_ExecutionStatus.notFound="NotFound";return _ExecutionStatus}();e._ExecutionStatus=t}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";!function(e){e[e.Bookmark=0]="Bookmark";e[e.Custom=1]="Custom"}(e._ActionKind||(e._ActionKind={}));!function(e){e[e.SelectTool=0]="SelectTool";e[e.MoveTool=1]="MoveTool";e[e.RubberbandTool=2]="RubberbandTool";e[e.MagnifierTool=3]="MagnifierTool"}(e.MouseMode||(e.MouseMode={}));!function(e){e[e.Single=0]="Single";e[e.Continuous=1]="Continuous"}(e.ViewMode||(e.ViewMode={}));!function(e){e[e.Custom=0]="Custom";e[e.PageWidth=1]="PageWidth";e[e.WholePage=2]="WholePage"}(e.ZoomMode||(e.ZoomMode={}));!function(e){e[e.TogglePaginated=0]="TogglePaginated";e[e.Print=1]="Print";e[e.Portrait=2]="Portrait";e[e.Landscape=3]="Landscape";e[e.ShowPageSetupDialog=4]="ShowPageSetupDialog";e[e.FirstPage=5]="FirstPage";e[e.PrePage=6]="PrePage";e[e.NextPage=7]="NextPage";e[e.LastPage=8]="LastPage";e[e.PageNumber=9]="PageNumber";e[e.PageCountLabel=10]="PageCountLabel";e[e.Backward=11]="Backward";e[e.Forward=12]="Forward";e[e.SelectTool=13]="SelectTool";e[e.MoveTool=14]="MoveTool";e[e.Continuous=15]="Continuous";e[e.Single=16]="Single";e[e.ZoomOut=17]="ZoomOut";e[e.ZoomIn=18]="ZoomIn";e[e.ZoomValue=19]="ZoomValue";e[e.FitWholePage=20]="FitWholePage";e[e.FitPageWidth=21]="FitPageWidth";e[e.ToggleFullScreen=22]="ToggleFullScreen";e[e.ShowHamburgerMenu=23]="ShowHamburgerMenu";e[e.ShowViewMenu=24]="ShowViewMenu";e[e.ShowSearchBar=25]="ShowSearchBar";e[e.ShowThumbnails=26]="ShowThumbnails";e[e.ShowOutlines=27]="ShowOutlines";e[e.ShowExportsPanel=28]="ShowExportsPanel";e[e.ShowPageSetupPanel=29]="ShowPageSetupPanel";e[e.ShowZoomBar=30]="ShowZoomBar";e[e.ShowSearchOptions=31]="ShowSearchOptions";e[e.SearchPrev=32]="SearchPrev";e[e.SearchNext=33]="SearchNext";e[e.SearchMatchCase=34]="SearchMatchCase";e[e.SearchMatchWholeWord=35]="SearchMatchWholeWord";e[e.RubberbandTool=36]="RubberbandTool";e[e.MagnifierTool=37]="MagnifierTool";e[e.RotateDocument=38]="RotateDocument";e[e.RotatePage=39]="RotatePage"}(e._ViewerActionType||(e._ViewerActionType={}))}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";!function(e){e[e.NoRotate=0]="NoRotate";e[e.Rotation90=1]="Rotation90";e[e.Rotation180=2]="Rotation180";e[e.Rotation270=3]="Rotation270"}(e._RotateAngle||(e._RotateAngle={}))}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";!function(e){e[e.Custom=0]="Custom";e[e.Letter=1]="Letter";e[e.LetterSmall=2]="LetterSmall";e[e.Tabloid=3]="Tabloid";e[e.Ledger=4]="Ledger";e[e.Legal=5]="Legal";e[e.Statement=6]="Statement";e[e.Executive=7]="Executive";e[e.A3=8]="A3";e[e.A4=9]="A4";e[e.A4Small=10]="A4Small";e[e.A5=11]="A5";e[e.B4=12]="B4";e[e.B5=13]="B5";e[e.Folio=14]="Folio";e[e.Quarto=15]="Quarto";e[e.Standard10x14=16]="Standard10x14";e[e.Standard11x17=17]="Standard11x17";e[e.Note=18]="Note";e[e.Number9Envelope=19]="Number9Envelope";e[e.Number10Envelope=20]="Number10Envelope";e[e.Number11Envelope=21]="Number11Envelope";e[e.Number12Envelope=22]="Number12Envelope";e[e.Number14Envelope=23]="Number14Envelope";e[e.CSheet=24]="CSheet";e[e.DSheet=25]="DSheet";e[e.ESheet=26]="ESheet";e[e.DLEnvelope=27]="DLEnvelope";e[e.C5Envelope=28]="C5Envelope";e[e.C3Envelope=29]="C3Envelope";e[e.C4Envelope=30]="C4Envelope";e[e.C6Envelope=31]="C6Envelope";e[e.C65Envelope=32]="C65Envelope";e[e.B4Envelope=33]="B4Envelope";e[e.B5Envelope=34]="B5Envelope";e[e.B6Envelope=35]="B6Envelope";e[e.ItalyEnvelope=36]="ItalyEnvelope";e[e.MonarchEnvelope=37]="MonarchEnvelope";e[e.PersonalEnvelope=38]="PersonalEnvelope";e[e.USStandardFanfold=39]="USStandardFanfold";e[e.GermanStandardFanfold=40]="GermanStandardFanfold";e[e.GermanLegalFanfold=41]="GermanLegalFanfold";e[e.IsoB4=42]="IsoB4";e[e.JapanesePostcard=43]="JapanesePostcard";e[e.Standard9x11=44]="Standard9x11";e[e.Standard10x11=45]="Standard10x11";e[e.Standard15x11=46]="Standard15x11";e[e.InviteEnvelope=47]="InviteEnvelope";e[e.LetterExtra=50]="LetterExtra";e[e.LegalExtra=51]="LegalExtra";e[e.TabloidExtra=52]="TabloidExtra";e[e.A4Extra=53]="A4Extra";e[e.LetterTransverse=54]="LetterTransverse";e[e.A4Transverse=55]="A4Transverse";e[e.LetterExtraTransverse=56]="LetterExtraTransverse";e[e.APlus=57]="APlus";e[e.BPlus=58]="BPlus";e[e.LetterPlus=59]="LetterPlus";e[e.A4Plus=60]="A4Plus";e[e.A5Transverse=61]="A5Transverse";e[e.B5Transverse=62]="B5Transverse";e[e.A3Extra=63]="A3Extra";e[e.A5Extra=64]="A5Extra";e[e.B5Extra=65]="B5Extra";e[e.A2=66]="A2";e[e.A3Transverse=67]="A3Transverse";e[e.A3ExtraTransverse=68]="A3ExtraTransverse";e[e.JapaneseDoublePostcard=69]="JapaneseDoublePostcard";e[e.A6=70]="A6";e[e.JapaneseEnvelopeKakuNumber2=71]="JapaneseEnvelopeKakuNumber2";e[e.JapaneseEnvelopeKakuNumber3=72]="JapaneseEnvelopeKakuNumber3";e[e.JapaneseEnvelopeChouNumber3=73]="JapaneseEnvelopeChouNumber3";e[e.JapaneseEnvelopeChouNumber4=74]="JapaneseEnvelopeChouNumber4";e[e.LetterRotated=75]="LetterRotated";e[e.A3Rotated=76]="A3Rotated";e[e.A4Rotated=77]="A4Rotated";e[e.A5Rotated=78]="A5Rotated";e[e.B4JisRotated=79]="B4JisRotated";e[e.B5JisRotated=80]="B5JisRotated";e[e.JapanesePostcardRotated=81]="JapanesePostcardRotated";e[e.JapaneseDoublePostcardRotated=82]="JapaneseDoublePostcardRotated";e[e.A6Rotated=83]="A6Rotated";e[e.JapaneseEnvelopeKakuNumber2Rotated=84]="JapaneseEnvelopeKakuNumber2Rotated";e[e.JapaneseEnvelopeKakuNumber3Rotated=85]="JapaneseEnvelopeKakuNumber3Rotated";e[e.JapaneseEnvelopeChouNumber3Rotated=86]="JapaneseEnvelopeChouNumber3Rotated";e[e.JapaneseEnvelopeChouNumber4Rotated=87]="JapaneseEnvelopeChouNumber4Rotated";e[e.B6Jis=88]="B6Jis";e[e.B6JisRotated=89]="B6JisRotated";e[e.Standard12x11=90]="Standard12x11";e[e.JapaneseEnvelopeYouNumber4=91]="JapaneseEnvelopeYouNumber4";e[e.JapaneseEnvelopeYouNumber4Rotated=92]="JapaneseEnvelopeYouNumber4Rotated";e[e.Prc16K=93]="Prc16K";e[e.Prc32K=94]="Prc32K";e[e.Prc32KBig=95]="Prc32KBig";e[e.PrcEnvelopeNumber1=96]="PrcEnvelopeNumber1";e[e.PrcEnvelopeNumber2=97]="PrcEnvelopeNumber2";e[e.PrcEnvelopeNumber3=98]="PrcEnvelopeNumber3";e[e.PrcEnvelopeNumber4=99]="PrcEnvelopeNumber4";e[e.PrcEnvelopeNumber5=100]="PrcEnvelopeNumber5";e[e.PrcEnvelopeNumber6=101]="PrcEnvelopeNumber6";e[e.PrcEnvelopeNumber7=102]="PrcEnvelopeNumber7";e[e.PrcEnvelopeNumber8=103]="PrcEnvelopeNumber8";e[e.PrcEnvelopeNumber9=104]="PrcEnvelopeNumber9";e[e.PrcEnvelopeNumber10=105]="PrcEnvelopeNumber10";e[e.Prc16KRotated=106]="Prc16KRotated";e[e.Prc32KRotated=107]="Prc32KRotated";e[e.Prc32KBigRotated=108]="Prc32KBigRotated";e[e.PrcEnvelopeNumber1Rotated=109]="PrcEnvelopeNumber1Rotated";e[e.PrcEnvelopeNumber2Rotated=110]="PrcEnvelopeNumber2Rotated";e[e.PrcEnvelopeNumber3Rotated=111]="PrcEnvelopeNumber3Rotated";e[e.PrcEnvelopeNumber4Rotated=112]="PrcEnvelopeNumber4Rotated";e[e.PrcEnvelopeNumber5Rotated=113]="PrcEnvelopeNumber5Rotated";e[e.PrcEnvelopeNumber6Rotated=114]="PrcEnvelopeNumber6Rotated";e[e.PrcEnvelopeNumber7Rotated=115]="PrcEnvelopeNumber7Rotated";e[e.PrcEnvelopeNumber8Rotated=116]="PrcEnvelopeNumber8Rotated";e[e.PrcEnvelopeNumber9Rotated=117]="PrcEnvelopeNumber9Rotated";e[e.PrcEnvelopeNumber10Rotated=118]="PrcEnvelopeNumber10Rotated"}(e._PaperKind||(e._PaperKind={}))}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(e){__extends(RequestEventArgs,e);function RequestEventArgs(t,o){var n=e.call(this)||this;n._url=t;n._settings=o;return n}Object.defineProperty(RequestEventArgs.prototype,"url",{get:function(){return this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0});Object.defineProperty(RequestEventArgs.prototype,"settings",{get:function(){return this._settings},set:function(e){this._settings=e},enumerable:!0,configurable:!0});return RequestEventArgs}(e.EventArgs);t.RequestEventArgs=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";e._addCultureInfo("Viewer",{cancel:"Cancel",ok:"OK",bottom:"Bottom:",top:"Top:",right:"Right:",left:"Left:",margins:"Margins(inches)",orientation:"Orientation:",paperKind:"Paper Kind:",pageSetup:"Page Setup",landscape:"Landscape",portrait:"Portrait",pageNumber:"Page Number",zoomFactor:"Zoom Factor",paginated:"Paginated",print:"Print",search:"Search",matchCase:"Match case",wholeWord:"Match whole word only",searchResults:"Search Results",previousPage:"Previous Page",nextPage:"Next Page",firstPage:"First Page",lastPage:"Last Page",backwardHistory:"Backward",forwardHistory:"Forward",pageCount:"Page Count",selectTool:"Select Tool",moveTool:"Move Tool",continuousMode:"Continuous Page View",singleMode:"Single Page View",wholePage:"Fit Whole Page",pageWidth:"Fit Page Width",zoomOut:"Zoom Out",zoomIn:"Zoom In",rubberbandTool:"Zoom by Selection",magnifierTool:"Magnifier",rotatePage:"Rotate Page",rotateDocument:"Rotate Document",exports:"Export",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",hamburgerMenu:"Tools",showSearchBar:"Show Search Bar",viewMenu:"Layout Options",searchOptions:"Search Options",matchCaseMenuItem:"Match Case",wholeWordMenuItem:"Match Whole Word",thumbnails:"Page Thumbnails",outlines:"Document Map",loading:"Loading...",pdfExportName:"Adobe PDF",docxExportName:"Open XML Word",xlsxExportName:"Open XML Excel",docExportName:"Microsoft Word",xlsExportName:"Microsoft Excel",mhtmlExportName:"Web archive (MHTML)",htmlExportName:"HTML document",rtfExportName:"RTF document",metafileExportName:"Compressed metafiles",csvExportName:"CSV",tiffExportName:"Tiff images",bmpExportName:"BMP images",emfExportName:"Enhanced metafile",gifExportName:"GIF images",jpgExportName:"JPEG images",jpegExportName:"JPEG images",pngExportName:"PNG images",abstractMethodException:"It is an abstract method, please implement it.",cannotRenderPageNoViewPage:"Cannot render page without document source and view page.",cannotRenderPageNoDoc:"Cannot render page without document source and view page.",exportFormat:"Export format:",exportOptionTitle:"Export options",documentRestrictionsGroup:"Document restrictions",passwordSecurityGroup:"Password security",outputRangeGroup:"Output range",documentInfoGroup:"Document info",generalGroup:"General",docInfoTitle:"Title",docInfoAuthor:"Author",docInfoManager:"Manager",docInfoOperator:"Operator",docInfoCompany:"Company",docInfoSubject:"Subject",docInfoComment:"Comment",docInfoCreator:"Creator",docInfoProducer:"Producer",docInfoCreationTime:"Creation time",docInfoRevisionTime:"Revision time",docInfoKeywords:"Keywords",embedFonts:"Embed TrueType fonts",pdfACompatible:"PDF/A compatible (level 2B)",useCompression:"Use compression",useOutlines:"Generate outlines",allowCopyContent:"Allow content copying or extraction",allowEditAnnotations:"Allow annotations editing",allowEditContent:"Allow content editing",allowPrint:"Allow printing",ownerPassword:"Permissions (owner) password:",userPassword:"Document open (user) password:",encryptionType:"Encryption level:",paged:"Paged",showNavigator:"Show Navigator",navigatorPosition:"Navigator Position",singleFile:"Single File",tolerance:"Tolerance when detecting text bounds (points):",pictureLayer:"Use separate picture layer",metafileType:"Metafile Type:",monochrome:"Monochrome",resolution:"Resolution:",outputRange:"Page range:",outputRangeInverted:"Inverted",showZoomBar:"Zoom Bar",searchPrev:"Search Previous",searchNext:"Search Next",checkMark:"✓",exportOk:"Export...",cannotSearch:"Search requires a document source to be specified.",parameters:"Parameters",requiringParameters:"Please input parameters.",nullParameterError:"Value cannot be null.",invalidParameterError:"Invalid input.",parameterNoneItemsSelected:"(none)",parameterAllItemsSelected:"(all)",parameterSelectAllItemText:"(Select All)",selectParameterValue:"(select value)",apply:"Apply",errorOccured:"An error has occured."})}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o;!function(e){e[e.Document=0]="Document";e[e.Inch=1]="Inch";e[e.Mm=2]="Mm";e[e.Pica=3]="Pica";e[e.Point=4]="Point";e[e.Twip=5]="Twip";e[e.InHs=6]="InHs";e[e.Display=7]="Display";e[e.Cm=8]="Cm";e[e.Dip=9]="Dip"}(o=t._UnitType||(t._UnitType={}));var n=function(){function _Unit(t,n){void 0===n&&(n=o.Dip);_Unit._initUnitTypeDic();if(e.isObject(t)){var i=t;t=i.value;n=i.units}else if(e.isString(t)){var r=parseFloat(t);if(!isNaN(r)){n=_Unit._unitTypeDic[t.substr(r.toString().length)];t=r}}this._value=t;this._units=n;this._valueInPixel=_Unit.convertValue(t,n,o.Dip)}_Unit._initUnitTypeDic=function(){if(!_Unit._unitTypeDic){_Unit._unitTypeDic={};for(var e in _Unit._unitTypes)_Unit._unitTypeDic[_Unit._unitTypeDic[e]=_Unit._unitTypes[e]]=e}};Object.defineProperty(_Unit.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0});Object.defineProperty(_Unit.prototype,"units",{get:function(){return this._units},enumerable:!0,configurable:!0});Object.defineProperty(_Unit.prototype,"valueInPixel",{get:function(){return this._valueInPixel},enumerable:!0,configurable:!0});_Unit.prototype.toString=function(){return _Unit.toString(this)};_Unit.toString=function(e){return null==e.value?"":e.value+_Unit._unitTypeDic[e.units]};_Unit.convertValue=function(e,t,n){if(t===n)return e;var i;switch(t){case o.Document:i=e/_Unit._DocumentUnitsPerInch;break;case o.Inch:i=e;break;case o.Mm:i=e/_Unit._MmPerInch;break;case o.Pica:i=e/_Unit._PicaPerInch;break;case o.Point:i=e/_Unit._PointsPerInch;break;case o.Twip:i=e/_Unit._TwipsPerInch;break;case o.InHs:i=e/100;break;case o.Display:i=e/_Unit._DisplayPerInch;break;case o.Cm:i=e/_Unit._CmPerInch;break;case o.Dip:i=e/_Unit._DipPerInch;break;default:throw"Invalid from _UnitType: "+t}switch(n){case o.Document:return i*_Unit._DocumentUnitsPerInch;case o.Inch:return i;case o.Mm:return i*_Unit._MmPerInch;case o.Pica:return i*_Unit._PicaPerInch;case o.Point:return i*_Unit._PointsPerInch;case o.Twip:return i*_Unit._TwipsPerInch;case o.InHs:return 100*i;case o.Display:return i*_Unit._DisplayPerInch;case o.Cm:return i*_Unit._CmPerInch;case o.Dip:return i*_Unit._DipPerInch;default:throw"Invalid to _UnitType: "+n}};_Unit._MmPerInch=25.4;_Unit._DocumentUnitsPerInch=300;_Unit._PointsPerInch=72;_Unit._TwipsPerInch=1440;_Unit._PicaPerInch=6;_Unit._CmPerInch=_Unit._MmPerInch/10;_Unit._DisplayPerInch=75;_Unit._DipPerInch=96;_Unit._unitTypes={doc:o.Document,in:o.Inch,mm:o.Mm,pc:o.Pica,pt:o.Point,tw:o.Twip,inhs:o.InHs,dsp:o.Display,cm:o.Cm,dip:o.Dip,px:o.Dip};return _Unit}();t._Unit=n}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";var t=function(){function _Promise(){this._callbacks=[];this._finished=!1}Object.defineProperty(_Promise.prototype,"isFinished",{get:function(){return this._finished},enumerable:!0,configurable:!0});_Promise.prototype.cancel=function(){this._finished=!0};_Promise.prototype.then=function(e,t){this._callbacks.push({onFulfilled:e,onRejected:t});return this};_Promise.prototype.catch=function(e){return this.then(null,e)};_Promise.prototype.resolve=function(e){var t=this;setTimeout((function(){try{t.onFulfilled(e)}catch(e){t.onRejected(e)}}),0);return this};_Promise.prototype.reject=function(e){var t=this;setTimeout((function(){t.onRejected(e)}),0);return this};_Promise.prototype.onFulfilled=function(e){if(!this._finished){this._finished=!0;for(var t;t=this._callbacks.shift();)if(t.onFulfilled){var o=t.onFulfilled(e);void 0!==o&&(e=o)}}};_Promise.prototype.onRejected=function(e){if(!this._finished){this._finished=!0;for(var t;t=this._callbacks.shift();)if(t.onRejected){var o=t.onRejected(e);this.onFulfilled(o);return}throw e}};return _Promise}();e._Promise=t;var o=function(e){__extends(_CompositedPromise,e);function _CompositedPromise(t){var o=e.call(this)||this;o._promises=t;o._init();return o}_CompositedPromise.prototype._init=function(){var e=this;if(this._promises&&this._promises.length){var t=this._promises.length,o=0,n=[],i=!1;this._promises.some((function(r){r.then((function(r){if(!i){n.push(r);++o>=t&&e.resolve(n)}})).catch((function(t){i=!0;e.reject(t)}));return i}))}else this.reject("No promises in current composited promise.")};return _CompositedPromise}(t);e._CompositedPromise=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){e.viewer||(e.viewer={})}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o="__wjEvents";t._abstractMethodExceptionText="It is an abstract method, please implement it.";t._hiddenCss="hidden";t._pointMove=function _pointMove(t,o,n,i){var r,a=t?1:-1;if(n instanceof e.Point){r=n.x;i=n.y}else{r=n;i=i||0}return new e.Point(o.x+a*r,o.y+a*i)};t._disableCache=function _disableCache(e){return e+(-1==e.indexOf("?")?"?":"&")+"_="+(new Date).getTime()};t._removeChildren=function _removeChildren(t,o){if(t&&t.children)for(var n=t.children,i=n.length-1;i>-1;i--){var r=n[i];if(null==o||o(r)){var a=r.querySelector(".wj-control");a&&(a=e.Control.getControl(a))&&a.dispose();t.removeChild(r)}}};t._toDOMs=function _toDOMs(e){var t,o=document.createElement("div"),n=document.createDocumentFragment();o.innerHTML=e;for(;t=o.firstChild;)n.appendChild(t);return n};t._addEvent=function _addEvent(e,t,o,n){for(var i,r=t.split(","),a=0;a<r.length;a++){i=r[a].trim();e.addEventListener?e.addEventListener(i,o,n):e.attachEvent?e.attachEvent("on"+i,o):e["on"+i]=o}};t._removeEvent=function _removeEvent(e,t,o){for(var n,i=t.split(","),r=0;r<i.length;r++){n=i[r].trim();e.removeEventListener?e.removeEventListener(n,o):e.detachEvent?e.detachEvent("on"+n,o):e["on"+n]=null}};t._addWjHandler=function _addWjHandler(e,t,n,i){if(e){var r=t[o];r||(r=t[o]={});var a=r[e];a||(a=r[e]=[]);a.push(n)}t.addHandler(n,i)};t._removeAllWjHandlers=function _removeAllWjHandlers(e,t){if(e){var n=t[o];if(n){var i=n[e];i&&i.forEach((function(e){return t.removeHandler(e)}))}}};t._getErrorMessage=function _getErrorMessage(o){var n;if(t._ArReportService.IsError(o))n=o.json.Error.Description;else{n=o;if(o.Message){n=o.Message;o.ExceptionMessage&&(n+="<br/>"+o.ExceptionMessage)}}return n||e.culture.Viewer.errorOccured};function _twipToPixel(e){return t._Unit.convertValue(e,t._UnitType.Twip,t._UnitType.Dip)}t._twipToPixel=_twipToPixel;t._pixelToTwip=function _pixelToTwip(e){return t._Unit.convertValue(e,t._UnitType.Dip,t._UnitType.Twip)};t._transformSvg=function _transformSvg(o,n,i,r,a){r=null==r?1:r;var s=o.querySelector("g");if(s){var c="scale("+r+")";if(null!=a)switch(a){case t._RotateAngle.Rotation90:c+=" rotate(90)";c+=" translate(0 "+-i+")";break;case t._RotateAngle.Rotation180:c+=" rotate(180)";c+=" translate("+-n+" "+-i+")";break;case t._RotateAngle.Rotation270:c+=" rotate(270)";c+=" translate("+-n+" 0)"}s.setAttribute("transform",c);if(e.isIE){(o=s.parentNode).removeChild(s);o.appendChild(s)}}return o};t._getTransformedPosition=function _getTransformedPosition(o,n,i,r){var a,s,c={x:_twipToPixel(o.x),y:_twipToPixel(o.y),width:_twipToPixel(o.width),height:_twipToPixel(o.height)};switch(i){case t._RotateAngle.NoRotate:a=c.y;s=c.x;break;case t._RotateAngle.Rotation90:a=c.x;s=n.height.valueInPixel-c.y-c.height;break;case t._RotateAngle.Rotation180:a=n.height.valueInPixel-c.y-c.height;s=n.width.valueInPixel-c.x-c.width;break;case t._RotateAngle.Rotation270:a=n.width.valueInPixel-c.x-c.width;s=c.y}return new e.Point(s*r,a*r)};t._getRotatedSize=function _getRotatedSize(e,o){return o===t._RotateAngle.NoRotate||o===t._RotateAngle.Rotation180?e:{width:e.height,height:e.width}};t._strEndsWith=function _strEndsWith(e,t,o){void 0===o&&(o=!1);return o?e.slice(-t.length).toLowerCase()===t.toLowerCase():e.slice(-t.length)===t};t._isEqual=function _isEqual(t,o){return t&&o&&e.isFunction(t.valueOf)&&e.isFunction(o.valueOf)?t.valueOf()===o.valueOf():t===o}}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ParametersEditor,o);function _ParametersEditor(t){var n=o.call(this,t)||this;n._parameters={};n._errors=[];n._errorsVisible=!1;n._savingParam=!1;n.commit=new e.Event;n.validate=new e.Event;e.addClass(n.hostElement,"wj-parameterscontainer");n._updateErrorsVisible();return n}_ParametersEditor.prototype._setErrors=function(e){this._errors=e;this._updateErrorDiv()};Object.defineProperty(_ParametersEditor.prototype,"parameters",{get:function(){return this._parameters},enumerable:!0,configurable:!0});Object.defineProperty(_ParametersEditor.prototype,"itemsSource",{get:function(){return this._itemSources},set:function(e){this._itemSources=e;this._parameters={};this._render();var t=[];(e||[]).forEach((function(e){e.error&&t.push({key:e.name,value:e.error})}));this._setErrors(t)},enumerable:!0,configurable:!0});Object.defineProperty(_ParametersEditor.prototype,"savingParam",{set:function(e){this._savingParam=e},enumerable:!0,configurable:!0});_ParametersEditor.prototype._reset=function(){this._lastEditedParam=null};_ParametersEditor.prototype._setErrorsVisible=function(e){this._errorsVisible=e;this._updateErrorsVisible()};_ParametersEditor.prototype._updateErrorsVisible=function(){this._errorsVisible?e.removeClass(this.hostElement,_ParametersEditor._errorsHiddenCss):e.addClass(this.hostElement,_ParametersEditor._errorsHiddenCss)};_ParametersEditor.prototype.onCommit=function(){this.commit.raise(this)};_ParametersEditor.prototype.onValidate=function(){this.validate.raise(this);this._setErrorsVisible(!1)};_ParametersEditor.prototype._deferValidate=function(e,t,o){var n=this;if(null!=this._validateTimer){clearTimeout(this._validateTimer);this._validateTimer=null}this._savingParam=!0;this._validateTimer=setTimeout((function(){null!=t&&t();n.onValidate();null!=o&&o();n._lastEditedParam=e;n._validateTimer=null}),500)};_ParametersEditor.prototype._updateErrorDiv=function(){for(var e=this._errors||[],t=this.hostElement.querySelectorAll(".error"),o=0;o<t.length;o++)t[o].parentNode.removeChild(t[o]);for(o=0;o<e.length;o++){var n,i=this.hostElement.querySelector("*["+_ParametersEditor._paramIdAttr+'="'+e[o].key+'"]'),r=e[o].value;if(i){(n=document.createElement("div")).innerHTML=r;n.className="error";i.appendChild(n)}}};_ParametersEditor.prototype._render=function(){var o,n=this;t._removeChildren(this.hostElement,(function(e){if(!n._lastEditedParam||e.getAttribute(_ParametersEditor._paramIdAttr)!==n._lastEditedParam)return!0;o=e}));if(this._itemSources){this._itemSources.forEach((function(i){if(n._lastEditedParam!==i.name){if(!i.hidden){var r=document.createElement("div"),a=document.createElement("span"),s=null;r.className="wj-parametercontainer";a.className="wj-parameterhead";a.innerHTML=i.prompt||i.name;if(e.isArray(i.allowedValues))s=n._generateComboEditor(i);else switch(i.dataType){case t._ParameterType.Boolean:s=n._generateBoolEditor(i);break;case t._ParameterType.DateTime:case t._ParameterType.Time:case t._ParameterType.Date:s=n._generateDateTimeEditor(i);break;case t._ParameterType.Integer:case t._ParameterType.Float:s=n._generateNumberEditor(i);break;case t._ParameterType.String:s=n._generateStringEditor(i)}if(s){s.className+=" wj-parametercontrol";r.setAttribute(_ParametersEditor._paramIdAttr,i.name);r.appendChild(a);r.appendChild(s);o?n.hostElement.insertBefore(r,o):n.hostElement.appendChild(r)}}}else{n._lastEditedParam=null;o=null}}));var i=document.createElement("input");i.type="button";i.value=e.culture.Viewer.apply;i.className="wj-applybutton";var clickHandler=function(){if(n._savingParam)setTimeout(clickHandler,100);else{if(n._validateParameters()){n._errors=[];n.onCommit()}n._setErrorsVisible(!0)}};t._addEvent(i,"click",clickHandler);this.hostElement.appendChild(i)}};_ParametersEditor.prototype.refresh=function(e){void 0===e&&(e=!0);o.prototype.refresh.call(this,e);if(e){this._reset();this._render()}};_ParametersEditor.prototype._validateParameters=function(){for(var o,n=this.hostElement.querySelectorAll("textarea"),i=[],r=this.itemsSource,a=0;a<r.length;a++){var s=r[a];o=this.hostElement.querySelector("["+_ParametersEditor._paramIdAttr+'="'+s.name+'"]');null!=s.value&&""!==s.value||s.nullable||s.dataType===t._ParameterType.String&&s.allowBlank||this.parameters.hasOwnProperty(s.name)||this.parameters[s.name]||o&&i.push({key:s.name,value:e.culture.Viewer.nullParameterError})}for(a=0;a<n.length;a++){var c=n.item(a),u=!0;switch(parseInt(c.getAttribute("data-type"))){case t._ParameterType.Date:case t._ParameterType.DateTime:case t._ParameterType.Time:u=_ParametersEditor._checkValueType(c.value,e.isDate);break;case t._ParameterType.Float:u=_ParametersEditor._checkValueType(c.value,_ParametersEditor._isFloat);break;case t._ParameterType.Integer:u=_ParametersEditor._checkValueType(c.value,e.isInt)}u||i.push({key:c.parentElement.id,value:e.culture.Viewer.invalidParameterError})}this._setErrors(i);return i.length<=0};_ParametersEditor._isFloat=function(e){return!isNaN(parseFloat(e))};_ParametersEditor._checkValueType=function(e,t){for(var o=e.split("\n"),n=0;n<o.length;n++)if(!(o[n].trim().length<=0||t(o[n].trim())))return!1;return!0};_ParametersEditor.prototype._generateComboEditor=function(o){var n,i,r,a=this,s=[],c=document.createElement("div"),u=[],l=o.allowedValues&&o.allowedValues.length>0,p=l&&o.allowedValues.filter((function(e){return t._isEqual(e.value,o.value)})).length>0;if(o.multiValue)n=new t._MultiSelectEx(c);else{n=new e.input.ComboBox(c);o.nullable?s.push({name:e.culture.Viewer.parameterNoneItemsSelected,value:null}):!l||null!=o.value&&p||s.push({name:e.culture.Viewer.selectParameterValue,value:null})}n.isEditable=!1;n.displayMemberPath="name";n.selectedValuePath="value";n.isDisabled=!l;for(var h=0;h<o.allowedValues.length;h++)s.push({name:o.allowedValues[h].key,value:o.allowedValues[h].value});n.itemsSource=s;if(o.multiValue){i=n;if(l){if(o.value){for(h=0;h<o.value.length;h++)for(var d=0;d<i.itemsSource.length;d++)if(t._isEqual(i.itemsSource[d].value,o.value[h])){u.push(i.itemsSource[d]);break}i.checkedItems=u}}else i.checkedItems=[];i.lostFocus.addHandler((function(){var e=i.checkedItems.length===(o.value||[]).length;if(e)for(var t=0;t<i.checkedItems.length;t++)i.checkedItems[t].value!==o.value[t]&&(e=!1);e||a._deferValidate(o.name,(function(){r=[];for(var e=0;e<i.checkedItems.length;e++)r.push(i.checkedItems[e].value);a._updateParameters(o,r)}),(function(){r.length>0&&!o.nullable&&a._validateNullValueOfParameter(c)}))}))}else{n.selectedValue=l&&p?o.value:null;var _=!1;n.selectedIndexChanged.addHandler((function(t){o.value!==t.selectedValue&&a._deferValidate(o.name,(function(){if(!_){a._updateParameters(o,t.selectedValue);t.selectedValue&&t.itemsSource[0].name===e.culture.Viewer.selectParameterValue&&setTimeout((function(){_=!0;var e=t.selectedValue,o=t.selectedIndex;t.itemsSource.shift();t.collectionView.refresh();t.selectedValue=e;t.selectedIndex=o-1;_=!1}))}}),(function(){return a._validateNullValueOfParameter(c)}))}))}return c};_ParametersEditor.prototype._updateParameters=function(t,o){var n;this.itemsSource.some((function(e){if(e.name===t.name){n=e;return!0}return!1}));this._parameters[t.name]=n.value=t.value=function(t,o){return o&&e.isString(t)?t.split(/[\r\n]+/):t}(o,t.multiValue)};_ParametersEditor.prototype._generateBoolEditor=function(o){var n,i,r=this,a=[];if(o.nullable){i=document.createElement("div");(n=new e.input.ComboBox(i)).isEditable=!1;n.displayMemberPath="name";n.selectedValuePath="value";a.push({name:"None",value:null});a.push({name:"True",value:!0});a.push({name:"False",value:!1});n.itemsSource=a;n.selectedValue=o.value;n.lostFocus.addHandler((function(e){o.value!==e.selectedValue&&r._deferValidate(o.name,(function(){return r._updateParameters(o,e.selectedValue)}))}))}else{(i=document.createElement("input")).type="checkbox";i.checked=o.value;t._addEvent(i,"click",(function(){r._deferValidate(o.name,(function(){return r._updateParameters(o,i.checked)}))}))}return i};_ParametersEditor.prototype._generateStringEditor=function(e){var t;if(e.multiValue){t=this._createTextarea(e.value,e.dataType);e.maxLength>0&&(t.maxLength=e.maxLength)}else{(t=document.createElement("input")).type="text";e.value&&(t.value=e.value);e.maxLength>0&&(t.maxLength=e.maxLength)}this._bindTextChangedEvent(t,e,"focusout");return t};_ParametersEditor.prototype._createTextarea=function(o,n){var i,r=document.createElement("textarea"),a=[];n!==t._ParameterType.DateTime&&n!==t._ParameterType.Time&&n!==t._ParameterType.Date||(i=_ParametersEditor._dateTimeFormat);if(o&&o.length>0)if(i){for(var s=0;s<o.length;s++)a.push(e.Globalize.formatDate(new Date(o[s]),i));r.value=a.join("\n")}else r.value=o.join("\n");r.wrap="off";r.setAttribute("data-type",n.toString());return r};_ParametersEditor.prototype._bindTextChangedEvent=function(o,n,i){var r=this;void 0===i&&(i="change,keyup,paste,input");t._addEvent(o,i,(function(t){if(!t.target||!t.target.disabled){var i=!1;if(e.isArray(n.value)){for(var a=o.value.split("\n"),s=0,c=0;c<a.length;c++)n.value[c]!=a[c]&&(s+=1);i=0===s}n.value===o.value||i||r._deferValidate(n.name,(function(){return r._updateParameters(n,o.value)}),(function(){o.value&&!n.nullable&&r._validateNullValueOfParameter(o)}))}}))};_ParametersEditor.prototype._generateNumberEditor=function(o){var n,i,r=this;if(o.multiValue){n=this._createTextarea(o.value,o.dataType);this._bindTextChangedEvent(n,o,"focusout")}else{n=document.createElement("div");(i=new e.input.InputNumber(n)).format=o.dataType===t._ParameterType.Integer?"n0":"n2";i.isRequired=!o.nullable;o.value&&(i.value=o.dataType===t._ParameterType.Integer?parseInt(o.value):parseFloat(o.value));i.lostFocus.addHandler((function(){o.value!==i.value&&r._deferValidate(o.name,(function(){return r._updateParameters(o,i.value)}))}))}return n};_ParametersEditor.prototype._generateDateTimeEditor=function(o){var n,i,r=this;if(o.multiValue){(n=this._createTextarea(o.value,o.dataType)).title=_ParametersEditor._dateTimeFormat;this._bindTextChangedEvent(n,o,"focusout")}else{n=document.createElement("div");o.dataType==t._ParameterType.Date?i=new e.input.InputDate(n):o.dataType==t._ParameterType.DateTime?(i=new e.input.InputDateTime(n)).timeStep=60:(i=new e.input.InputTime(n)).step=60;i.isRequired=!1;null!=o.value?i.value=new Date(o.value):i.value=null;i.isRequired=!o.nullable;i.valueChanged.addHandler((function(){r._deferValidate(o.name,(function(){return r._updateParameters(o,i.value)}))}))}return n};_ParametersEditor.prototype._validateNullValueOfParameter=function(e){var t=this._errors;if(t&&t.length)for(var o=0;o<t.length;o++)if(t[o].key===e.parentElement.getAttribute(_ParametersEditor._paramIdAttr)){var n=e.parentElement.querySelector(".error");if(n){e.parentElement.removeChild(n);t.splice(o,1);break}}};_ParametersEditor._paramIdAttr="param-id";_ParametersEditor._errorsHiddenCss="wj-parametererrors-hidden";_ParametersEditor._dateTimeFormat="MM/dd/yyyy HH:mm";return _ParametersEditor}(e.Control);t._ParametersEditor=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";t._statusJsonReviver=function _statusJsonReviver(o,n){if(e.isString(n)){if(t._strEndsWith(o,"DateTime"))return new Date(n);if("width"===o||"height"===o||t._strEndsWith(o,"Margin"))return new t._Unit(n)}return n};t._pageSettingsJsonReviver=function _pageSettingsJsonReviver(o,n){return e.isString(n)&&("width"===o||"height"===o||t._strEndsWith(o,"Margin"))?new t._Unit(n):n};t._appendQueryString=function _appendQueryString(e,t){t=t||{};var o=[];for(var n in t)o.push(n+"="+t[n]);if(o.length){var i=e.indexOf("?")<0?"?":"&";e+=i+o.join("&")}return e};t._joinUrl=function _joinUrl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=[],n=0,i=e.length;n<i;n++){var r=e[n];r&&("string"!=typeof r?o=o.concat(_joinStringUrl(r)):o.push(_prepareStringUrl(r).join("/")))}return o.join("/")};function _joinStringUrl(e){if(null==e)return null;for(var t=[],o=0,n=e.length;o<n;o++)t=t.concat(_prepareStringUrl(e[o]));return t}t._joinStringUrl=_joinStringUrl;function _prepareStringUrl(e){var t=e.split("/");t.length>0&&!t[t.length-1].length&&t.splice(t.length-1);return t}t._prepareStringUrl=_prepareStringUrl}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";e._parseReportExecutionInfo=function _parseReportExecutionInfo(t){return JSON.parse(t,e._statusJsonReviver)}}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o;!function(e){e[e.Start=0]="Start";e[e.Move=1]="Move";e[e.End=2]="End"}(o=t._TouchEventType||(t._TouchEventType={}));var n=function(e){__extends(_TouchEventArgs,e);function _TouchEventArgs(n){var i=e.call(this)||this;if(n instanceof _TouchEventArgs){i._systemEvent=n.systemEvent;i._type=n.type;i._touchInfos=n.touchInfos;return i}i._systemEvent=n;t._TouchManager._registerTouchInfo(n);i._type=t._TouchManager._isTouchStart(n.type)?o.Start:t._TouchManager._isTouchEnd(n.type)?o.End:o.Move;i._touchInfos=t._TouchManager._allTouchInfos?t._TouchManager._allTouchInfos.slice():[];return i}Object.defineProperty(_TouchEventArgs.prototype,"timeStamp",{get:function(){return this.systemEvent.timeStamp},enumerable:!0,configurable:!0});Object.defineProperty(_TouchEventArgs.prototype,"touchInfos",{get:function(){return this._touchInfos},enumerable:!0,configurable:!0});Object.defineProperty(_TouchEventArgs.prototype,"systemEvent",{get:function(){return this._systemEvent},enumerable:!0,configurable:!0});Object.defineProperty(_TouchEventArgs.prototype,"target",{get:function(){return this.systemEvent.target},enumerable:!0,configurable:!0});Object.defineProperty(_TouchEventArgs.prototype,"currentTarget",{get:function(){return this.systemEvent.currentTarget},enumerable:!0,configurable:!0});Object.defineProperty(_TouchEventArgs.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0});Object.defineProperty(_TouchEventArgs.prototype,"pointersCount",{get:function(){return this.touchInfos.length},enumerable:!0,configurable:!0});Object.defineProperty(_TouchEventArgs.prototype,"cancelBubble",{get:function(){return this._systemEvent.cancelBubble},set:function(e){this._systemEvent.cancelBubble=e},enumerable:!0,configurable:!0});_TouchEventArgs.prototype.preventDefault=function(){this._systemEvent.preventDefault()};return _TouchEventArgs}(e.EventArgs);t._TouchEventArgs=n;var i=function(e){__extends(_TouchEvent,e);function _TouchEvent(){return null!==e&&e.apply(this,arguments)||this}_TouchEvent.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)};return _TouchEvent}(e.Event);t._TouchEvent=i;var r=function(){function _TouchTrigger(o){var n=this;this.touchMove=new i;this.touchStart=new i;this.touchEnd=new i;var r=e.getElement(o);this._element=r;var a=_TouchTrigger.getTrigger(r);if(a){var s=this._onTouchEvent.bind(this);a.touchMove.addHandler(s);a.touchStart.addHandler(s);a.touchEnd.addHandler(s);this._disposeAction=function(){a.touchMove.removeHandler(s);a.touchStart.removeHandler(s);a.touchEnd.removeHandler(s);n._disposeAction=null}}else{var c=t._getTouchEventMap(),u=this._onSystemTouchEvent.bind(this);t._addEvent(r,c.startName,u);t._addEvent(r,c.moveName,u);t._addEvent(r,c.endName,u);_TouchTrigger.bindElement(r,this);this._disposeAction=function(){t._removeEvent(r,c.startName,u);t._removeEvent(r,c.moveName,u);t._removeEvent(r,c.endName,u);_TouchTrigger.unbindElement(r);n._disposeAction=null}}}_TouchTrigger.bindElement=function(e,t){if(e[_TouchTrigger._elementDataName])throw"Cannot bind multi _TouchTrigger on the same element.";e[_TouchTrigger._elementDataName]=t};_TouchTrigger.unbindElement=function(e){e[_TouchTrigger._elementDataName]=null};_TouchTrigger.getTrigger=function(e){return e[_TouchTrigger._elementDataName]};_TouchTrigger.prototype._onSystemTouchEvent=function(e){var t=this._createTouchEventArgs(e);t&&this._onTouchEvent(this,t)};_TouchTrigger.prototype._createTouchEventArgs=function(e){return t._TouchManager._isTouchEvent(e)?new n(e):null};_TouchTrigger.prototype.dispose=function(){this._disposeAction&&this._disposeAction()};Object.defineProperty(_TouchTrigger.prototype,"hostElement",{get:function(){return this._element},enumerable:!0,configurable:!0});_TouchTrigger.prototype._onTouchEvent=function(e,t){switch(t.type){case o.Start:this.onTouchStart(t);return;case o.Move:this.onTouchMove(t);return;case o.End:this.onTouchEnd(t)}};_TouchTrigger.prototype.onTouchEnd=function(e){this.touchEnd.raise(this,e)};_TouchTrigger.prototype.onTouchStart=function(e){this.touchStart.raise(this,e)};_TouchTrigger.prototype.onTouchMove=function(e){this.touchMove.raise(this,e)};_TouchTrigger._elementDataName="__wjTouchTrigger";return _TouchTrigger}();t._TouchTrigger=r}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_PinchEventArgs,o);function _PinchEventArgs(n,i,r){var a=o.call(this,n)||this;a._zoom=1;a._pinchType=i;a._pre=r||{};if(a.type==t._TouchEventType.End)return a;a._pinchDistance=t._TouchInfo.getDistance(a.touchInfos[0],a.touchInfos[1]);a._centerClient=t._TouchInfo.getCenterClient(a.touchInfos[0],a.touchInfos[1]);a._centerScreen=t._TouchInfo.getCenterScreen(a.touchInfos[0],a.touchInfos[1]);if(a.type==t._TouchEventType.Start)return a;a._zoom=a.pinchDistance/a.prePinchDistance;a._centerClientDelta=new e.Point(a.centerClient.x-a.preCenterClient.x,a.centerClient.y-a.preCenterClient.y);a._centerScreenDelta=new e.Point(a.centerScreen.x-a.preCenterScreen.x,a.centerScreen.y-a.preCenterScreen.y);return a}Object.defineProperty(_PinchEventArgs.prototype,"zoom",{get:function(){return this._zoom},enumerable:!0,configurable:!0});Object.defineProperty(_PinchEventArgs.prototype,"pointersCount",{get:function(){return this.type==t._TouchEventType.End?0:2},enumerable:!0,configurable:!0});Object.defineProperty(_PinchEventArgs.prototype,"prePinchDistance",{get:function(){return this._pre.pinchDistance},enumerable:!0,configurable:!0});Object.defineProperty(_PinchEventArgs.prototype,"pinchDistance",{get:function(){return this._pinchDistance},enumerable:!0,configurable:!0});Object.defineProperty(_PinchEventArgs.prototype,"centerScreenDelta",{get:function(){return this._centerScreenDelta},enumerable:!0,configurable:!0});Object.defineProperty(_PinchEventArgs.prototype,"centerClientDelta",{get:function(){return this._centerClientDelta},enumerable:!0,configurable:!0});Object.defineProperty(_PinchEventArgs.prototype,"centerClient",{get:function(){return this._centerClient},enumerable:!0,configurable:!0});Object.defineProperty(_PinchEventArgs.prototype,"preCenterClient",{get:function(){return this._pre.centerClient},enumerable:!0,configurable:!0});Object.defineProperty(_PinchEventArgs.prototype,"centerScreen",{get:function(){return this._centerScreen},enumerable:!0,configurable:!0});Object.defineProperty(_PinchEventArgs.prototype,"preCenterScreen",{get:function(){return this._pre.centerScreen},enumerable:!0,configurable:!0});Object.defineProperty(_PinchEventArgs.prototype,"type",{get:function(){return this._pinchType},enumerable:!0,configurable:!0});return _PinchEventArgs}(t._TouchEventArgs);t._PinchEventArgs=o;var n=function(e){__extends(_PinchEvent,e);function _PinchEvent(){return null!==e&&e.apply(this,arguments)||this}_PinchEvent.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)};return _PinchEvent}(t._TouchEvent);t._PinchEvent=n;var i=function(e){__extends(_PinchTrigger,e);function _PinchTrigger(){var t=null!==e&&e.apply(this,arguments)||this;t.pinch=new n;return t}_PinchTrigger.prototype.onPinch=function(e){this.pinch.raise(this,e)};_PinchTrigger.prototype.onTouchStart=function(e){this._process(e)};_PinchTrigger.prototype.onTouchend=function(e){this._process(e)};_PinchTrigger.prototype.onTouchMove=function(e){this._process(e)};_PinchTrigger.prototype._onPinching=function(e){var n=new o(e,this._preEventArgs?t._TouchEventType.Move:t._TouchEventType.Start,this._preEventArgs);this.onPinch(n);this._preEventArgs=n};_PinchTrigger.prototype._onPinchEnd=function(e){if(this._preEventArgs){var n=new o(e,t._TouchEventType.End,this._preEventArgs);this.onPinch(n);this._preEventArgs=null}};_PinchTrigger.prototype._process=function(e){if(2==e.pointersCount)switch(e.type){case t._TouchEventType.Start:case t._TouchEventType.Move:this._onPinching(e);return;case t._TouchEventType.End:this._onPinchEnd(e);return}else this._onPinchEnd(e)};return _PinchTrigger}(t._TouchTrigger);t._PinchTrigger=i}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_PanEventArgs,o);function _PanEventArgs(t,n,i){var r=o.call(this,t)||this;r._panType=null==i?t.type:i;r._client=new e.Point(r.touchInfo.clientX,r.touchInfo.clientY);r._screen=new e.Point(r.touchInfo.screenX,r.touchInfo.screenY);if(n){r._clientDelta=new e.Point(r.client.x-n.client.x,r.client.y-n.client.y);r._screenDelta=new e.Point(r.screen.x-n.screen.x,r.screen.y-n.screen.y)}return r}Object.defineProperty(_PanEventArgs.prototype,"type",{get:function(){return this._panType},enumerable:!0,configurable:!0});Object.defineProperty(_PanEventArgs.prototype,"clientDelta",{get:function(){return this._clientDelta},enumerable:!0,configurable:!0});Object.defineProperty(_PanEventArgs.prototype,"screenDelta",{get:function(){return this._screenDelta},enumerable:!0,configurable:!0});Object.defineProperty(_PanEventArgs.prototype,"client",{get:function(){return this._client},enumerable:!0,configurable:!0});Object.defineProperty(_PanEventArgs.prototype,"screen",{get:function(){return this._screen},enumerable:!0,configurable:!0});Object.defineProperty(_PanEventArgs.prototype,"pointersCount",{get:function(){return this.type==t._TouchEventType.End?0:1},enumerable:!0,configurable:!0});Object.defineProperty(_PanEventArgs.prototype,"touchInfo",{get:function(){return this.touchInfos[0]||{}},enumerable:!0,configurable:!0});return _PanEventArgs}(t._TouchEventArgs);t._PanEventArgs=o;var n=function(e){__extends(_PanEvent,e);function _PanEvent(){return null!==e&&e.apply(this,arguments)||this}_PanEvent.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)};return _PanEvent}(t._TouchEvent);t._PanEvent=n;var i=function(e){__extends(_PanTrigger,e);function _PanTrigger(){var t=null!==e&&e.apply(this,arguments)||this;t.panMove=new n;t.panStart=new n;t.panEnd=new n;return t}_PanTrigger.prototype.onPanEnd=function(e){this.panEnd.raise(this,e)};_PanTrigger.prototype.onPanStart=function(e){this.panStart.raise(this,e)};_PanTrigger.prototype.onPanMove=function(e){this.panMove.raise(this,e)};_PanTrigger.prototype._prepareMove=function(e){var t=this;this._prePanEventArgs=e;this._panEvents.queue((function(){t.onPanMove(e)}))};_PanTrigger.prototype._prepareStart=function(e){var t=this;this._prePanEventArgs=e;this._panEvents.queue((function(){t.onPanStart(e)}));this._clearPanStartTimer();this._panStartTimer=setTimeout((function(){t._panEvents&&t._panEvents.start();t._clearPanStartTimer()}),_PanTrigger._threhold)};_PanTrigger.prototype._prepareEnd=function(e){var n=this;this._prePanEventArgs=null;this._panEvents.queue((function(){var i=e instanceof o?e:new o(e,null,t._TouchEventType.End);n.onPanEnd(i);n._stopPan()}))};_PanTrigger.prototype._clearPanStartTimer=function(){if(null!=this._panStartTimer){clearTimeout(this._panStartTimer);this._panStartTimer=null}};_PanTrigger.prototype._tryStopPan=function(e){this._panEvents&&this._panEvents.isStarted?this._prepareEnd(e):this._stopPan()};_PanTrigger.prototype._stopPan=function(){this._clearPanStartTimer();this._panEvents=null;this._prePanEventArgs=null};_PanTrigger.prototype._processPan=function(e){var o=this._createPanEventArgs(e);if(o)switch(o.type){case t._TouchEventType.Start:this._prepareStart(o);return;case t._TouchEventType.Move:this._prepareMove(o);return;case t._TouchEventType.End:this._prepareEnd(o);return}else this._tryStopPan(e)};_PanTrigger.prototype.onTouchStart=function(t){e.prototype.onTouchStart.call(this,t);this._processPan(t)};_PanTrigger.prototype.onTouchMove=function(t){e.prototype.onTouchMove.call(this,t);this._processPan(t)};_PanTrigger.prototype.onTouchEnd=function(t){e.prototype.onTouchEnd.call(this,t);var o=this._createPanEventArgs(t);o?this._prepareEnd(o):this._tryStopPan(t)};_PanTrigger.prototype._createPanEventArgs=function(e){if(e.type==t._TouchEventType.End&&0!=e.pointersCount||e.type!=t._TouchEventType.End&&1!=e.pointersCount)return null;var n=new o(e,this._prePanEventArgs);if(n.type!=t._TouchEventType.Start){if(!this._panEvents)return null}else this._panEvents=new t._ActionQueue;return n};_PanTrigger._threhold=10;return _PanTrigger}(t._TouchTrigger);t._PanTrigger=i}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_SwipeEventArgs,o);function _SwipeEventArgs(n,r,a,s){var c=o.call(this,a)||this;c._duration=s;c._startTouchInfo=n;c._endTouchInfo=r;var u=t._pointMove(!1,new e.Point(c.endTouchInfo.clientX,c.endTouchInfo.clientY),new e.Point(c.startTouchInfo.clientX,c.startTouchInfo.clientY));c._speed=new e.Point(i.getSpeed(u.x,c.duration),i.getSpeed(u.y,c.duration));c._direction=t._TouchInfo._getDirection(c.startTouchInfo,c.endTouchInfo);return c}Object.defineProperty(_SwipeEventArgs.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0});Object.defineProperty(_SwipeEventArgs.prototype,"startTouchInfo",{get:function(){return this._startTouchInfo},enumerable:!0,configurable:!0});Object.defineProperty(_SwipeEventArgs.prototype,"endTouchInfo",{get:function(){return this._endTouchInfo},enumerable:!0,configurable:!0});Object.defineProperty(_SwipeEventArgs.prototype,"speed",{get:function(){return this._speed},enumerable:!0,configurable:!0});Object.defineProperty(_SwipeEventArgs.prototype,"pointersCount",{get:function(){return 1},enumerable:!0,configurable:!0});Object.defineProperty(_SwipeEventArgs.prototype,"direction",{get:function(){return this._direction},enumerable:!0,configurable:!0});return _SwipeEventArgs}(t._PanEventArgs);t._SwipeEventArgs=o;var n=function(e){__extends(_SwipeEvent,e);function _SwipeEvent(){return null!==e&&e.apply(this,arguments)||this}_SwipeEvent.prototype.raise=function(t,o){e.prototype.raise.call(this,t,o)};return _SwipeEvent}(t._PanEvent);t._SwipeEvent=n;var i=function(e){__extends(_SwipeTrigger,e);function _SwipeTrigger(){var t=null!==e&&e.apply(this,arguments)||this;t.swipe=new n;return t}_SwipeTrigger.getSpeed=function(e,t){return e/t};_SwipeTrigger.prototype.onPanStart=function(t){e.prototype.onPanStart.call(this,t);this._panStartEventArgs=t};_SwipeTrigger.prototype.onPanMove=function(t){e.prototype.onPanMove.call(this,t);this._prePanMoveEventArgs=t};_SwipeTrigger.prototype.onPanEnd=function(t){e.prototype.onPanEnd.call(this,t);var o=this._createSwipeEventArgs(t);o&&this.onSwipe(o);this._panStartEventArgs=null;this._prePanMoveEventArgs=null};_SwipeTrigger.prototype.onSwipe=function(e){this.swipe.raise(this,e)};_SwipeTrigger.prototype._createSwipeEventArgs=function(e){if(!this._panStartEventArgs||!this._prePanMoveEventArgs)return null;var n=e.timeStamp-this._panStartEventArgs.timeStamp;return n>_SwipeTrigger.maxDuration?null:t._TouchInfo.getDistance(this._panStartEventArgs.touchInfo,this._prePanMoveEventArgs.touchInfo)<_SwipeTrigger.minDistance?null:new o(this._panStartEventArgs.touchInfo,this._prePanMoveEventArgs.touchInfo,e,n)};_SwipeTrigger.minDistance=50;_SwipeTrigger.maxDuration=300;return _SwipeTrigger}(t._PanTrigger);t._SwipeTrigger=i}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";var t=function(){function _TouchManager(t,o){void 0===o&&(o=!0);var n=this;this.touchMove=new e._TouchEvent;this.touchStart=new e._TouchEvent;this.touchEnd=new e._TouchEvent;this.panMove=new e._PanEvent;this.panStart=new e._PanEvent;this.panEnd=new e._PanEvent;this.swipe=new e._SwipeEvent;this.pinch=new e._PinchEvent;this._trigger=new e._SwipeTrigger(t);this._trigger.touchStart.addHandler((function(e,t){return n.onTouchStart(t)}));this._trigger.touchMove.addHandler((function(e,t){return n.onTouchMove(t)}));this._trigger.touchEnd.addHandler((function(e,t){return n.onTouchEnd(t)}));this._trigger.panStart.addHandler((function(e,t){return n.onPanStart(t)}));this._trigger.panMove.addHandler((function(e,t){return n.onPanMove(t)}));this._trigger.panEnd.addHandler((function(e,t){return n.onPanEnd(t)}));this._trigger.swipe.addHandler((function(e,t){return n.onSwipe(t)}));this._pinchTrigger=new e._PinchTrigger(t);this._pinchTrigger.pinch.addHandler((function(e,t){return n.onPinch(t)}));this.removeDefaultTouch=o}_TouchManager._isTouchEvent=function(e){return e instanceof TouchEvent||(e.pointerType||"").toLowerCase()===_TouchManager._touchPointerName};_TouchManager._isTouchStart=function(t){return _TouchManager._eventTypeContains(t,e._getTouchEventMap().startName)};_TouchManager._isTouchEnd=function(t){return _TouchManager._eventTypeContains(t,e._getTouchEventMap().endName)};_TouchManager._isTouchMove=function(t){return _TouchManager._eventTypeContains(t,e._getTouchEventMap().moveName)};_TouchManager._eventTypeContains=function(e,t){var o=t.split(",");e=e.toLowerCase();for(var n=0,i=o.length;n<i;n++){var r=o[n].trim().toLowerCase();if(e.indexOf(r)>-1)return!0}return!1};_TouchManager._registerTouchInfo=function(t){if(_TouchManager._isTouchEvent(t))if(t instanceof TouchEvent){_TouchManager._allTouchInfos=[];for(var o=0,n=t.touches.length;o<n;o++)_TouchManager._allTouchInfos.push(new e._TouchInfo(t.touches.item(o)))}else if(t instanceof PointerEvent){_TouchManager._allTouchInfos=_TouchManager._allTouchInfos||[];if(_TouchManager._isTouchEnd(t.type)){var i=0;for(n=_TouchManager._allTouchInfos.length;i<n;i++)if(_TouchManager._allTouchInfos[i].id==t.pointerId){_TouchManager._allTouchInfos.splice(i,1);return}return}for(i=0,n=_TouchManager._allTouchInfos.length;i<n;i++)if(_TouchManager._allTouchInfos[i].id==t.pointerId){_TouchManager._allTouchInfos[i]=new e._TouchInfo(t);return}_TouchManager._allTouchInfos.push(new e._TouchInfo(t))}};_TouchManager.prototype.onPinch=function(e){this.pinch.raise(this,e)};_TouchManager.prototype.onSwipe=function(e){this.swipe.raise(this,e)};_TouchManager.prototype.onTouchEnd=function(e){this.touchEnd.raise(this,e)};_TouchManager.prototype.onTouchStart=function(e){this.touchStart.raise(this,e)};_TouchManager.prototype.onTouchMove=function(e){this.touchMove.raise(this,e)};_TouchManager.prototype.onPanEnd=function(e){this.panEnd.raise(this,e)};_TouchManager.prototype.onPanStart=function(e){this.panStart.raise(this,e)};_TouchManager.prototype.onPanMove=function(e){this.panMove.raise(this,e)};Object.defineProperty(_TouchManager.prototype,"removeDefaultTouch",{get:function(){return this._removeDefaultTouch},set:function(e){this._removeDefaultTouch=e;var t=this.hostElement.style;if(e){t.touchAction="none";t.msTouchAction="none"}else{t.touchAction=this._defaultTouchAction;t.msTouchAction=this._defaultMsTouchAction}},enumerable:!0,configurable:!0});Object.defineProperty(_TouchManager.prototype,"hostElement",{get:function(){return this._pinchTrigger.hostElement},enumerable:!0,configurable:!0});Object.defineProperty(_TouchManager.prototype,"contentElement",{get:function(){return this.hostElement.children.length?this.hostElement.children[0]:null},enumerable:!0,configurable:!0});_TouchManager.prototype.dispose=function(){this._pinchTrigger&&this._pinchTrigger.dispose();this._trigger&&this._trigger.dispose();this.removeDefaultTouch&&(this.removeDefaultTouch=!1)};_TouchManager._touchPointerName="touch";_TouchManager._allTouchInfos=[];return _TouchManager}();e._TouchManager=t}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_VScroller,o);function _VScroller(n){var i,r=o.call(this,n)||this;r._height=100;r._max=100;r._desiredValue=0;r.valueChanged=new e.Event;i=r.getTemplate();r.applyTemplate(null,i,{_wrapper:"wrapper"});r.hostElement.style.width=t._Scroller.getScrollbarWidth()+1+"px";t._addEvent(r.hostElement,"scroll",(function(){r.onValueChanged()}));return r}_VScroller.prototype.onValueChanged=function(){this._desiredValue!=this.value&&this.valueChanged.raise(this)};_VScroller.prototype.preventScrollEvent=function(){this._desiredValue=this.hostElement.scrollTop};Object.defineProperty(_VScroller.prototype,"height",{get:function(){return this._height},set:function(e){if(e!==this._height){this._height=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(_VScroller.prototype,"value",{get:function(){return this.hostElement.scrollTop},set:function(e){this.hostElement.scrollTop=e;this.preventScrollEvent()},enumerable:!0,configurable:!0});Object.defineProperty(_VScroller.prototype,"max",{get:function(){return this._max},set:function(e){if(this._max!==e){this._max=e;this.invalidate()}},enumerable:!0,configurable:!0});_VScroller.prototype.refresh=function(e){void 0===e&&(e=!0);o.prototype.refresh.call(this,e);var t=this._height+"px";this.hostElement.style.height!==t&&(this.hostElement.style.height=t);var n=this._max+this.hostElement.clientHeight+"px";this._wrapper.style.height!==n&&(this._wrapper.style.height=n);this.preventScrollEvent()};_VScroller.controlTemplate='<div class="wj-vscroller-wrapper" wj-part="wrapper"></div>';return _VScroller}(t._Scroller);t._VScroller=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ExportOptionEditor,o);function _ExportOptionEditor(t){var n=o.call(this,t)||this;n._options={};n._optionLabels=null;n._groupTitleField=null;e.addClass(t,"wj-export-editor");return n}Object.defineProperty(_ExportOptionEditor.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0});Object.defineProperty(_ExportOptionEditor.prototype,"exportDescription",{get:function(){return this._exportDescription},set:function(e){this._exportDescription=e;this._options={};if(e){this._options.format=this.exportDescription.format;this._render()}},enumerable:!0,configurable:!0});_ExportOptionEditor.prototype._skipOption=function(e){return _ExportOptionEditor._skippedOptions.indexOf(e)>=0};_ExportOptionEditor.prototype._render=function(){t._removeChildren(this.hostElement);if(this.exportDescription){document.createElement("table");var e=this.exportDescription.optionDescriptions,o={};if(e)for(var n=0;n<e.length;n++){var i=e[n];if(!this._skipOption(i.name))if(i.group){o[i.group]||(o[i.group]=[]);o[i.group].push(i)}else{o[_ExportOptionEditor._generalGroupName]||(o[_ExportOptionEditor._generalGroupName]=[]);i.group=_ExportOptionEditor._generalGroupName;o[_ExportOptionEditor._generalGroupName].push(i)}}for(var r in o)this.hostElement.appendChild(this._generateGroup(o[r]));this._updateEditors()}};_ExportOptionEditor.prototype._generateEditor=function(o){var n;if(e.isArray(o.allowedValues))n=this._generateComboEditor(o);else switch(o.type){case"bool":n=this._generateBoolEditor(o);break;case"int":case"float":n=this._generateNumberEditor(o);break;case"unit":o.defaultValue=new t._Unit(o.defaultValue);case"string":default:n=this._generateStringEditor(o)}n.setAttribute(_ExportOptionEditor._optionIdAttr,o.name);return n};_ExportOptionEditor.prototype._generateComboEditor=function(t){for(var o,n=this,i=[],r=document.createElement("div"),a=0;a<t.allowedValues.length;a++)i.push(t.allowedValues[a]);(o=new e.input.ComboBox(r)).isEditable=!1;o.itemsSource=i;o.selectedValue=t.defaultValue;o.selectedIndexChanged.addHandler((function(e){n._setOptionValue(t.name,e.selectedValue.toString())}));return r};_ExportOptionEditor.prototype._generateBoolEditor=function(o){var n,i=this;if(o.nullable){n=document.createElement("div");var r=new e.input.ComboBox(n),a=[];r.isEditable=!1;r.displayMemberPath="name";r.selectedValuePath="value";a.push({name:"None",value:null});a.push({name:"True",value:!0});a.push({name:"False",value:!1});r.itemsSource=a;r.selectedValue=o.defaultValue;var selectedHandler_1=function(e){i._setOptionValue(o.name,e.selectedValue);i._updateEditors(o.name)};r.selectedIndexChanged.addHandler(selectedHandler_1);setTimeout((function(){return selectedHandler_1(r)}))}else{(n=document.createElement("input")).type="checkbox";var s=e.changeType(o.defaultValue,e.DataType.Boolean,null);n.checked=s;var clickHandler=function(){i._setOptionValue(o.name,n.checked);i._updateEditors(o.name)};t._addEvent(n,"click",clickHandler);setTimeout(clickHandler)}return n};_ExportOptionEditor.prototype._generateNumberEditor=function(t){var o,n,i=this,r="int"===t.type;o=document.createElement("div");(n=new e.input.InputNumber(o)).format=r?"n0":"n2";n.isRequired=!t.nullable;n.value=t.defaultValue;n.valueChanged.addHandler((function(e){i._setOptionValue(t.name,e.value)}));return o};_ExportOptionEditor.prototype._generateStringEditor=function(e){var o,n=this;o=document.createElement("input");e.name.match(/password/i)?o.type="password":o.type="text";o.value=e.defaultValue;t._addEvent(o,"change,keyup,paste,input",(function(){n._setOptionValue(e.name,o.value)}));return o};_ExportOptionEditor.prototype._generateGroup=function(t){var o=document.createElement("fieldset"),n=document.createElement("legend"),i=t[0].group;e.addClass(o,"wj-exportformats-group");n.innerHTML=this._groupTitle[i];n.setAttribute(_ExportOptionEditor._optionNameAttr,i);o.appendChild(n);for(var r=document.createElement("table"),a=0;a<t.length;a++){var s=t[a],c=document.createElement("tr"),u=document.createElement("td"),l=document.createElement("td");u.innerHTML=this._getOptionLabel(s.name);u.setAttribute(_ExportOptionEditor._optionNameAttr,s.name);l.appendChild(this._generateEditor(s));c.appendChild(u);c.appendChild(l);r.appendChild(c)}o.appendChild(r);return o};_ExportOptionEditor.prototype._updateEditors=function(t){if("pdfACompatible"!==t&&t){if("paged"===t||!t){var o=this.hostElement.querySelector("["+_ExportOptionEditor._optionIdAttr+'="showNavigator"]');if(o){var n=e.changeType(this._getOptionValue("paged"),e.DataType.Boolean,null);if(n){o.checked=this._previousShowNavigator;this._setOptionValue("showNavigator",this._previousShowNavigator)}else{this._previousShowNavigator=o.checked;o.checked=!1;this._setOptionValue("showNavigator",!1)}o.disabled=!n}}}else{var i=this.hostElement.querySelector("["+_ExportOptionEditor._optionIdAttr+'="embedFonts"]');if(i){var r=e.changeType(this._getOptionValue("pdfACompatible"),e.DataType.Boolean,null);if(r){this._previousEmbedFonts=i.checked;i.checked=!0;this._setOptionValue("embedFonts",!0)}else{i.checked=this._previousEmbedFonts;this._setOptionValue("embedFonts",this._previousEmbedFonts)}i.disabled=r}}};_ExportOptionEditor.prototype._getOptionLabel=function(e){var t=this._optionLabelsText[e];return t||e[0].toUpperCase()+e.substring(1)};_ExportOptionEditor.prototype._getOptionDescByName=function(e){var t=null;this._exportDescription.optionDescriptions.some((function(o){if(o.name===e){t=o;return!0}return!1}));return t};_ExportOptionEditor.prototype._getOptionValue=function(e){return void 0!==this._options[e]?this._options[e]:this._getOptionDescByName(e).defaultValue};_ExportOptionEditor.prototype._setOptionValue=function(e,t){var o=this._getOptionDescByName(e),n=o.defaultValue;"unit"===o.type&&(n=o.defaultValue.toString());t!==n?this._options[e]=t:void 0!==this._options[e]&&delete this._options[e]};Object.defineProperty(_ExportOptionEditor.prototype,"_optionLabelsText",{get:function(){if(!this._optionLabels){var t=e.culture.Viewer;this._optionLabels={title:t.docInfoTitle,author:t.docInfoAuthor,manager:t.docInfoManager,operator:t.docInfoOperator,company:t.docInfoCompany,subject:t.docInfoSubject,comment:t.docInfoComment,creator:t.docInfoCreator,producer:t.docInfoProducer,creationTime:t.docInfoCreationTime,revisionTime:t.docInfoRevisionTime,keywords:t.docInfoKeywords,embedFonts:t.embedFonts,pdfACompatible:t.pdfACompatible,useCompression:t.useCompression,useOutlines:t.useOutlines,allowCopyContent:t.allowCopyContent,allowEditAnnotations:t.allowEditAnnotations,allowEditContent:t.allowEditContent,allowPrint:t.allowPrint,ownerPassword:t.ownerPassword,userPassword:t.userPassword,encryptionType:t.encryptionType,paged:t.paged,showNavigator:t.showNavigator,navigatorPosition:t.navigatorPosition,singleFile:t.singleFile,tolerance:t.tolerance,pictureLayer:t.pictureLayer,metafileType:t.metafileType,monochrome:t.monochrome,resolution:t.resolution,outputRange:t.outputRange,outputRangeInverted:t.outputRangeInverted}}return this._optionLabels},enumerable:!0,configurable:!0});Object.defineProperty(_ExportOptionEditor.prototype,"_groupTitle",{get:function(){this._groupTitleField||(this._groupTitleField={documentRestrictions:e.culture.Viewer.documentRestrictionsGroup,passwordSecurity:e.culture.Viewer.passwordSecurityGroup,outputRange:e.culture.Viewer.outputRangeGroup,documentInfo:e.culture.Viewer.documentInfoGroup,general:e.culture.Viewer.generalGroup});return this._groupTitleField},enumerable:!0,configurable:!0});_ExportOptionEditor.prototype._globalize=function(){for(var e=this.hostElement.querySelectorAll("["+_ExportOptionEditor._optionNameAttr+"]"),t=0;t<e.length;t++){var o=e[t];o instanceof HTMLLegendElement?o.innerHTML=this._groupTitle[o.getAttribute(_ExportOptionEditor._optionNameAttr)]:o.innerHTML=this._getOptionLabel(o.getAttribute(_ExportOptionEditor._optionNameAttr))}};_ExportOptionEditor.prototype.refresh=function(e){void 0===e&&(e=!0);o.prototype.refresh.call(this,e);if(e){this._optionLabels=null;this._groupTitleField=null;this._globalize()}};_ExportOptionEditor._optionIdAttr="option-id";_ExportOptionEditor._optionNameAttr="option-name";_ExportOptionEditor._skippedOptions=["shapesWord2007Compatible","sheetName","navigatorPositions"];_ExportOptionEditor._generalGroupName="general";return _ExportOptionEditor}(e.Control);t._ExportOptionEditor=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";t._httpRequest=function _httpRequest(o,n,i){i&&i.cache||(o=t._disableCache(o));if(i){if("GET"!==(i.method||"GET").toUpperCase()){if(i.data&&!1!==i.urlEncode){var r=function _objToParams(t){var o=[];t=t||{};for(var n in t)if(null!==t[n]&&void 0!==t[n])if(e.isArray(t[n]))if(t[n].length>0)for(var i=0;i<t[n].length;i++)o.push(n+"="+encodeURIComponent(t[n][i]));else o.push(n+"=");else o.push(n+"="+encodeURIComponent(t[n]));return o.join("&")}(i.data);null!=r&&(i.data=r)}!1!==i.urlEncode&&(i.requestHeaders?i.requestHeaders["Content-Type"]||(i.requestHeaders["Content-Type"]="application/x-www-form-urlencoded"):i.requestHeaders={"Content-Type":"application/x-www-form-urlencoded"})}}if(n&&n.requestHeaders){(i=i||{}).requestHeaders=i.requestHeaders||{};Object.keys(n.requestHeaders).forEach((function(e){i.requestHeaders[e]=n.requestHeaders[e]}))}var a=new t.RequestEventArgs(o,i);n&&n.beforeSend&&n.beforeSend(a);return e.httpRequest(a.url,a.settings)}}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(){function _HistoryManager(){this._items=[{}];this._position=0;this.statusChanged=new e.Event}_HistoryManager.prototype._onStatusChanged=function(){this.statusChanged.raise(this)};Object.defineProperty(_HistoryManager.prototype,"current",{get:function(){return this._items[this._position]},enumerable:!0,configurable:!0});_HistoryManager.prototype.clear=function(){this._items=[{}];this._position=0;this._onStatusChanged()};_HistoryManager.prototype.add=function(){this._items.splice(++this._position);this._items.push({});this._onStatusChanged()};_HistoryManager.prototype.forward=function(){if(!this.canForward())return null;var e=this._items[++this._position];this._onStatusChanged();return e};_HistoryManager.prototype.backward=function(){if(!this.canBackward())return null;var e=this._items[--this._position];this._onStatusChanged();return e};_HistoryManager.prototype.canForward=function(){return this._position<this._items.length-1};_HistoryManager.prototype.canBackward=function(){return this._position>0};return _HistoryManager}();t._HistoryManager=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";!function(e){e.Hyperlink="hyperlink";e.Bookmark="bookmark";e.Drillthrough="drillthrough";e.Sort="sort";e.Toggle="toggle"}(e._ArActionKind||(e._ArActionKind={}));!function(e){e[e.String=0]="String";e[e.DateTime=1]="DateTime";e[e.Boolean=2]="Boolean";e[e.Integer=3]="Integer";e[e.Float=4]="Float"}(e._ArParameterType||(e._ArParameterType={}));!function(e){e[e.OK=0]="OK";e[e.ExpectValue=1]="ExpectValue";e[e.HasOutstandingDependencies=2]="HasOutstandingDependencies";e[e.ValuesValidationFailed=3]="ValuesValidationFailed";e[e.DynamicValuesUnavailable=4]="DynamicValuesUnavailable"}(e._ArParameterState||(e._ArParameterState={}))}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(){function _DocumentService(e,t){this._url="";this._url=e.serviceUrl||"";this._documentPath=e.filePath;this._httpHandler=t}Object.defineProperty(_DocumentService.prototype,"serviceUrl",{get:function(){return this._url},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentService.prototype,"filePath",{get:function(){return this._documentPath},enumerable:!0,configurable:!0});_DocumentService.prototype.getStatus=function(){throw t._abstractMethodExceptionText};_DocumentService.prototype.setPageSettings=function(e){throw t._abstractMethodExceptionText};_DocumentService.prototype.getBookmark=function(e){throw t._abstractMethodExceptionText};_DocumentService.prototype.executeCustomAction=function(e){throw t._abstractMethodExceptionText};_DocumentService.prototype.load=function(e){throw t._abstractMethodExceptionText};_DocumentService.prototype.dispose=function(){throw t._abstractMethodExceptionText};_DocumentService.prototype.getOutlines=function(){throw t._abstractMethodExceptionText};_DocumentService.prototype.renderToFilter=function(e){throw t._abstractMethodExceptionText};_DocumentService.prototype.search=function(e){throw t._abstractMethodExceptionText};_DocumentService.prototype.getRenderToFilterUrl=function(e){throw t._abstractMethodExceptionText};_DocumentService.prototype.getExportedUrl=function(e){throw t._abstractMethodExceptionText};_DocumentService.prototype.getSupportedExportDescriptions=function(){throw t._abstractMethodExceptionText};_DocumentService.prototype.getFeatures=function(){throw t._abstractMethodExceptionText};_DocumentService.prototype.getPingTimeout=function(){return 100};_DocumentService.prototype.getFileName=function(){var e=/([^\\/]+)$/.exec(this.filePath)[1];return e.lastIndexOf(".")>=0?e.substr(0,e.lastIndexOf(".")):e};_DocumentService.prototype.downloadDataUrl=function(e){var o=new t._Promise;this.downloadBlob(e).then((function(e){var t=new FileReader;t.onloadend=function(e){o.resolve(t.result)};t.readAsDataURL(e)}));return o};_DocumentService.prototype.downloadBlob=function(e){var o=new t._Promise;this.httpRequest(e,{beforeSend:function(e){e.responseType="blob"}}).then((function(e){o.resolve(e.response)}));return o};_DocumentService.prototype.httpRequest=function(o,n){var i=this;n=n||{};var r=new t._Promise,a=n.error,s=n.success;n.error=function(t){e.isFunction(a)&&a.call(i,t);r.reject(t)};n.success=function(t){e.isFunction(s)&&s.call(i,t);r.resolve(t)};t._httpRequest(o,this._httpHandler,n);return r};return _DocumentService}();t._DocumentService=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";var t=function(t){__extends(_ReportServiceBase,t);function _ReportServiceBase(){return null!==t&&t.apply(this,arguments)||this}_ReportServiceBase.prototype.render=function(){throw e._abstractMethodExceptionText};return _ReportServiceBase}(e._DocumentService);e._ReportServiceBase=t}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ReportService,o);function _ReportService(e,t){var n=o.call(this,e,t)||this;n._reportName=e.reportName;return n}Object.defineProperty(_ReportService.prototype,"isCleared",{get:function(){return!this._instanceId&&this._status==t._ExecutionStatus.cleared},enumerable:!0,configurable:!0});_ReportService.getReportNames=function(e,o,n){return _ReportService.getReports(e,o,null,n).then((function(e){if(!e)return null;var o=[];e.items.forEach((function(e){e.type===t.CatalogItemType.Report&&o.push(e.name)}));return o}))};_ReportService.getReports=function(e,o,n,i){var r=new t._Promise,a=t._joinUrl(e,o);t._httpRequest(a,i,{data:n,success:function(e){r.resolve(JSON.parse(e.responseText))},error:function(e){return r.reject(e)}});return r};Object.defineProperty(_ReportService.prototype,"reportName",{get:function(){return this._reportName},enumerable:!0,configurable:!0});_ReportService.prototype.getBookmark=function(e){var o=new t._Promise;if(!this._checkReportInstanceController(o))return o;this.httpRequest(this._getReportInstancesUrl(_ReportService._bookmarkAction,e)).then((function(e){o.resolve(JSON.parse(e.responseText))}));return o};_ReportService.prototype.executeCustomAction=function(e){var t={};t[_ReportService._customActionParam]=e.data;return this.render(t)};_ReportService.prototype.getStatus=function(){var e=new t._Promise;this.httpRequest(this._statusLocation).then((function(o){e.resolve(JSON.parse(o.responseText,t._statusJsonReviver))}));return e};_ReportService.prototype.getDocumentStatus=function(){return this._getReportCache()};_ReportService.prototype._getReportCache=function(){var e=new t._Promise;if(!this._checkReportInstanceController(e))return e;this.httpRequest(this._getReportInstancesUrl()).then((function(o){e.resolve(t._parseReportExecutionInfo(o.responseText))}));return e};_ReportService.prototype.getParameters=function(){var e=new t._Promise;if(!this._checkReportInstanceController(e))return e;this.httpRequest(this._getReportInstancesUrl(_ReportService._parametersAction)).then((function(t){e.resolve(JSON.parse(t.responseText))}));return e};_ReportService.prototype._getUrlMainPart=function(){return t._joinUrl(this.serviceUrl,this.filePath,this.reportName)};_ReportService.prototype._getReportUrl=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return t._joinUrl(this._getUrlMainPart(),_ReportService._reportCommand,e)};_ReportService.prototype._getReportInstancesUrl=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return t._joinUrl(this._getUrlMainPart(),_ReportService._instancesCommand,this._instanceId,e)};_ReportService.prototype._checkReportController=function(e){if(null!=this.serviceUrl&&this.filePath){if(!(t._strEndsWith(this.filePath,".flxr",!0)||t._strEndsWith(this.filePath,".xml",!0))||this.reportName)return!0}e&&e.reject(_ReportService._invalidReportControllerError);return!1};_ReportService.prototype._checkReportInstanceController=function(e){if(this._checkReportController(e)&&this._instanceId)return!0;e&&e.reject(_ReportService._invalidReportCacheControllerError);return!1};_ReportService.prototype._getError=function(e){var t=e.responseText;try{t&&(t=JSON.parse(t))}finally{return t}};_ReportService.prototype.render=function(e){var o=this,n=new t._Promise;if(!this._checkReportInstanceController(n))return n;this.httpRequest(this._getReportInstancesUrl(_ReportService._renderAction),{method:"POST",data:e}).then((function(e){var i=202===e.status?{status:t._ExecutionStatus.rendering}:t._parseReportExecutionInfo(e.responseText);o._status=i.status;n.resolve(i)}),(function(e){n.reject(o._getError(e))}));return n};_ReportService.prototype.renderToFilter=function(e){var o=this,n=new t._Promise;if(!this._checkReportInstanceController(n))return n;this.getRenderToFilterUrl(e).then((function(e){o.httpRequest(e,{cache:!0}).then((function(e){n.resolve(e)}),(function(e){n.reject(o._getError(e))}))}));return n};_ReportService.prototype.load=function(e){var o=this,n=new t._Promise;if(!this._checkReportController(n))return n;this.httpRequest(this._getReportInstancesUrl(),{method:"POST",data:e}).then((function(e){var i=t._parseReportExecutionInfo(e.responseText);o._instanceId=i.id;o._status=t._ExecutionStatus.loaded;o._outlinesLocation=i.outlinesLocation;o._statusLocation=i.statusLocation;o._pageSettingsLocation=i.pageSettingsLocation;o._featuresLocation=i.featuresLocation;o._parametersLocation=i.parametersLocation;n.resolve(i)}),(function(e){n.reject(o._getError(e))}));return n};_ReportService.prototype.cancel=function(){var e=this,o=new t._Promise;if(!this._checkReportInstanceController(o))return o;if(this._status!==t._ExecutionStatus.rendering){o.reject("Cannot execute cancel when the report is not rendering.");return o}this.httpRequest(this._getReportInstancesUrl(_ReportService._cancelAction),{method:"POST"}).then((function(n){var i=t._parseReportExecutionInfo(n.responseText);e._status=i.status.status;o.resolve(i)}));return o};_ReportService.prototype.dispose=function(){var e=this,o=new t._Promise;if(!this._checkReportInstanceController())return o;this.httpRequest(this._getReportInstancesUrl(),{method:"DELETE"}).then((function(n){e._status=t._ExecutionStatus.cleared;e._instanceId="";o.resolve()}));return o};_ReportService.prototype.getOutlines=function(){var e=new t._Promise;if(!this._checkReportInstanceController(e))return e;this.httpRequest(this._getReportInstancesUrl(_ReportService._outlinesAction)).then((function(t){e.resolve(JSON.parse(t.responseText))}));return e};_ReportService.prototype.getRenderToFilterUrl=function(e){var o=new t._Promise,n=null;if(this._checkReportInstanceController()){n=this._getReportInstancesUrl(_ReportService._exportAction);n=t._disableCache(n);n=t._appendQueryString(n,e);o.resolve(n)}o.resolve(n);return o};_ReportService.prototype.getExportedUrl=function(e){return this.getRenderToFilterUrl(e)};_ReportService.prototype.search=function(e){var o=new t._Promise;if(!this._checkReportInstanceController(o))return o;this.httpRequest(this._getReportInstancesUrl(_ReportService._searchAction),{data:e}).then((function(e){o.resolve(JSON.parse(e.responseText))}));return o};_ReportService.prototype.setPageSettings=function(e){var o=this,n=new t._Promise;if(!this._checkReportInstanceController(n))return n;var i=this._getReportInstancesUrl(_ReportService._pageSettingsAction);this.httpRequest(i,{method:"PUT",data:e}).then((function(e){n.resolve(JSON.parse(e.responseText,t._pageSettingsJsonReviver))}),(function(e){n.reject(o._getError(e))}));return n};_ReportService.prototype.setParameters=function(o){var n=this,i=new t._Promise;if(!this._checkReportInstanceController(i))return i;Object.keys(o).forEach((function(t){null===o[t]&&(o[t]="");o[t]instanceof Date&&(o[t]=e.Globalize.formatDate(o[t],"yyyy/MM/dd HH:mm:ss"))}));var r=this._getReportInstancesUrl(_ReportService._parametersAction);this.httpRequest(r,{method:"PATCH",data:o}).then((function(e){i.resolve(JSON.parse(e.responseText))}),(function(e){i.reject(n._getError(e))}));return i};_ReportService.prototype.getSupportedExportDescriptions=function(){var e=new t._Promise;if(!this._checkReportInstanceController(e))return e;this.httpRequest(this._getReportInstancesUrl(_ReportService._supportedFormatsAction)).then((function(t){e.resolve(JSON.parse(t.responseText))}));return e};_ReportService.prototype.getFeatures=function(){var e=new t._Promise;if(!this._checkReportInstanceController(e))return e;this.httpRequest(this._featuresLocation).then((function(t){e.resolve(JSON.parse(t.responseText))}));return e};_ReportService._reportCommand="$report";_ReportService._instancesCommand="$instances";_ReportService._customActionParam="actionString";_ReportService._renderAction="render";_ReportService._searchAction="search";_ReportService._cancelAction="stop";_ReportService._outlinesAction="outlines";_ReportService._exportAction="export";_ReportService._parametersAction="parameters";_ReportService._bookmarkAction="bookmarks";_ReportService._pageSettingsAction="pagesettings";_ReportService._supportedFormatsAction="supportedformats";_ReportService._invalidReportControllerError="Cannot call the service without service url, document path or report name.";_ReportService._invalidReportCacheControllerError="Cannot call the service when service url is not set or the report is not loaded.";return _ReportService}(t._ReportServiceBase);t._ReportService=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(){function _DocumentSource(t,o){this._hasOutlines=!1;this._pageCount=0;this._supportedExportDescriptions=[];this._isLoadCompleted=!1;this._isInstanceCreated=!1;this._isDisposed=!1;this._errors=[];this.pageCountChanged=new e.Event;this.disposed=new e.Event;this.pageSettingsChanged=new e.Event;this.loading=new e.Event;this.loadCompleted=new e.Event;this.queryLoadingData=new e.Event;this._httpHandler=o;this._service=this._createDocumentService(t);this._paginated=t.paginated}_DocumentSource.prototype.onQueryLoadingData=function(e){this.queryLoadingData.raise(this,e)};_DocumentSource.prototype._updateIsLoadCompleted=function(e){if(this._isLoadCompleted!==e){this._isLoadCompleted=e;e&&this.onLoadCompleted()}};_DocumentSource.prototype._updateIsDisposed=function(e){if(this._isDisposed!==e){this._isDisposed=e;this.onDisposed()}};_DocumentSource.prototype._getIsDisposed=function(){return this._isDisposed};_DocumentSource.prototype._checkHasOutlines=function(e){return e.hasOutlines};_DocumentSource.prototype._checkIsLoadCompleted=function(e){return e.status===t._ExecutionStatus.completed||e.status===t._ExecutionStatus.stopped||e.status===t._ExecutionStatus.loaded};Object.defineProperty(_DocumentSource.prototype,"encodeRequestParams",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"executionDateTime",{get:function(){return this._executionDateTime},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"expiredDateTime",{get:function(){return this._expiredDateTime},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"isLoadCompleted",{get:function(){return this._isLoadCompleted},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"isInstanceCreated",{get:function(){return this._isInstanceCreated},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"isDisposed",{get:function(){return this._getIsDisposed()},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"pageSettings",{get:function(){return this._pageSettings},enumerable:!0,configurable:!0});_DocumentSource.prototype.onPageSettingsChanged=function(t){this.pageSettingsChanged.raise(this,t||new e.EventArgs)};_DocumentSource.prototype.onLoadCompleted=function(t){this.loadCompleted.raise(this,t||new e.EventArgs)};_DocumentSource.prototype.onLoading=function(t){this.loading.raise(this,t||new e.EventArgs)};_DocumentSource.prototype.onDisposed=function(t){this.disposed.raise(this,t||new e.EventArgs)};_DocumentSource.prototype.setPageSettings=function(e){var t=this;return this._innerService.setPageSettings(e).then((function(e){return t._updatePageSettings(e)}))};_DocumentSource.prototype._updatePageSettings=function(e){this._pageSettings=e;this.onPageSettingsChanged()};Object.defineProperty(_DocumentSource.prototype,"_innerService",{get:function(){return this._service},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"paginated",{get:function(){return this.pageSettings?this.pageSettings.paginated:this._paginated},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"hasThumbnails",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"hasOutlines",{get:function(){return this._hasOutlines},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"pageCount",{get:function(){return this._pageCount},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"initialPosition",{get:function(){return this._initialPosition},set:function(e){this._initialPosition=e},enumerable:!0,configurable:!0});Object.defineProperty(_DocumentSource.prototype,"service",{get:function(){return this._service},enumerable:!0,configurable:!0});_DocumentSource.prototype.getSupportedExportDescriptions=function(){return this._innerService.getSupportedExportDescriptions()};_DocumentSource.prototype.getBookmark=function(e){return this._innerService.getBookmark(e)};_DocumentSource.prototype.executeCustomAction=function(e){return this._innerService.executeCustomAction(e)};_DocumentSource.prototype.getOutlines=function(){return this._innerService.getOutlines()};_DocumentSource.prototype.getFeatures=function(){var e=this;return this._innerService.getFeatures().then((function(t){e._features=t}))};_DocumentSource.prototype.dispose=function(){var e=this;return this._innerService.dispose().then((function(){return e._updateIsDisposed(!0)}))};_DocumentSource.prototype.load=function(){var e=this;this.onLoading();var o={};null!=this._paginated&&(o["pageSettings.paginated"]=this.paginated);var n=new t.QueryLoadingDataEventArgs(o);this.onQueryLoadingData(n);return this._innerService.load(n.data).then((function(t){e._updateExecutionInfo(t)}))};_DocumentSource.prototype._updateExecutionInfo=function(e){if(null!=e){this._executionDateTime=this._getExecutionDateTime(e);this._expiredDateTime=this._getExpiredDateTime(e);this._updatePageSettings(e.pageSettings);this._features=e.features;this._isInstanceCreated=null!=e.status&&e.status.status!==t._ExecutionStatus.notFound&&e.status.status!==t._ExecutionStatus.cleared;this._updateDocumentStatus(e.status)}};_DocumentSource.prototype._updateDocumentStatus=function(e){if(e){this._errors=e.errorList;this._initialPosition=e.initialPosition;this._updatePageCount(this._getPageCount(e));this._expiredDateTime=this._getExpiredDateTime(e);this._hasOutlines=this._checkHasOutlines(e);this._updateIsLoadCompleted(this._checkIsLoadCompleted(e))}};_DocumentSource.prototype._getExecutionDateTime=function(e){return e.loadedDateTime};_DocumentSource.prototype._getExpiredDateTime=function(e){return e.expiredDateTime};_DocumentSource.prototype._getPageCount=function(e){return e.pageCount};_DocumentSource.prototype._updatePageCount=function(e){if(this._pageCount!==e){this._pageCount=e;this.onPageCountChanged()}};_DocumentSource.prototype.getStatus=function(){var e=this;return this._innerService.getStatus().then((function(t){e._updateDocumentStatus(t)}))};_DocumentSource.prototype._createDocumentService=function(e){throw _DocumentSource._abstractMethodException};_DocumentSource.prototype.onPageCountChanged=function(t){this.pageCountChanged.raise(this,t||new e.EventArgs)};_DocumentSource.prototype.export=function(t){var o=this;this.getExportedUrl(t).then((function(n){o._innerService.downloadBlob(n).then((function(n){var i=t.format;i.match("bmp|emf|gif|html|jpeg|jpg|png|tif|tiff")&&"application/zip"===n.type&&(i="zip");"zip"===i&&"application/x-emf"===n.type&&(i="emf");e.saveFile(n,o._innerService.getFileName()+"."+i)}))}))};_DocumentSource.prototype.print=function(t){var o=this;if(e.isMobile())this.export({format:"pdf"});else{var n=new e.PrintDocument({title:"Document"});this.renderToFilter({format:"html"}).then((function(e){n.append(e.responseText);n._getDocument().close();window.setTimeout((function(){o._removeScript(n);o._rotate(n,t);n.print()}),100)}))}};Object.defineProperty(_DocumentSource.prototype,"httpHandler",{get:function(){return this._httpHandler},enumerable:!0,configurable:!0});_DocumentSource.prototype._removeScript=function(e){for(var t=e._getDocument().querySelectorAll("script"),o=0;o<t.length;o++){var n=t.item(o);n.parentElement.removeChild(n)}};_DocumentSource.prototype._rotate=function(e,o){if(o&&o.length)for(var n=e._getDocument().querySelectorAll("svg"),i=0;i<n.length;i++){var r=o[i];if(r){for(var a=n[i],s=document.createElementNS("http://www.w3.org/2000/svg","g");a.hasChildNodes();)s.appendChild(a.firstChild);a.appendChild(s);var c={width:new t._Unit(a.width.baseVal.value),height:new t._Unit(a.height.baseVal.value)},u=t._getRotatedSize(c,r),l=a.parentNode;l.style.width=u.width.valueInPixel+"px";l.style.height=u.height.valueInPixel+"px";a.setAttribute("width",u.width.valueInPixel.toString()+"px");a.setAttribute("height",u.height.valueInPixel.toString()+"px");t._transformSvg(n[i],c.width.valueInPixel,c.height.valueInPixel,1,r)}}};_DocumentSource.prototype.renderToFilter=function(e){return this._innerService.renderToFilter(e)};_DocumentSource.prototype.getRenderToFilterUrl=function(e){return this._innerService.getRenderToFilterUrl(e)};_DocumentSource.prototype.getExportedUrl=function(e,o){var n=this;void 0===o&&(o=!1);var i=new t._Promise;this._innerService.getExportedUrl(e).then((function(e){var r=new t.RequestEventArgs(e,null);o&&n.httpHandler.beforeSend(r);i.resolve(r.url)}));return i};_DocumentSource.prototype.search=function(e){return this._innerService.search(e)};_DocumentSource._abstractMethodException="It is an abstract method, please implement it.";return _DocumentSource}();t._DocumentSource=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ReportSourceBase,o);function _ReportSourceBase(n,i){var r=o.call(this,n,i)||this;r._status=t._ExecutionStatus.notFound;r.statusChanged=new e.Event;return r}Object.defineProperty(_ReportSourceBase.prototype,"autoRun",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(_ReportSourceBase.prototype,"hasParameters",{get:function(){throw t._DocumentSource._abstractMethodException},enumerable:!0,configurable:!0});Object.defineProperty(_ReportSourceBase.prototype,"status",{get:function(){return this._status},set:function(e){if(e!==this._status){this._status=e;this.onStatusChanged()}},enumerable:!0,configurable:!0});_ReportSourceBase.prototype.getParameters=function(){throw t._DocumentSource._abstractMethodException};_ReportSourceBase.prototype.setParameters=function(e){throw t._DocumentSource._abstractMethodException};_ReportSourceBase.prototype.render=function(){var e=this;return this._innerService.render().then((function(t){return e._updateDocumentStatus(t)}))};_ReportSourceBase.prototype.executeCustomAction=function(e){var t=this;return this._innerService.executeCustomAction(e).then((function(e){return t._updateDocumentStatus(e)}))};_ReportSourceBase.prototype.onStatusChanged=function(e){this.statusChanged.raise(this,e)};Object.defineProperty(_ReportSourceBase.prototype,"_innerService",{get:function(){return this.service},enumerable:!0,configurable:!0});_ReportSourceBase.prototype._updateDocumentStatus=function(e){e&&(this.status=e.status);o.prototype._updateDocumentStatus.call(this,e)};return _ReportSourceBase}(t._DocumentSource);t._ReportSourceBase=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_Report,o);function _Report(e,t){var n=o.call(this,e,t)||this;n._hasParameters=!1;return n}_Report.getReportNames=function(e,o,n){return t._ReportService.getReportNames(e,o,n)};_Report.getReports=function(o,n,i,r){e.isBoolean(i)&&(i={recursive:i});return t._ReportService.getReports(o,n,i,r)};Object.defineProperty(_Report.prototype,"reportName",{get:function(){return this._innerService?this._innerService.reportName:null},enumerable:!0,configurable:!0});Object.defineProperty(_Report.prototype,"hasParameters",{get:function(){return this._hasParameters},enumerable:!0,configurable:!0});_Report.prototype.load=function(){return o.prototype.load.call(this)};_Report.prototype.cancel=function(){var e=this;return this._innerService.cancel().then((function(t){return e._updateDocumentStatus(t)}))};_Report.prototype.dispose=function(){return o.prototype.dispose.call(this)};_Report.prototype.setParameters=function(e){var t=this;return this._innerService.setParameters(e).then((function(e){t._parameters=e}))};_Report.prototype.getParameters=function(){var e=this;return this._innerService.getParameters().then((function(t){e._parameters=t}))};_Report.prototype._getIsDisposed=function(){return o.prototype._getIsDisposed.call(this)||this._innerService.isCleared};_Report.prototype._updateExecutionInfo=function(e){if(null!=e&&!this.isDisposed){this._hasParameters=!!e.hasParameters;o.prototype._updateExecutionInfo.call(this,e)}};_Report.prototype._checkIsLoadCompleted=function(e){return e.status===t._ExecutionStatus.completed||e.status===t._ExecutionStatus.stopped};_Report.prototype._createDocumentService=function(e){return new t._ReportService(e,this.httpHandler)};Object.defineProperty(_Report.prototype,"_innerService",{get:function(){return this.service},enumerable:!0,configurable:!0});return _Report}(t._ReportSourceBase);t._Report=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";var t=function(t){__extends(_PdfDocumentSource,t);function _PdfDocumentSource(o,n){var i=t.call(this,o,n)||this;i._status=e._ExecutionStatus.notFound;return i}Object.defineProperty(_PdfDocumentSource.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0});Object.defineProperty(_PdfDocumentSource.prototype,"_innerService",{get:function(){return this.service},enumerable:!0,configurable:!0});_PdfDocumentSource.prototype._createDocumentService=function(e){return new o(e,this.httpHandler)};_PdfDocumentSource.prototype.load=function(){return t.prototype.load.call(this)};_PdfDocumentSource.prototype._updateStatus=function(e){this._status!==e&&(this._status=e)};_PdfDocumentSource.prototype.getStatus=function(){var t=this,o=new e.QueryLoadingDataEventArgs;this.onQueryLoadingData(o);return this._innerService.getStatus(o.data).then((function(e){return t._updateDocumentStatus(e)}))};_PdfDocumentSource.prototype.renderToFilter=function(t){var o=new e.QueryLoadingDataEventArgs;this.onQueryLoadingData(o);return this._innerService.renderToFilter(t,o.data)};_PdfDocumentSource.prototype._updateDocumentStatus=function(e){if(null!=e){this._updateStatus(e.status);t.prototype._updateDocumentStatus.call(this,e)}};return _PdfDocumentSource}(e._DocumentSource);e._PdfDocumentSource=t;var o=function(t){__extends(_PdfDocumentService,t);function _PdfDocumentService(){return null!==t&&t.apply(this,arguments)||this}_PdfDocumentService.prototype._getPdfUrl=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return e._joinUrl(this.serviceUrl,this.filePath,_PdfDocumentService._pdfCommand,t)};_PdfDocumentService.prototype._getPdfStatus=function(t){var o=this,n=new e._Promise;if(!this._checkPdfController(n))return n;this.httpRequest(this._getPdfUrl(),{data:t}).then((function(t){var i=_parseExecutionInfo(t.responseText);o._status=e._ExecutionStatus.loaded;o._statusLocation=i.statusLocation;o._featuresLocation=i.featuresLocation;n.resolve(i)}),(function(e){n.reject(e.statusText)}));return n};_PdfDocumentService.prototype._checkPdfController=function(e){if(null!=this.serviceUrl&&this.filePath)return!0;e&&e.reject(_PdfDocumentService._invalidPdfControllerError);return!1};_PdfDocumentService.prototype.dispose=function(){var t=new e._Promise;t.resolve();return t};_PdfDocumentService.prototype.load=function(e){return this._getPdfStatus(e)};_PdfDocumentService.prototype.getStatus=function(t){var o=new e._Promise;this.httpRequest(this._statusLocation,{data:t}).then((function(e){o.resolve(JSON.parse(e.responseText))}));return o};_PdfDocumentService.prototype.renderToFilter=function(t,o){var n=this,i=new e._Promise;if(!this._checkPdfController(i))return i;this.getRenderToFilterUrl(t).then((function(e){n.httpRequest(e,{data:o,cache:!0}).then((function(e){i.resolve(e)}))}));return i};_PdfDocumentService.prototype.getRenderToFilterUrl=function(t){var o=new e._Promise,n=null;if(this._checkPdfController()){n=this._getPdfUrl(_PdfDocumentService._exportAction);n=e._disableCache(n);n=e._appendQueryString(n,t)}o.resolve(n);return o};_PdfDocumentService.prototype.getExportedUrl=function(e){return this.getRenderToFilterUrl(e)};_PdfDocumentService.prototype.getSupportedExportDescriptions=function(){var t=new e._Promise;if(!this._checkPdfController(t))return t;this.httpRequest(this._getPdfUrl(_PdfDocumentService._supportedFormatsAction)).then((function(e){t.resolve(JSON.parse(e.responseText))}));return t};_PdfDocumentService.prototype.getFeatures=function(){var t=new e._Promise;if(!this._checkPdfController(t))return t;this.httpRequest(this._featuresLocation).then((function(e){t.resolve(JSON.parse(e.responseText))}));return t};_PdfDocumentService.prototype.search=function(t){var o=new e._Promise;if(!this._checkPdfController(o))return o;this.httpRequest(this._getPdfUrl(_PdfDocumentService._searchAction),{data:t}).then((function(e){o.resolve(JSON.parse(e.responseText))}));return o};_PdfDocumentService._pdfCommand="$pdf";_PdfDocumentService._exportAction="export";_PdfDocumentService._supportedFormatsAction="supportedformats";_PdfDocumentService._searchAction="search";_PdfDocumentService._invalidPdfControllerError="Cannot call the service when service url is not set or the pdf is not loaded.";return _PdfDocumentService}(e._DocumentService);e._PdfDocumentService=o;function _parseExecutionInfo(t){return JSON.parse(t,e._statusJsonReviver)}e._parseExecutionInfo=_parseExecutionInfo}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(){function _SearchManager(){this._currentIndex=-1;this.currentChanged=new e.Event;this.searchStarted=new e.Event;this.searchCompleted=new e.Event;this.resultsCleared=new e.Event;this.textChanged=new e.Event}Object.defineProperty(_SearchManager.prototype,"current",{get:function(){return this._currentIndex<0?null:this._searchResult[this._currentIndex]},enumerable:!0,configurable:!0});Object.defineProperty(_SearchManager.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){var t=this;e!==this._currentIndex&&this._getSearchResults().then((function(o){t._currentIndex=e;t._onCurrentChanged()}))},enumerable:!0,configurable:!0});Object.defineProperty(_SearchManager.prototype,"documentSource",{get:function(){return this._documentSource},set:function(e){this._documentSource=e;this.clear()},enumerable:!0,configurable:!0});Object.defineProperty(_SearchManager.prototype,"matchCase",{get:function(){return this._matchCase},set:function(e){if(this._matchCase!==e){this._matchCase=e;this._clearResults()}},enumerable:!0,configurable:!0});Object.defineProperty(_SearchManager.prototype,"searchResult",{get:function(){return this._searchResult},enumerable:!0,configurable:!0});Object.defineProperty(_SearchManager.prototype,"text",{get:function(){return this._text},set:function(e){if(this._text!==e){this._text=e;this._onTextChanged();this._clearResults()}},enumerable:!0,configurable:!0});Object.defineProperty(_SearchManager.prototype,"wholeWord",{get:function(){return this._wholeWord},set:function(e){if(this._wholeWord!==e){this._wholeWord=e;this._clearResults()}},enumerable:!0,configurable:!0});_SearchManager.prototype.clear=function(){this._matchCase=!1;this._wholeWord=!1;this._currentIndex=-1;this.text=null};_SearchManager.prototype.search=function(e){var t=this;this._getSearchResults().then((function(o){var n=t._searchResult.length;if(e){t._currentIndex--;t._currentIndex<0&&(t._currentIndex=n-1)}else{t._currentIndex++;t._currentIndex>=n&&(t._currentIndex=0)}t._currentIndex=Math.max(Math.min(t._currentIndex,n-1),0);t._onCurrentChanged()}))};_SearchManager.prototype._clearResults=function(){this._currentIndex=-1;this._searchResult=null;this._onResultsCleared()};_SearchManager.prototype._getSearchResults=function(){var o=this,n=new t._Promise;if(this._searchResult){n.resolve(this._searchResult);return n}if(!this.documentSource){n.reject(e.culture.Viewer.cannotSearch);return n}if(null==this._text||0===this._text.length)return n;this._onSearchStarted();return this.documentSource.search({text:this.documentSource.encodeRequestParams?encodeURIComponent(this.text):this.text,matchCase:this.matchCase,wholeWord:this.wholeWord}).then((function(e){o._searchResult=e;o._onSearchCompleted()}))};_SearchManager.prototype._onCurrentChanged=function(){this.currentChanged.raise(this)};_SearchManager.prototype._onSearchStarted=function(){this.searchStarted.raise(this)};_SearchManager.prototype._onSearchCompleted=function(){this.searchCompleted.raise(this)};_SearchManager.prototype._onResultsCleared=function(){this.resultsCleared.raise(this)};_SearchManager.prototype._onTextChanged=function(){this.textChanged.raise(this)};return _SearchManager}();t._SearchManager=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(){function _Page(o,n,i){this._content=null;this._rotateAngle=t._RotateAngle.NoRotate;this._pendingContent=!1;this.linkClicked=new e.Event;this._documentSource=o;this._index=n;this._size=i}Object.defineProperty(_Page.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0});Object.defineProperty(_Page.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0});Object.defineProperty(_Page.prototype,"rotateAngle",{get:function(){return this._rotateAngle},set:function(e){this._rotateAngle=e},enumerable:!0,configurable:!0});Object.defineProperty(_Page.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0});Object.defineProperty(_Page.prototype,"pendingContent",{get:function(){return this._pendingContent},enumerable:!0,configurable:!0});_Page.prototype.getContent=function(){var o=this,n=this._contentPromise;if(n&&!n.isFinished)return n;this._contentPromise=n=new t._Promise;var i=this._documentSource;if(!i){n.reject(e.culture.Viewer.cannotRenderPageNoDoc);return n}if(this._content){n.resolve(this._content);return n}this._pendingContent=!0;i.renderToFilter({format:"html",paged:i.paginated,outputRange:(this.index+1).toString()}).then((function(e){if(o._documentSource===i){var r=document.createElement("div");r.innerHTML=o._processSvgResponse(o._addGlobalUniqueId(e.responseText));for(var a=r.querySelector("svg"),s=document.createElementNS("http://www.w3.org/2000/svg","g");a.hasChildNodes();)s.appendChild(a.firstChild);a.appendChild(s);o._size={width:new t._Unit(a.width.baseVal.value),height:new t._Unit(a.height.baseVal.value)};o._content=a;o._processActionLinks(a,(function(e){t._addEvent(e,"click",(function(){o._onLinkClicked(new t._LinkClickedEventArgs(e))}))}));o._pendingContent=!1;n.resolve(o._content)}})).catch((function(){o._pendingContent=!1}));return n};_Page.prototype._processSvgResponse=function(e){return e};_Page.prototype._extractSize=function(e){if(e){var o=e.querySelector("svg");if(o)return{width:new t._Unit(o.width.baseVal.value),height:new t._Unit(o.height.baseVal.value)}}return null};_Page.prototype._onLinkClicked=function(e){this.linkClicked.raise(this,e)};_Page.prototype._processActionLinks=function(e,t){for(var o=e.querySelectorAll("a"),n=0;n<o.length;n++){var i=o.item(n),r=i.href?i.href.baseVal:"";if(r.indexOf("navigate")>0){var a=_Page._bookmarkReg.exec(r);if(a)if(a[1]&&a[1].length>0){i.href.baseVal=_Page._invalidHref;i.setAttribute(_Page._bookmarkAttr,a[1]);t(i)}else i.removeAttribute("xlink:href")}else if(_Page._customActionReg.test(r)){i.href.baseVal=_Page._invalidHref;i.setAttribute(_Page._customActionAttr,r.substr(3));t(i)}}};_Page.prototype._addGlobalUniqueId=function(e){var t=(new Date).getTime().toString();return e=(e=e.replace(_Page._idReg,"$1$2"+t+"$3$4")).replace(_Page._idReferReg,"$1$2"+t+"$3$4")};_Page._bookmarkReg=/javascript\:navigate\(['|"](.*)['|"]\)/;_Page._bookmarkAttr="bookmark";_Page._customActionReg=/^CA\:/;_Page._customActionAttr="customAction";_Page._idReg=/(\<[^\>]+)(id=['|"])(\w+)(['|"])/g;_Page._idReferReg=/(\<[^\>]+)(url\(#)(\w+)(\))/g;_Page._invalidHref="javascript:void(0)";return _Page}();t._Page=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";var t=function(e){__extends(_ArPage,e);function _ArPage(){return null!==e&&e.apply(this,arguments)||this}_ArPage.prototype._processSvgResponse=function(t){t=e.prototype._processSvgResponse.call(this,t);var o=(new DOMParser).parseFromString(t,"text/xml");return t=(new XMLSerializer).serializeToString(o)};_ArPage.prototype._processActionLinks=function(e,t){for(var o=e.querySelectorAll("rect[arsvg\\:data-action-type]"),n=0;n<o.length;n++)t(o[n])};return _ArPage}(e._Page);e._ArPage=t}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){e.viewer||(e.viewer={})}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_PageViewBase,o);function _PageViewBase(n){var i,r=o.call(this,n)||this;r._autoHeightCalculated=!1;r._startX=null;r._startY=null;r._panMode=!1;r._pageIndex=-1;r._zoomFactor=1;r._zoomMode=t.ZoomMode.Custom;r._zoomModeUpdating=!1;r._movingPromise=new t._Promise;r.pageIndexChanged=new e.Event;r.zoomFactorChanged=new e.Event;r.zoomModeChanged=new e.Event;r.positionChanged=new e.Event;r.rotateAngleChanged=new e.Event;r.pageLoaded=new e.Event;r._zoomFactorChangeInitiated=!1;r._zoomModeChangeInitiated=!1;i=r.getTemplate();r.applyTemplate("wj-pageview",i,r._getTemplateParts());r._fBorderBoxMode="border-box"===getComputedStyle(n).boxSizing;r._init();return r}_PageViewBase.prototype._getTemplateParts=function(){return{_pagesWrapper:"pages-wrapper"}};_PageViewBase.prototype._getPagesContainer=function(){return this.hostElement};_PageViewBase.prototype._init=function(){this._bindEvents()};_PageViewBase.prototype.dispose=function(){this._touchManager&&this._touchManager.dispose();o.prototype.dispose.call(this)};_PageViewBase.prototype._bindTouchEvents=function(e){var t=this;e.touchStart.addHandler((function(){t.hostElement.focus()}));e.panMove.addHandler((function(t,o){e.hostElement.scrollTop-=o.clientDelta.y;e.hostElement.scrollLeft-=o.clientDelta.x}));e.pinch.addHandler(this._zoomByPinch,this)};_PageViewBase.prototype._initTouchEvents=function(){var e=this._pagesWrapper.parentElement,o=new t._TouchManager(e);this._touchManager=o;this._bindTouchEvents(o)};Object.defineProperty(_PageViewBase.prototype,"_borderBoxMode",{get:function(){return this._fBorderBoxMode},enumerable:!0,configurable:!0});_PageViewBase.prototype._zoomByPinch=function(o,n){n.preventDefault();if(n.type==t._TouchEventType.Move){var i=e.getElementRect(o.contentElement),r=getComputedStyle(o.contentElement),a=parseInt(r.marginTop),s=parseInt(r.marginLeft),c=t._pointMove(!1,n.preCenterClient,i.left-s,i.top-a);this._zoom(o.hostElement,n.zoom,c,n.centerClientDelta)}};_PageViewBase.prototype._getFixedPosition=function(t){return new e.Point(_PageViewBase._pageMargin,_PageViewBase._pageMargin+this._getAbovePageCount(t.y)*_PageViewBase._pageMargin)};_PageViewBase.prototype._getAbovePageCount=function(e){return 0};_PageViewBase.prototype._zoom=function(o,n,i,r){var a=t._pointMove(!1,i,o.scrollLeft,o.scrollTop),s=this._getFixedPosition(i),c=this.zoomFactor;this.zoomFactor=this.zoomFactor*n;var u=this.zoomFactor/c,l=new e.Point((i.x-s.x)*u+s.x,(i.y-s.y)*u+s.y),p=t._pointMove(!0,a,r),h=t._pointMove(!1,l,p);o.scrollTop=Math.round(h.y);o.scrollLeft=Math.round(h.x)};Object.defineProperty(_PageViewBase.prototype,"pageIndex",{get:function(){return this._pageIndex},enumerable:!0,configurable:!0});Object.defineProperty(_PageViewBase.prototype,"pages",{get:function(){return this._pages},set:function(e){this._pages=e;this._reserveViewPage()},enumerable:!0,configurable:!0});Object.defineProperty(_PageViewBase.prototype,"scrollTop",{get:function(){return this.hostElement.scrollTop},enumerable:!0,configurable:!0});Object.defineProperty(_PageViewBase.prototype,"scrollLeft",{get:function(){return this.hostElement.scrollLeft},enumerable:!0,configurable:!0});Object.defineProperty(_PageViewBase.prototype,"zoomFactor",{get:function(){return this._zoomFactor},set:function(e){e=Math.round(100*Math.max(.05,Math.min(10,e)))/100;if(this._zoomFactor!=e){this._zoomModeChangeInitiated||(this._zoomFactorChangeInitiated=!0);var o=this._zoomFactor,n=this._zoomMode;this._zoomFactor=e;this._updatePageViewTransform();this._zoomModeUpdating||(this._zoomFactor===Math.round(100*this._calcZoomToViewFactor())/100?this.zoomMode=t.ZoomMode.WholePage:this._zoomFactor===Math.round(100*this._calcZoomToViewWidthFactor())/100?this.zoomMode=t.ZoomMode.PageWidth:this.zoomMode=t.ZoomMode.Custom);if(this._zoomFactorChangeInitiated){this._onZoomFactorChanged(o,this.zoomFactor);n!==this.zoomMode&&this._onZoomModeChanged(n,this.zoomMode);this._zoomFactorChangeInitiated=!1}}},enumerable:!0,configurable:!0});Object.defineProperty(_PageViewBase.prototype,"zoomMode",{get:function(){return this._zoomMode},set:function(e){if(this._zoomMode!=e){this._zoomModeUpdating=!0;this._zoomFactorChangeInitiated||(this._zoomModeChangeInitiated=!0);var t=this._zoomMode,o=this._zoomFactor;this._zoomMode=e;this._calcZoomModeZoom(e);this._zoomModeUpdating=!1;if(this._zoomModeChangeInitiated){this._onZoomModeChanged(t,this.zoomMode);o!==this.zoomFactor&&this._onZoomFactorChanged(o,this.zoomFactor);this._zoomModeChangeInitiated=!1}}},enumerable:!0,configurable:!0});Object.defineProperty(_PageViewBase.prototype,"panMode",{get:function(){return this._panMode},set:function(e){this._panMode!=e&&(this._panMode=e)},enumerable:!0,configurable:!0});_PageViewBase.prototype._bindEvents=function(){var e=this;t._addEvent(document,"mousemove",(function(t){null!==e._startX&&null!==e._startY&&e._panning(t)}));t._addEvent(document,"mouseup",(function(t){e._stopPanning()}));this._initTouchEvents()};_PageViewBase.prototype._startPanning=function(e){this._startX=e.screenX;this._startY=e.screenY};_PageViewBase.prototype._panning=function(e){var t=this._getPagesContainer();t.scrollLeft+=this._startX-e.screenX;t.scrollTop+=this._startY-e.screenY;this._startX=e.screenX;this._startY=e.screenY};_PageViewBase.prototype._stopPanning=function(){this._startX=null;this._startY=null};_PageViewBase.prototype._onPageIndexChanged=function(){this.pageIndexChanged.raise(this)};_PageViewBase.prototype._onZoomFactorChanged=function(e,t){this.zoomFactorChanged.raise(this,{oldValue:e,newValue:t})};_PageViewBase.prototype._onZoomModeChanged=function(e,t){this.zoomModeChanged.raise(this,{oldValue:e,newValue:t})};_PageViewBase.prototype._onPositionChanged=function(){this.positionChanged.raise(this)};_PageViewBase.prototype._onRotateAngleChanged=function(){this.rotateAngleChanged.raise(this)};_PageViewBase.prototype._onPageLoaded=function(e,o){this.pageLoaded.raise(this,new t.PageLoadedEventArgs(e,o))};_PageViewBase.prototype._renderViewPage=function(o,n,i){var r,a=this,s=new t._Promise;n=n<0?0:n;this._targetRenderPageIndex=n;if(!o){s.reject(e.culture.Viewer.cannotRenderPageNoViewPage);return s}t._removeChildren(o);if(this._pages[n].content){var c=this._pages[n].content;o.appendChild(c);this._setPageTransform(o,n);s.resolve(n);return s}(r=document.createElement("div")).className="wj-loading";r.style.height=o.style.height;r.style.lineHeight=o.style.height;r.innerHTML=e.culture.Viewer.loading;o.appendChild(r);this._pages[n].pendingContent?s.resolve(n):this._pages[n].getContent().then((function(e){if(a.pages){if(i||a._targetRenderPageIndex===n){var r=e;t._removeChildren(o);o.appendChild(r);a._setPageTransform(o,n);a._onPageLoaded(n,o)}s.resolve(n)}})).catch((function(e){r.innerHTML=t._getErrorMessage(e)}));return s};_PageViewBase.prototype._reserveViewPage=function(){throw e.culture.Viewer.abstractMethodException};_PageViewBase.prototype._getViewPortHeight=function(){var e=this._pagesWrapper.currentStyle||window.getComputedStyle(this._pagesWrapper);return this.hostElement.offsetHeight-parseFloat(e.marginBottom)-parseFloat(e.marginTop)};_PageViewBase.prototype._getViewPortWidth=function(){var e=this._pagesWrapper.currentStyle||window.getComputedStyle(this._pagesWrapper);return this.hostElement.offsetWidth-parseFloat(e.marginLeft)-parseFloat(e.marginRight)};_PageViewBase.prototype._setPageTransform=function(e,o){var n;if(e&&!(o<0)){var i=this._getPageSize(o),r=this._pages[o].rotateAngle;e.style.height=i.height.valueInPixel*this._zoomFactor+"px";e.style.width=i.width.valueInPixel*this._zoomFactor+"px";if(n=e.querySelector("g")){n.parentNode.setAttribute("height",i.height.valueInPixel*this._zoomFactor+"px");n.parentNode.setAttribute("width",i.width.valueInPixel*this._zoomFactor+"px");t._transformSvg(n.parentNode,this._pages[o].size.width.valueInPixel,this._pages[o].size.height.valueInPixel,this._zoomFactor,r)}}};_PageViewBase.prototype._addViewPage=function(){var e=this,o=document.createElement("div");o.className="wj-view-page";t._addEvent(o,"mousedown",(function(t){e._panMode&&e._startPanning(t)}));t._addEvent(o,"dragstart",(function(t){e._panMode&&t.preventDefault()}));this._pagesWrapper.appendChild(o);return o};_PageViewBase.prototype._getPageSize=function(e){if(e<0||e>=this._pages.length)return null;var o=this._pages[e];return t._getRotatedSize(o.size,o.rotateAngle)};_PageViewBase.prototype._render=function(t){throw e.culture.Viewer.abstractMethodException};_PageViewBase.prototype._moveToPagePosition=function(t){throw e.culture.Viewer.abstractMethodException};_PageViewBase.prototype._updatePageViewTransform=function(){throw e.culture.Viewer.abstractMethodException};_PageViewBase.prototype._updatePageIndex=function(e){if(this.pages){e=this.resolvePageIndex(e);if(this._pageIndex!==e){this._pageIndex=e;this._onPageIndexChanged()}}};_PageViewBase.prototype.moveToPage=function(e){return this.moveToPosition({pageIndex:e})};_PageViewBase.prototype.resolvePageIndex=function(e){return Math.min((this.pages||[]).length-1,Math.max(e,0))};_PageViewBase.prototype.moveToPosition=function(e){var o=this;this._movingPromise.isFinished||this._movingPromise.cancel();this._movingPromise=new t._Promise;var n=e.pageIndex||0,i=this.pageIndex;if(!this.pages||n<0){this._movingPromise.resolve(n);return this._movingPromise}n=this.resolvePageIndex(n);e.pageIndex=n;if(n!==i){this._updatePageIndex(n);this._movingPromise=this._render(n)}else this._movingPromise.resolve(n);return this._movingPromise.then((function(){if(o.pages){e.samePage=n===i;o._moveToPagePosition(e)}})).then((function(e){return n})).then((function(){o._calcZoomModeZoom();o._onPositionChanged()}))};_PageViewBase.prototype._calcZoomModeZoom=function(e){this._zoomModeUpdating=!0;switch(e=null==e?this.zoomMode:e){case t.ZoomMode.PageWidth:this._zoomToViewWidth();break;case t.ZoomMode.WholePage:this._zoomToView()}this._zoomModeUpdating=!1};_PageViewBase.prototype._zoomToView=function(){this._getPageSize(this.pageIndex)&&(this.zoomFactor=this._calcZoomToViewFactor())};_PageViewBase.prototype._calcZoomToViewFactor=function(){var e=this._getViewPortHeight(),t=this._getViewPortWidth(),o=this._getPageSize(this.pageIndex);return Math.min(e/o.height.valueInPixel,t/o.width.valueInPixel)};_PageViewBase.prototype._zoomToViewWidth=function(){throw e.culture.Viewer.abstractMethodException};_PageViewBase.prototype._calcZoomToViewWidthFactor=function(){throw e.culture.Viewer.abstractMethodException};_PageViewBase.prototype._getTransformedPoint=function(o,n,i){n/=this.zoomFactor;i/=this.zoomFactor;var r=this.pages[o],a=r.size;switch(r.rotateAngle){case t._RotateAngle.Rotation90:var s=n;n=a.height.valueInPixel-i;i=s;break;case t._RotateAngle.Rotation180:n=a.height.valueInPixel-n;i=a.width.valueInPixel-i;break;case t._RotateAngle.Rotation270:s=n;n=i;i=a.width.valueInPixel-s}return new e.Point(i,n)};_PageViewBase.prototype._hitTestPagePosition=function(e){if(!e||e.pageIndex<0)return null;var o=e.y,n=e.x,i=e.pageIndex;o-=_PageViewBase._pageMargin+_PageViewBase._pageBorderWidth;n-=_PageViewBase._pageMargin+_PageViewBase._pageBorderWidth;var r=this._getTransformedPoint(e.pageIndex,o,n);o=r.y;n=r.x;var a=t._pixelToTwip(o),s=t._pixelToTwip(n),c=this.pages[i].size;return{pageIndex:i,x:s,y:a,hitWorkingArea:o>=0&&o<=c.height.valueInPixel&&n>=0&&n<=c.width.valueInPixel}};_PageViewBase.prototype.rotatePageTo=function(e,t){this._pages[e].rotateAngle=t;this._updatePageViewTransform();this._onRotateAngleChanged()};_PageViewBase.prototype.hitTest=function(e,t){if(this._pointInViewPanelClientArea(e,t)){var o=this._panelViewPntToPageView(e,t);return this._hitTestPagePosition(o)}return null};_PageViewBase.prototype.resetPages=function(){this._pageIndex=-1;this._pages=null;t._removeChildren(this._pagesWrapper);this._addViewPage();this.invalidate()};_PageViewBase.prototype.refresh=function(e){void 0===e&&(e=!0);o.prototype.refresh.call(this,e);this._autoHeightCalculated=!1;if(!(!this.pages||0==this.pages.length||this.pageIndex<0||this.pageIndex>=this.pages.length)){this._render(this.pageIndex);this._calcZoomModeZoom()}};_PageViewBase.prototype.isPageContentLoaded=function(e){var t=this.pages;return!!t&&e>=0&&e<t.length&&!!t[e].content};_PageViewBase.prototype._hitTestPageIndex=function(t){throw e.culture.Viewer.abstractMethodException};_PageViewBase.prototype._pointInViewPanelClientArea=function(t,o){throw e.culture.Viewer.abstractMethodException};_PageViewBase.prototype._panelViewPntToPageView=function(t,o){throw e.culture.Viewer.abstractMethodException};_PageViewBase._pageMargin=30;_PageViewBase._pageBorderWidth=1;_PageViewBase.controlTemplate='<div class="wj-pages-wrapper" wj-part="pages-wrapper"></div>';return _PageViewBase}(e.Control);t._PageViewBase=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ContinuousPageView,o);function _ContinuousPageView(t){var n=o.call(this,t)||this;e.addClass(t,"wj-pageview-continuous");return n}_ContinuousPageView.prototype._init=function(){var e=this;o.prototype._init.call(this);t._addEvent(this.hostElement,"click",(function(t){e.hostElement.focus()}));t._addEvent(this.hostElement,"scroll",(function(){e._onPositionChanged();clearTimeout(e._scrollingTimer);e._scrollingTimer=setTimeout((function(){e._ensurePageIndexPosition()}),200)}));this.zoomFactorChanged.addHandler((function(){clearTimeout(e._zoomFactorTimer);e._zoomFactorTimer=setTimeout((function(){e._ensurePageIndexPosition()}),200)}))};_ContinuousPageView.prototype.dispose=function(){clearTimeout(this._scrollingTimer);clearTimeout(this._zoomFactorTimer);this._disposeBodyStopSwipe&&this._disposeBodyStopSwipe();o.prototype.dispose.call(this)};_ContinuousPageView.prototype._stopSwip=function(){this._swipeSpeedReducer&&this._swipeSpeedReducer.stop()};_ContinuousPageView.prototype._bindTouchEvents=function(e){var n=this;o.prototype._bindTouchEvents.call(this,e);e.touchStart.addHandler(this._stopSwip,this);e.swipe.addHandler((function(o,i){n._swipeSpeedReducer||(n._swipeSpeedReducer=new t._SpeedReducer);n._swipeSpeedReducer.start(i.speed.x,i.speed.y,(function(t,o){var i=e.hostElement.scrollLeft,r=e.hostElement.scrollTop;e.hostElement.scrollLeft-=t;e.hostElement.scrollTop-=o;i==e.hostElement.scrollLeft&&r==e.hostElement.scrollTop&&n._stopSwip()}))}));var i=new t._TouchManager(document.body,!1),r=this._stopSwip.bind(this);t._addEvent(document.body,"mousedown",r,!0);i.touchStart.addHandler(r);this._disposeBodyStopSwipe=function(){n._stopSwip();t._removeEvent(document.body,"mousedown",r);i.touchStart.removeHandler(r);i.dispose();n._disposeBodyStopSwipe=null}};_ContinuousPageView.prototype._getAbovePageCount=function(e){return this._hitTestPageIndex(e)};_ContinuousPageView.prototype.refresh=function(e){this._stopSwip();o.prototype.refresh.call(this,e)};_ContinuousPageView.prototype._hitTestPageIndex=function(e){if(!this.pages)return this.pageIndex;for(var o=0,n=0;o<this.pages.length;o++)if(e<(n+=this._getPageSize(o).height.valueInPixel*this.zoomFactor+t._PageViewBase._pageMargin)){if(n-e<1)continue;break}return Math.min(o,this.pages.length-1)};_ContinuousPageView.prototype._guessPageIndex=function(){return this.pages&&this.hostElement.scrollHeight-this.hostElement.clientHeight<=this.hostElement.scrollTop?this.pages.length-1:this._hitTestPageIndex(this.hostElement.scrollTop)};_ContinuousPageView.prototype._render=function(e){var o=this.pages.length,n=e-_ContinuousPageView._preFetchPageCount,i=e+_ContinuousPageView._preFetchPageCount,r=[];i=i>o-1?o-1:i;for(var a=n=n<0?0:n;a<=i;a++)r.push(this._renderViewPage(this._pagesWrapper.querySelectorAll(".wj-view-page").item(a),a,!0));return new t._CompositedPromise(r)};_ContinuousPageView.prototype._moveToPagePosition=function(e){this._stopSwip();for(var o=0,n=0,i=!e.pageBounds,r=e.pageBounds||{x:0,y:0,width:0,height:0},a=i?0:t._PageViewBase._pageMargin,s=this.pages[this.pageIndex],c=0;c<e.pageIndex;c++){o+=this._getPageSize(c).height.valueInPixel*this.zoomFactor+t._PageViewBase._pageMargin;this._borderBoxMode||(o+=2*t._PageViewBase._pageBorderWidth)}var u=t._getTransformedPosition(r,s.size,i?t._RotateAngle.NoRotate:s.rotateAngle,this.zoomFactor);o+=u.y+a+1;n+=u.x+a;n+=this._getPageViewOffsetLeft(e.pageIndex);this.hostElement.scrollTop=o;this.hostElement.scrollLeft=n};_ContinuousPageView.prototype._pointInViewPanelClientArea=function(e,t){return e>=0&&t>=0&&e<this.hostElement.clientWidth&&t<this.hostElement.clientHeight};_ContinuousPageView.prototype._panelViewPntToPageView=function(e,o){var n=this.hostElement.scrollTop+o,i=0;if(this.hostElement.scrollLeft>0)i=this.hostElement.scrollLeft+e;else{var r=this.hostElement.getBoundingClientRect();i=e-(this._pagesWrapper.getBoundingClientRect().left-r.left)+t._PageViewBase._pageMargin}var a=this._hitTestPageIndex(n);if(a<0)return null;i-=this._getPageViewOffsetLeft(a);for(var s=0;s<a;s++){n-=this._getPageSize(s).height.valueInPixel*this.zoomFactor+t._PageViewBase._pageMargin;this._borderBoxMode||(n-=2*t._PageViewBase._pageBorderWidth)}return{x:i,y:n,pageIndex:a}};_ContinuousPageView.prototype._reserveViewPage=function(){t._removeChildren(this._pagesWrapper);for(var e=0;e<(this.pages||[]).length;e++){var o=this._addViewPage(),n=this._getPageSize(e);o.style.height=n.height.valueInPixel*this.zoomFactor+"px";o.style.width=n.width.valueInPixel*this.zoomFactor+"px"}};_ContinuousPageView.prototype._updatePageViewTransform=function(){if(this.pages&&this.pages.length){var e;e=this._pagesWrapper.querySelectorAll(".wj-view-page");for(var t=0;t<e.length;t++)this._setPageTransform(e.item(t),t)}};_ContinuousPageView.prototype._zoomToViewWidth=function(){this.pages&&0!=this.pages.length&&(this.zoomFactor=this._calcZoomToViewWidthFactor())};_ContinuousPageView.prototype._calcZoomToViewWidthFactor=function(){for(var e=this._getViewPortHeight(),o=this._getViewPortWidth(),n=0,i=0,r=0;r<this.pages.length;r++){var a=this._getPageSize(r);a.width.valueInPixel>n&&(n=a.width.valueInPixel);i+=a.height.valueInPixel}o/n>e/i&&(o-=t._Scroller.getScrollbarWidth());return o/n};_ContinuousPageView.prototype._ensurePageIndexPosition=function(){var e=this._guessPageIndex();if(this.pageIndex!==e){this._render(e);this._updatePageIndex(e)}};_ContinuousPageView.prototype._getPageViewOffsetLeft=function(e){var t=this._pagesWrapper.querySelectorAll(".wj-view-page").item(e);return t?t.offsetLeft-this._pagesWrapper.offsetLeft:0};_ContinuousPageView._preFetchPageCount=3;return _ContinuousPageView}(t._PageViewBase);t._ContinuousPageView=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_SinglePageView,o);function _SinglePageView(t){var n=o.call(this,t)||this;n._innerNavigating=!1;n._virtualScrollMode=!0;e.addClass(t,"wj-pageview-single");return n}_SinglePageView.prototype._init=function(){o.prototype._init.call(this);this._initScroller();this._initEvents()};_SinglePageView.prototype._initScroller=function(){var e=this;new t._VScroller(this._vscroller).valueChanged.addHandler((function(){setTimeout((function(){return e._doScrollerValueChanged()}))}))};_SinglePageView.prototype._initEvents=function(){var e=this;t._addEvent(this._pagesContainer,"wheel",(function(t){e._doContainerWheel(t)}));t._addEvent(this._pagesContainer,"scroll",(function(t){e._doContainerScroll()}));t._addEvent(this._pagesContainer,"keydown",(function(t){e._doContainerKeyDown()}));t._addEvent(this._pagesContainer,"click",(function(t){e._pagesContainer.focus()}))};_SinglePageView.prototype._bindTouchEvents=function(e){var n=this;o.prototype._bindTouchEvents.call(this,e);e.swipe.addHandler((function(e,o){switch(o.direction){case t._TouchDirection.Down:var i=n.resolvePageIndex(n.pageIndex-1);i!=n.pageIndex&&n.moveToPage(i);break;case t._TouchDirection.Up:var r=n.resolvePageIndex(n.pageIndex+1);r!=n.pageIndex&&n.moveToPage(r)}}))};_SinglePageView.prototype._getTemplateParts=function(){return{_pagesWrapper:"pages-wrapper",_pagesContainer:"pages-container",_vscroller:"vscroller"}};_SinglePageView.prototype.applyTemplate=function(o,n,i){var r=this.hostElement;e.addClass(r,o);r.appendChild(t._toDOMs(n));if(i)for(var a in i){var s=i[a];this[a]=r.querySelector('[wj-part="'+s+'"]');null==this[a]&&r.getAttribute("wj-part")==s&&(this[a]=n);if(null==this[a])throw'Missing template part: "'+s+'"'}return r};Object.defineProperty(_SinglePageView.prototype,"virtualScrollMode",{get:function(){return this._virtualScrollMode},set:function(e){if(this._virtualScrollMode!==e){this._virtualScrollMode=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(_SinglePageView.prototype,"_isScrollerVisible",{get:function(){return this._virtualScrollMode&&this.pages&&this.pages.length>1},enumerable:!0,configurable:!0});Object.defineProperty(_SinglePageView.prototype,"_scroller",{get:function(){return e.Control.getControl(this._vscroller)},enumerable:!0,configurable:!0});Object.defineProperty(_SinglePageView.prototype,"_hasPageVScrollBar",{get:function(){return this._hasScrollbar(this._pagesContainer)},enumerable:!0,configurable:!0});Object.defineProperty(_SinglePageView.prototype,"_hasPageHScrollBar",{get:function(){return this._hasScrollbar(this._pagesContainer,!0)},enumerable:!0,configurable:!0});_SinglePageView.prototype._getPagesContainer=function(){return this._pagesContainer};_SinglePageView.prototype._getPageHeightWithoutZoom=function(e){var o=this._pagesContainer.clientHeight,n=this._getPageSize(e).height.valueInPixel+2*t._PageViewBase._pageMargin;return Math.max(n,o)};_SinglePageView.prototype._hasScrollbar=function(e,t){return t?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight};_SinglePageView.prototype._updateScroller=function(){if(this._isScrollerVisible){var e=this._scroller;e.height=this._pagesContainer.clientHeight;for(var t=0,o=0;o<this.pages.length;o++)t+=this._getPageHeightWithoutZoom(o);e.max=t;this._updateScrollerValue()}};_SinglePageView.prototype._updateScrollerValue=function(){if(this._isScrollerVisible){var e=this.pageIndex;if(!(e<0)){var t=0;this._pagesContainer.scrollTop>0&&(t=this._pagesContainer.scrollTop/(this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight));for(var o=this._scroller,n=this.pages.length,i=0,r=0;r<e;r++)i+=this._getPageHeightWithoutZoom(r);i+=this._getPageHeightWithoutZoom(e)*t;e>=n-1&&!this._hasPageVScrollBar&&(i=o.max);o.value=i}}};_SinglePageView.prototype._doScrollerValueChanged=function(){if(this._isScrollerVisible){for(var e=this._scroller,t=this.pages.length,o=e.value,n=0,i=1;n<t;n++){var r=this._getPageHeightWithoutZoom(n);if(!(o>r)){i=o/r;break}o-=r}n>=t&&(n=t-1);this._innerMoveToPage(n,i)}};_SinglePageView.prototype._doContainerWheel=function(e){if(this._isScrollerVisible&&0!=e.deltaY){var t=e.deltaY<0;if(this._hasPageVScrollBar)if(t){if(this._pagesContainer.scrollTop>0)return}else if(this._pagesContainer.scrollTop<this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight)return;t?this._innerMoveToPreviousPageAtBottom(e):this._innerMoveToNextPageAtTop(e)}};_SinglePageView.prototype._doContainerScroll=function(){if(this._isScrollerVisible&&this._pagesContainer.scrollTop!=this._desiredPageScrollTop){this._updateScrollerValue();this._onPositionChanged()}};_SinglePageView.prototype._doContainerKeyDown=function(){if(this._isScrollerVisible){var t=event;if(this._hasPageVScrollBar)switch(t.keyCode){case e.Key.PageDown:this._pagesContainer.scrollTop>=this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight&&this._innerMoveToNextPageAtTop(t);break;case e.Key.PageUp:0==this._pagesContainer.scrollTop&&this._innerMoveToPreviousPageAtBottom(t)}else switch(t.keyCode){case e.Key.Down:case e.Key.PageDown:this._innerMoveToNextPageAtTop(t);break;case e.Key.Up:case e.Key.PageUp:this._innerMoveToPreviousPageAtBottom(t)}}};_SinglePageView.prototype._preventContainerScroll=function(){this._desiredPageScrollTop=this._pagesContainer.scrollTop};_SinglePageView.prototype._innerMoveToPreviousPageAtBottom=function(e){if(this.pageIndex>0){e&&e.preventDefault();this._innerMoveToPage(this.pageIndex-1,1);this._updateScrollerValue()}};_SinglePageView.prototype._innerMoveToNextPageAtTop=function(e){if(this.pageIndex<this.pages.length-1){e&&e.preventDefault();this._innerMoveToPage(this.pageIndex+1,0);this._updateScrollerValue()}};_SinglePageView.prototype._innerMoveToPage=function(e,t){var o=this;this._innerNavigating=!0;var n={pageIndex:e};this.moveToPosition(n).then((function(e){o._innerMoveToPagePosition(t);o._innerNavigating=!1}))};_SinglePageView.prototype._innerMoveToPagePosition=function(e){if(this._hasPageVScrollBar){var t=(this._pagesContainer.scrollHeight-this._pagesContainer.clientHeight)*e;this._pagesContainer.scrollTop=t;this._preventContainerScroll()}};_SinglePageView.prototype.moveToPosition=function(e){var t=o.prototype.moveToPosition.call(this,e);this._innerNavigating||this._updateScrollerValue();return t};_SinglePageView.prototype._moveToPagePosition=function(e){var o=e.pageBounds||{x:0,y:0,width:0,height:0},n=e.pageBounds?t._PageViewBase._pageMargin:0,i=this.pages[this.pageIndex],r=t._getTransformedPosition(o,i.size,i.rotateAngle,this.zoomFactor);if(!e.samePage){this._pagesContainer.scrollTop=r.y+n;this._pagesContainer.scrollLeft=r.x+n}};_SinglePageView.prototype._hitTestPageIndex=function(e){return this.pageIndex};_SinglePageView.prototype._pointInViewPanelClientArea=function(e,t){return e>=0&&t>=0&&e<this._pagesContainer.clientWidth&&t<this._pagesContainer.clientHeight};_SinglePageView.prototype._panelViewPntToPageView=function(e,o){if(this.pageIndex<0)return null;var n=this._pagesContainer.scrollTop+o,i=0;if(this._pagesContainer.scrollLeft>0)i=this._pagesContainer.scrollLeft+e;else{var r=this._pagesContainer.getBoundingClientRect();i=e-(this._pagesWrapper.getBoundingClientRect().left-r.left)+t._PageViewBase._pageMargin}return{x:i,y:n,pageIndex:this.pageIndex}};_SinglePageView.prototype._render=function(e){return this._renderViewPage(this._pagesWrapper.querySelector(".wj-view-page"),e,!1)};_SinglePageView.prototype._guessPageIndex=function(){return this.pageIndex};_SinglePageView.prototype._reserveViewPage=function(){t._removeChildren(this._pagesWrapper);this._addViewPage();this.invalidate()};_SinglePageView.prototype._updatePageViewTransform=function(){var e;e=this._pagesWrapper.querySelector(".wj-view-page");this._setPageTransform(e,this.pageIndex)};_SinglePageView.prototype._onPageLoaded=function(e,t){o.prototype._onPageLoaded.call(this,e,t);this._updateScroller()};_SinglePageView.prototype._onZoomFactorChanged=function(e,t){o.prototype._onZoomFactorChanged.call(this,e,t);this._updateScroller()};_SinglePageView.prototype._zoomToViewWidth=function(){this._getPageSize(this.pageIndex)&&(this.zoomFactor=this._calcZoomToViewWidthFactor())};_SinglePageView.prototype._calcZoomToViewWidthFactor=function(){var e=this._getViewPortHeight(),o=this._getViewPortWidth(),n=this._getPageSize(this.pageIndex),i=n.height.valueInPixel,r=n.width.valueInPixel;o/r>e/i&&(o-=t._Scroller.getScrollbarWidth());return o/r};_SinglePageView.prototype.refresh=function(t){void 0===t&&(t=!0);o.prototype.refresh.call(this,t);this._isScrollerVisible?e.addClass(this.hostElement,"virtual"):e.removeClass(this.hostElement,"virtual");this._updateScroller()};_SinglePageView.controlTemplate='<div class="wj-pageview-pagescontainer" wj-part="pages-container" tabindex="0">   <div class="wj-pages-wrapper" wj-part="pages-wrapper"></div></div><div class="wj-pageview-vscroller" wj-part="vscroller" tabindex="-1"></div> ';return _SinglePageView}(t._PageViewBase);t._SinglePageView=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_CompositePageView,o);function _CompositePageView(n){var i,r=o.call(this,n)||this;r._viewMode=t.ViewMode.Single;r.pageIndexChanged=new e.Event;r.zoomFactorChanged=new e.Event;r.zoomModeChanged=new e.Event;r.positionChanged=new e.Event;r.rotateAngleChanged=new e.Event;r.pageLoaded=new e.Event;r._handlerPageIndexChanged=function(){return r.onPageIndexChanged()};r._handlerZoomFactorChanged=function(e,t){return r.onZoomFactorChanged(t.oldValue,t.newValue)};r._handlerZoomModeChanged=function(e,t){return r.onZoomModeChanged(t.oldValue,t.newValue)};r._handlerPositionChanged=function(){return r.onPositionChanged()};r._handlerRotateAngleChanged=function(){return r.onRotateAngleChanged()};r._handlerPageLoaded=function(e,t){return r.onPageLoaded(t)};i=r.getTemplate();r.applyTemplate("wj-viewpanel-container",i,{_singlePageView:"single-pageview",_continuousPageView:"continuous-pageview"});r._initPageView();return r}_CompositePageView.prototype.applyTemplate=function(o,n,i){var r=this.hostElement;e.addClass(r,o);r.appendChild(t._toDOMs(n));if(i)for(var a in i){var s=i[a];this[a]=r.querySelector('[wj-part="'+s+'"]');null==this[a]&&r.getAttribute("wj-part")==s&&(this[a]=n);if(null==this[a])throw'Missing template part: "'+s+'"'}return r};Object.defineProperty(_CompositePageView.prototype,"pageIndex",{get:function(){return this._activePageView.pageIndex},enumerable:!0,configurable:!0});Object.defineProperty(_CompositePageView.prototype,"pages",{get:function(){return this._activePageView.pages},set:function(e){this._activePageView.pages=e},enumerable:!0,configurable:!0});Object.defineProperty(_CompositePageView.prototype,"zoomMode",{get:function(){return this._activePageView.zoomMode},set:function(e){this._activePageView.zoomMode=e},enumerable:!0,configurable:!0});Object.defineProperty(_CompositePageView.prototype,"zoomFactor",{get:function(){return this._activePageView.zoomFactor},set:function(e){this._activePageView.zoomFactor=e},enumerable:!0,configurable:!0});Object.defineProperty(_CompositePageView.prototype,"panMode",{get:function(){return this._activePageView.panMode},set:function(e){this._activePageView.panMode=e},enumerable:!0,configurable:!0});Object.defineProperty(_CompositePageView.prototype,"viewMode",{get:function(){return this._viewMode},set:function(e){if(this._viewMode!==e){this._viewMode=e;this._updateActivePageView()}},enumerable:!0,configurable:!0});Object.defineProperty(_CompositePageView.prototype,"scrollTop",{get:function(){return this._activePageView.scrollTop},enumerable:!0,configurable:!0});Object.defineProperty(_CompositePageView.prototype,"scrollLeft",{get:function(){return this._activePageView.scrollLeft},enumerable:!0,configurable:!0});Object.defineProperty(_CompositePageView.prototype,"_activePageViewElement",{get:function(){return this.viewMode===t.ViewMode.Single?this._singlePageView:this._continuousPageView},enumerable:!0,configurable:!0});_CompositePageView.prototype.onPageIndexChanged=function(){this.pageIndexChanged.raise(this)};_CompositePageView.prototype.onZoomFactorChanged=function(e,t){this.zoomFactorChanged.raise(this,{oldValue:e,newValue:t})};_CompositePageView.prototype.onZoomModeChanged=function(e,t){this.zoomModeChanged.raise(this,{oldValue:e,newValue:t})};_CompositePageView.prototype.onPositionChanged=function(){this.positionChanged.raise(this)};_CompositePageView.prototype.onRotateAngleChanged=function(){this.rotateAngleChanged.raise(this)};_CompositePageView.prototype.onPageLoaded=function(e){this.pageLoaded.raise(this,e)};_CompositePageView.prototype._updateActivePageView=function(){var t=this._activePageView.pageIndex,o=this._activePageView.pages,n=this._activePageView.zoomFactor,i=this._activePageView.zoomMode,r=this._activePageView.panMode;this._removePageViewHandlers(this._activePageView);this._activePageView=e.Control.getControl(this._activePageViewElement);this._activePageView.pages||(this._activePageView.pages=o);this._activePageView.invalidate();this._updatePageViewsVisible();this._activePageView.moveToPage(t);this._activePageView.zoomFactor=n;this._activePageView.zoomMode=i;this._activePageView.panMode=r;this._addPageViewHandlers(this._activePageView)};_CompositePageView.prototype._initPageView=function(){this._activePageView=new t._SinglePageView(this._singlePageView);this._addPageViewHandlers(this._activePageView);new t._ContinuousPageView(this._continuousPageView);this._updatePageViewsVisible()};_CompositePageView.prototype._addPageViewHandlers=function(e){this._activePageView.pageIndexChanged.addHandler(this._handlerPageIndexChanged);this._activePageView.zoomFactorChanged.addHandler(this._handlerZoomFactorChanged);this._activePageView.zoomModeChanged.addHandler(this._handlerZoomModeChanged);this._activePageView.positionChanged.addHandler(this._handlerPositionChanged);this._activePageView.rotateAngleChanged.addHandler(this._handlerRotateAngleChanged);this._activePageView.pageLoaded.addHandler(this._handlerPageLoaded)};_CompositePageView.prototype._removePageViewHandlers=function(e){e.pageIndexChanged.removeHandler(this._handlerPageIndexChanged);e.zoomFactorChanged.removeHandler(this._handlerZoomFactorChanged);e.zoomModeChanged.removeHandler(this._handlerZoomModeChanged);e.positionChanged.removeHandler(this._handlerPositionChanged);e.rotateAngleChanged.removeHandler(this._handlerRotateAngleChanged);e.pageLoaded.removeHandler(this._handlerPageLoaded)};_CompositePageView.prototype._updatePageViewsVisible=function(){if(this.viewMode===t.ViewMode.Single){e.removeClass(this._singlePageView,t._hiddenCss);e.hasClass(this._continuousPageView,t._hiddenCss)||e.addClass(this._continuousPageView,t._hiddenCss)}else{e.removeClass(this._continuousPageView,t._hiddenCss);e.hasClass(this._singlePageView,t._hiddenCss)||e.addClass(this._singlePageView,t._hiddenCss)}};_CompositePageView.prototype.moveToPage=function(e){return this._activePageView.moveToPage(e)};_CompositePageView.prototype.moveToPosition=function(e){return this._activePageView.moveToPosition(e)};_CompositePageView.prototype.rotatePageTo=function(e,t){this._activePageView.rotatePageTo(e,t)};_CompositePageView.prototype.hitTest=function(e,t){return this._activePageView.hitTest(e,t)};_CompositePageView.prototype.resetPages=function(){e.Control.getControl(this._singlePageView).resetPages();e.Control.getControl(this._continuousPageView).resetPages()};_CompositePageView.prototype.refresh=function(t){void 0===t&&(t=!0);o.prototype.refresh.call(this,t);e.Control.getControl(this._activePageViewElement).invalidate();this._activePageView.refresh()};_CompositePageView.prototype.isPageContentLoaded=function(e){return this._activePageView.isPageContentLoaded(e)};_CompositePageView.controlTemplate='<div class="wj-pageview" wj-part="single-pageview"></div><div class="wj-pageview" wj-part="continuous-pageview"></div>';return _CompositePageView}(e.Control);t._CompositePageView=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o="undefined"!=typeof navigator&&null!=navigator.userAgent.match(/iPhone|iPad|iPod/i),n='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" xml:space="preserve">',i="</svg>",r="wj-state-active",a="wj-state-disabled";t._commandTagAttr="command-tag";t.isIOS=function isIOS(){return o};t._createSvgBtn=function _createSvgBtn(t){var o=_toDOM(n+t+i);e.addClass(o,"wj-svg-btn");var r=document.createElement("a");r.appendChild(o);e.addClass(r,"wj-btn");r.tabIndex=0;return r};t._checkImageButton=function _checkImageButton(t,o){o?e.addClass(t,r):e.removeClass(t,r)};t._checkSeparatorShown=function _checkSeparatorShown(o){for(var n,i,r,a,s=!0,c=0;c<o.children.length;c++){i=o.children[c];n=e.hasClass(i,"wj-separator");r=e.hasClass(i,t._hiddenCss);if(n||r){if(n){if(s)r||e.addClass(i,t._hiddenCss);else{r&&e.removeClass(i,t._hiddenCss);a=i}s=!0}}else s=!1}s&&a&&e.addClass(a,"hidden")};t._disableImageButton=function _disableImageButton(t,o){if(o)e.addClass(t,a);else{e.removeClass(t,a);if(t instanceof HTMLElement){for(var n=t.querySelectorAll("input[disabled]"),i=0;i<n.length;i++)n[i].disabled=!1;var r=t.querySelectorAll("button[disabled]");for(i=0;i<r.length;i++)r[i].disabled=!1}}};t._getPositionByHitTestInfo=function _getPositionByHitTestInfo(e){return e?{pageIndex:e.pageIndex,pageBounds:{x:e.x,y:e.y,width:0,height:0}}:{pageIndex:0,pageBounds:{x:0,y:0,width:0,height:0}}};t._setLandscape=function _setLandscape(e,t){if(e.landscape!==t){e.landscape=t;var o=e.width;e.width=e.height;e.height=o;var n=e.leftMargin;if(t){e.leftMargin=e.bottomMargin;e.bottomMargin=e.rightMargin;e.rightMargin=e.topMargin;e.topMargin=n}else{e.leftMargin=e.topMargin;e.topMargin=e.rightMargin;e.rightMargin=e.bottomMargin;e.bottomMargin=n}}};t._showImageButton=function _showImageButton(o,n){n?e.removeClass(o,t._hiddenCss):e.addClass(o,t._hiddenCss)};t._isDisabledImageButton=function _isDisabledImageButton(t){return e.hasClass(t,a)};t._isCheckedImageButton=function _isCheckedImageButton(t){return e.hasClass(t,r)};function _toDOM(e){return t._toDOMs(e).firstChild}t._toDOM=_toDOM}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_Toolbar,o);function _Toolbar(n){var i,r=o.call(this,n)||this;r._disposed=!1;r.svgButtonClicked=new e.Event;i=r.getTemplate();r.applyTemplate("wj-toolbar",i,{_toolbarWrapper:"toolbar-wrapper",_toolbarContainer:"toolbar-container",_toolbarLeft:"toolbar-left",_toolbarRight:"toolbar-right"});t._addEvent(r._toolbarLeft,"mouseover",(function(){r._scrollLeft()}));t._addEvent(r._toolbarLeft,"mouseout",(function(){r._clearToolbarMoveTimer()}));t._addEvent(r._toolbarRight,"mouseover",(function(){r._scrollRight()}));t._addEvent(r._toolbarRight,"mouseout",(function(){r._clearToolbarMoveTimer()}));return r}_Toolbar.prototype.applyTemplate=function(o,n,i){var r=this.hostElement;e.addClass(r,o);r.appendChild(t._toDOMs(n));if(i)for(var a in i){var s=i[a];this[a]=r.querySelector('[wj-part="'+s+'"]');null==this[a]&&r.getAttribute("wj-part")==s&&(this[a]=n);if(null==this[a])throw'Missing template part: "'+s+'"'}return r};_Toolbar.prototype.dispose=function(){this._disposed=!0;o.prototype.dispose.call(this)};_Toolbar.prototype._clearToolbarMoveTimer=function(){if(null!=this._toolbarMoveTimer){clearTimeout(this._toolbarMoveTimer);this._toolbarMoveTimer=null}};_Toolbar.prototype._scrollRight=function(){var e=this,t=this._toolbarContainer.offsetWidth-this._toolbarWrapper.offsetWidth,o=this._toolbarWrapper.style,n=(o.left?parseInt(o.left):0)-_Toolbar._moveStep;this._checkMoveButtonEnabled();if(!(n<t)){o.left=n+"px";this._toolbarMoveTimer=setTimeout((function(){return e._scrollRight()}),_Toolbar._moveInterval)}};_Toolbar.prototype._scrollLeft=function(){var e=this,t=this._toolbarWrapper.style,o=(t.left?parseInt(t.left):0)+_Toolbar._moveStep;this._checkMoveButtonEnabled();if(!(o>0)){t.left=o+"px";this._toolbarMoveTimer=setTimeout((function(){return e._scrollLeft()}),_Toolbar._moveInterval)}};_Toolbar.prototype._checkMoveButtonEnabled=function(){var t=this._toolbarLeft.getBoundingClientRect().width,o=this._toolbarWrapper.offsetLeft-t+_Toolbar._moveStep<=0,n=e.hasClass(this._toolbarLeft,_Toolbar._enabledCss);o?n||e.addClass(this._toolbarLeft,_Toolbar._enabledCss):n&&e.removeClass(this._toolbarLeft,_Toolbar._enabledCss);var i=this._toolbarRight.getBoundingClientRect().width,r=this._toolbarContainer.getBoundingClientRect().width-this._toolbarWrapper.getBoundingClientRect().width,a=this._toolbarWrapper.offsetLeft-i-_Toolbar._moveStep>=r,s=e.hasClass(this._toolbarRight,_Toolbar._enabledCss);a?s||e.addClass(this._toolbarRight,_Toolbar._enabledCss):s&&e.removeClass(this._toolbarRight,_Toolbar._enabledCss)};_Toolbar.prototype._showToolbarMoveButton=function(e){var t=e?"visible":"hidden";this._toolbarLeft.style.visibility=t;this._toolbarRight.style.visibility=t;this._checkMoveButtonEnabled()};_Toolbar.prototype._globalize=function(){};_Toolbar.prototype.resetWidth=function(){var e=this._toolbarLeft.getBoundingClientRect().width,t=this._toolbarRight.getBoundingClientRect().width,o=this.hostElement.getBoundingClientRect().width;this._toolbarContainer.style.width="1500px";this._toolbarWrapper.style.width="auto";var n=this._toolbarWrapper.getBoundingClientRect().width+2;this._toolbarWrapper.style.width=n+"px";this._toolbarContainer.style.width=o-e-t+"px";var i=e+t+n>o;this._showToolbarMoveButton(i);i||(this._toolbarWrapper.style.left="0px")};_Toolbar.prototype.addSeparator=function(){var e=document.createElement("span");e.className="wj-separator";this._toolbarWrapper.appendChild(e);return e};_Toolbar.prototype.onSvgButtonClicked=function(e){this.svgButtonClicked.raise(this,e)};_Toolbar.prototype.addCustomItem=function(o,n){e.isString(o)&&(o=t._toDOM(o));null!=n&&o.setAttribute(t._commandTagAttr,n.toString());this._toolbarWrapper.appendChild(o)};_Toolbar.prototype.addSvgButton=function(o,n,i,r){var a=this,s=t._createSvgBtn(n);s.title=o;s.setAttribute(t._commandTagAttr,i.toString());this._toolbarWrapper.appendChild(s);t._addEvent(s,"click,keydown",(function(o){var n=o||window.event;("keydown"!==n.type||n.keyCode!==e.Key.Enter)&&"click"!==n.type||t._isDisabledImageButton(s)||!r&&t._isCheckedImageButton(s)||a.onSvgButtonClicked({commandTag:i})}));return s};_Toolbar.prototype.refresh=function(e){void 0===e&&(e=!0);o.prototype.refresh.call(this,e);e&&this._globalize()};_Toolbar._moveStep=4;_Toolbar._moveInterval=5;_Toolbar._enabledCss="enabled";_Toolbar.controlTemplate='<div class="wj-toolbar-move left" wj-part="toolbar-left"><span class="wj-glyph-left"></span></div><div class="wj-toolbarcontainer" wj-part="toolbar-container"><div class="wj-toolbarwrapper wj-btn-group" wj-part="toolbar-wrapper"></div></div><div class="wj-toolbar-move right" wj-part="toolbar-right"><span class="wj-glyph-right"></span></div>';return _Toolbar}(e.Control);t._Toolbar=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ViewerToolbarBase,o);function _ViewerToolbarBase(e,n){var i=o.call(this,e)||this;i._viewer=n;i._initToolbarItems();var update=function(){return i.isDisabled=!i._viewer._getDocumentSource()};i._viewer._documentSourceChanged.addHandler(update);update();i._viewer._viewerActionStatusChanged.addHandler((function(e,o){var n=o.action,r=i.hostElement.querySelector('[command-tag="'+n.actionType.toString()+'"]');t._checkImageButton(r,n.checked);t._disableImageButton(r,n.disabled);t._showImageButton(r,n.shown);t._checkSeparatorShown(i._toolbarWrapper)}));return i}_ViewerToolbarBase.prototype._initToolbarItems=function(){throw e.culture.Viewer.abstractMethodException};_ViewerToolbarBase.prototype.onSvgButtonClicked=function(e){o.prototype.onSvgButtonClicked.call(this,e);this._viewer._executeAction(parseInt(e.commandTag))};Object.defineProperty(_ViewerToolbarBase.prototype,"viewer",{get:function(){return this._viewer},enumerable:!0,configurable:!0});_ViewerToolbarBase._initToolbarZoomValue=function(o,n){var i,r,a,s,c=e.Control.getControl(o),u=document.createElement("div"),l=t.ViewerBase._defaultZoomValues;u.className="wj-input-zoom";c.addCustomItem(u,t._ViewerActionType.ZoomValue);(i=new e.input.ComboBox(u)).deferUpdate((function(){for(a=0;a<l.length;a++)for(s=a+1;s<l.length;s++)if(l[a].value>l[s].value){r=l[a];l[a]=l[s];l[s]=r}i.itemsSource=l;i.isEditable=!0;i.displayMemberPath="name";i.selectedValuePath="value";i.selectedValue=1}));i.selectedIndexChanged.addHandler((function(){if(i.isDroppedDown){var e=i.selectedValue;if(null==e){var t=i.text.replace(",","");e=parseFloat(t);isNaN(e)&&(e=100);e*=.01}n.zoomFactor=e}}));i.textChanged.addHandler((function(){var e,o=i.text;if(o.length>0){e=t.ViewerBase._zoomValuesParser(o);isNaN(e)||(n.zoomFactor=.01*e)}}));var p=[n.zoomFactor],selectZoomRange=function(e){var t=l.length;if(!t)return[e,e];for(var o=-1,n=0;n<t;n++)if(l[n].value>e){o=n-1;break}if(-1===o){return[i=l[0].value,i]}if(o===t-1){var i;return[i=l[o].value,i]}return[l[o].value,l[o+1].value]};i.hostElement.addEventListener("wheel",(function(e){if(i.containsFocus()&&i.selectedIndex<0){var t=selectZoomRange(n.zoomFactor);n.zoomFactor=t[e.deltaY<0?0:1];e.preventDefault()}}));i.hostElement.addEventListener("keydown",(function(t){if(i.containsFocus())switch(t.keyCode){case e.Key.Up:l.map((function(e){return e.value})).indexOf(p[1])<0&&(n.zoomFactor=selectZoomRange(p[1])[0]);break;case e.Key.Down:l.map((function(e){return e.value})).indexOf(p[0])<0&&(n.zoomFactor=selectZoomRange(p[0])[1]);break;case e.Key.PageUp:n.zoomFactor=l[0].value;break;case e.Key.PageDown:n.zoomFactor=l[l.length-1].value}}));var h=u.querySelector(".wj-form-control");t._addEvent(h,"blur",(function(e){i.text=t.ViewerBase._zoomValuesFormatter(n.zoomFactor)}));t._addEvent(h,"keypress",(function(e){["1","2","3","4","5","6","7","8","9","0"].indexOf(e.key)<0&&e.preventDefault()}));n.zoomFactorChanged.addHandler((function(e,o){p.push(n.zoomFactor);p.length>2&&p.splice(0,1);i.text=t.ViewerBase._zoomValuesFormatter(n.zoomFactor);i.isDroppedDown=!1}))};_ViewerToolbarBase._initToolbarPageNumberInput=function(o,n){var i,r=e.Control.getControl(o),a=document.createElement("div"),s=document.createElement("span"),updatePageNumber=function(){var e=n._getDocumentSource();e&&null!=e.pageCount&&(i.value=n.pageIndex+1)},updatePageCount=function(){var e=n._getDocumentSource();if(e&&null!=e.pageCount){s.innerHTML=e.pageCount.toString();i.max=e.pageCount;i.min=Math.min(e.pageCount,1);updatePageNumber()}},sourceChanged=function(){var e=n._getDocumentSource();if(e){updatePageCount();t._addWjHandler(n._documentEventKey,e.pageCountChanged,updatePageCount);t._addWjHandler(n._documentEventKey,e.loadCompleted,updatePageCount)}};a.className="wj-pagenumber";r.addCustomItem(a,t._ViewerActionType.PageNumber);(i=new e.input.InputNumber(a)).format="n0";t._addEvent(a,"keyup",(function(t){(t||window.event).keyCode===e.Key.Enter&&n.moveToPage(i.value-1)}));t._addEvent(i.inputElement,"blur",(function(e){n.moveToPage(i.value-1)}));r.addCustomItem('<span class="slash">/</span>');s.className="wj-pagecount";r.addCustomItem(s,t._ViewerActionType.PageCountLabel);n.pageIndexChanged.addHandler(updatePageNumber);n._getDocumentSource()&&sourceChanged();n._documentSourceChanged.addHandler(sourceChanged)};return _ViewerToolbarBase}(t._Toolbar);t._ViewerToolbarBase=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_SideTabs,o);function _SideTabs(t){var n=o.call(this,t)||this;n._idCounter=0;n._tabPages=[];n._tabPageDic={};n.tabPageActived=new e.Event;n.tabPageVisibilityChanged=new e.Event;n.expanded=new e.Event;n.collapsed=new e.Event;var i=n.getTemplate();n.applyTemplate("wj-control",i,{_headersContainer:"wj-headers",_contentsContainer:"wj-contents"});return n}_SideTabs.prototype.applyTemplate=function(o,n,i){var r=this.hostElement;e.addClass(r,o);r.appendChild(t._toDOMs(n));if(i)for(var a in i){var s=i[a];this[a]=r.querySelector('[wj-part="'+s+'"]');null==this[a]&&r.getAttribute("wj-part")==s&&(this[a]=n);if(null==this[a])throw'Missing template part: "'+s+'"'}return r};Object.defineProperty(_SideTabs.prototype,"tabPages",{get:function(){return this._tabPages},enumerable:!0,configurable:!0});_SideTabs.prototype.getTabPage=function(e){return this._tabPageDic[e]};_SideTabs.prototype.getFirstShownTabPage=function(e){var t;this._tabPages.some((function(o){if(!o.isHidden&&o!==e){t=o;return!0}return!1}));return t};Object.defineProperty(_SideTabs.prototype,"visibleTabPagesCount",{get:function(){var e=0;this._tabPages.forEach((function(t){t.isHidden||e++}));return e},enumerable:!0,configurable:!0});Object.defineProperty(_SideTabs.prototype,"activedTabPage",{get:function(){var e;this._tabPages.some((function(t){if(t.isActived){e=t;return!0}return!1}));return e},enumerable:!0,configurable:!0});_SideTabs.prototype.removePage=function(e){var t;if(t="string"==typeof e?this.getTabPage(e):e){var o=t.id,n=this._tabPages.indexOf(t);if(!(n<0)){this._tabPages.splice(n,1);this._tabPageDic[o]=void 0;if(!this.isCollapsed&&t.isActived){var i=this.getFirstShownTabPage();i?this.active(i):this.collapse()}this._headersContainer.removeChild(t.header);this._contentsContainer.removeChild(t.outContent)}}};_SideTabs.prototype.addPage=function(o,n,i){var r=this,a=this._getNewTabPageId(),s=document.createElement("li"),c='<div class="wj-tabpane"><div class="wj-tabtitle-wrapper"><h3 class="wj-tabtitle">'+o+'</h3><span class="wj-close">×</span></div><div class="wj-tabcontent-wrapper"><div class="wj-tabcontent-inner"></div></div></div>',u=t._toDOM(c),l=t._createSvgBtn(n);s.appendChild(l);i=null==i?this._tabPages.length:i;if((i=Math.min(Math.max(i,0),this._tabPages.length))>=this._tabPages.length){this._headersContainer.appendChild(s);this._contentsContainer.appendChild(u)}else{this._headersContainer.insertBefore(s,this._tabPages[i].header);this._contentsContainer.insertBefore(u,this._tabPages[i].outContent)}t._addEvent(u.querySelector(".wj-close"),"click",(function(){r.collapse()}));t._addEvent(s.querySelector("a"),"click,keydown",(function(t){var o=r.getTabPage(a);if(o){("keydown"===t.type&&t.keyCode===e.Key.Enter||"click"===t.type)&&r.active(o)}}));var p=new t._TabPage(u,s,a);i>=this._tabPages.length?this._tabPages.push(p):this._tabPages.splice(i,0,p);this._tabPageDic[a]=p;if(!this.isCollapsed){this.activedTabPage||this.active(p)}return p};Object.defineProperty(_SideTabs.prototype,"isCollapsed",{get:function(){return e.hasClass(this.hostElement,_SideTabs._collapsedCss)},enumerable:!0,configurable:!0});_SideTabs.prototype.hide=function(o){var n="string"==typeof o?this.getTabPage(o):o;if(n&&!e.hasClass(n.header,t._hiddenCss)){e.addClass(n.header,t._hiddenCss);this.onTabPageVisibilityChanged(n);this.deactive(n)}};_SideTabs.prototype.show=function(o){var n="string"==typeof o?this.getTabPage(o):o;if(n&&e.hasClass(n.header,t._hiddenCss)){e.removeClass(n.header,t._hiddenCss);this.onTabPageVisibilityChanged(n);if(!this.isCollapsed){this.activedTabPage||this.active(n)}}};_SideTabs.prototype.deactive=function(o){var n="string"==typeof o?this.getTabPage(o):o;if(n&&n.isActived){e.removeClass(n.outContent,_SideTabs._activedCss);t._checkImageButton(n.header.querySelector("a"),!1);var i=this.getFirstShownTabPage(n);i?this.active(i):this.collapse()}};_SideTabs.prototype.active=function(o){var n="string"==typeof o?this.getTabPage(o):o;if(n&&!n.isActived){this._clearActiveStyles();this.show(n);e.addClass(n.outContent,_SideTabs._activedCss);t._checkImageButton(n.header.querySelector("a"),!0);this.expand();this.onTabPageActived()}};_SideTabs.prototype.enable=function(e,t){void 0===t&&(t=!0);var o="string"==typeof e?this.getTabPage(e):e;o&&o.enable(t)};_SideTabs.prototype.enableAll=function(e){void 0===e&&(e=!0);this._tabPages.forEach((function(t){t.enable(e)}))};_SideTabs.prototype.onTabPageActived=function(){this.tabPageActived.raise(this)};_SideTabs.prototype.onTabPageVisibilityChanged=function(e){this.tabPageVisibilityChanged.raise(this,{tabPage:e})};_SideTabs.prototype.onExpanded=function(){this.expanded.raise(this)};_SideTabs.prototype.onCollapsed=function(){this.collapsed.raise(this)};_SideTabs.prototype.collapse=function(){if(!this.isCollapsed){this._clearActiveStyles();e.addClass(this.hostElement,_SideTabs._collapsedCss);this.onCollapsed()}};_SideTabs.prototype.expand=function(){if(this.isCollapsed){e.removeClass(this.hostElement,_SideTabs._collapsedCss);if(!this.activedTabPage){var t=this.getFirstShownTabPage();t&&this.active(t)}this.onExpanded()}};_SideTabs.prototype.toggle=function(){this.isCollapsed?this.expand():this.collapse()};_SideTabs.prototype._clearActiveStyles=function(){this._tabPages.forEach((function(o){e.removeClass(o.outContent,_SideTabs._activedCss);t._checkImageButton(o.header.querySelector("a"),!1)}))};_SideTabs.prototype._getNewTabPageId=function(){for(;this._tabPageDic[(this._idCounter++).toString()];);return this._idCounter.toString()};_SideTabs._activedCss="active";_SideTabs._collapsedCss="collapsed";_SideTabs.controlTemplate='<ul class="wj-nav wj-btn-group" wj-part="wj-headers"></ul><div class="wj-tabcontent" wj-part="wj-contents"></div>';return _SideTabs}(e.Control);t._SideTabs=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(){function _TabPage(e,t,o){this._header=t;this._outContent=e;this._content=e.querySelector(".wj-tabcontent-inner");this._id=o}Object.defineProperty(_TabPage.prototype,"isActived",{get:function(){return e.hasClass(this.outContent,t._SideTabs._activedCss)},enumerable:!0,configurable:!0});Object.defineProperty(_TabPage.prototype,"isHidden",{get:function(){return e.hasClass(this.header,t._hiddenCss)},enumerable:!0,configurable:!0});Object.defineProperty(_TabPage.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(_TabPage.prototype,"header",{get:function(){return this._header},enumerable:!0,configurable:!0});Object.defineProperty(_TabPage.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0});Object.defineProperty(_TabPage.prototype,"outContent",{get:function(){return this._outContent},enumerable:!0,configurable:!0});_TabPage.prototype.enable=function(t){void 0===t&&(t=!0);e.enable(this._header,t);e.enable(this._content,t)};_TabPage.prototype.format=function(e){e(this)};return _TabPage}();t._TabPage=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_PageSetupEditor,o);function _PageSetupEditor(n){var i=o.call(this,n)||this;i._uiUpdating=!1;var r;e.assert(null!=e.input.ComboBox,"Missing dependency: _PageSetupEditor requires wijmo.input.");r=i.getTemplate();i.applyTemplate("wj-control",r,{_divPaperKind:"div-paper-kind",_divOrientation:"div-page-orientation",_divMarginsLeft:"div-margins-left",_divMarginsRight:"div-margins-right",_divMarginsTop:"div-margins-top",_divMarginsBottom:"div-margins-bottom",_gPaperKind:"g-paperkind",_gOrientation:"g-orientation",_gMargins:"g-margins",_gLeft:"g-left",_gRight:"g-right",_gTop:"g-top",_gBottom:"g-bottom"});var a={format:"n2",min:0,max:4,step:.25,valueChanged:i._updateValue.bind(i)};i._numMarginsLeft=new e.input.InputNumber(i._divMarginsLeft,a);i._numMarginsRight=new e.input.InputNumber(i._divMarginsRight,a);i._numMarginsTop=new e.input.InputNumber(i._divMarginsTop,a);i._numMarginsBottom=new e.input.InputNumber(i._divMarginsBottom,a);i._cmbPaperKind=new e.input.ComboBox(i._divPaperKind,{itemsSource:t._enumToArray(t._PaperKind),displayMemberPath:"text",selectedValuePath:"value",isEditable:!1});i._cmbPaperKind.selectedIndexChanged.addHandler(i._updateValue,i);i._cmbOrientation=new e.input.ComboBox(i._divOrientation,{itemsSource:[e.culture.Viewer.portrait,e.culture.Viewer.landscape],isEditable:!1});i._cmbOrientation.selectedIndexChanged.addHandler(i._updateValue,i);i._globalize();return i}Object.defineProperty(_PageSetupEditor.prototype,"pageSettings",{get:function(){return this._pageSettings},set:function(e){var t=this._clonePageSettings(e);this._pageSettings=t;this._updateUI();this._cmbPaperKind.focus()},enumerable:!0,configurable:!0});_PageSetupEditor.prototype._globalize=function(){var t=e.culture.Viewer;this._gPaperKind.textContent=t.paperKind;this._gOrientation.textContent=t.orientation;this._gMargins.textContent=t.margins;this._gLeft.textContent=t.left;this._gRight.textContent=t.right;this._gTop.textContent=t.top;this._gBottom.textContent=t.bottom;var o=this._cmbOrientation.selectedIndex;this._cmbOrientation.itemsSource=[e.culture.Viewer.portrait,e.culture.Viewer.landscape];this._cmbOrientation.selectedIndex=o};_PageSetupEditor.prototype._updateValue=function(){if(!this._uiUpdating){var o=this.pageSettings;if(o){o.bottomMargin=new t._Unit(this._numMarginsBottom.value,t._UnitType.Inch);o.leftMargin=new t._Unit(this._numMarginsLeft.value,t._UnitType.Inch);o.rightMargin=new t._Unit(this._numMarginsRight.value,t._UnitType.Inch);o.topMargin=new t._Unit(this._numMarginsTop.value,t._UnitType.Inch);o.paperSize=this._cmbPaperKind.selectedValue;t._setLandscape(o,this._cmbOrientation.text===e.culture.Viewer.landscape);this._updateUI()}}};_PageSetupEditor.prototype._clonePageSettings=function(e){if(!e)return null;var o={};o.height=e.height?new t._Unit(e.height):null;o.width=e.width?new t._Unit(e.width):null;o.bottomMargin=e.bottomMargin?new t._Unit(e.bottomMargin):null;o.leftMargin=e.leftMargin?new t._Unit(e.leftMargin):null;o.rightMargin=e.rightMargin?new t._Unit(e.rightMargin):null;o.topMargin=e.topMargin?new t._Unit(e.topMargin):null;o.landscape=e.landscape;o.paperSize=e.paperSize;return o};_PageSetupEditor.prototype._updateUI=function(){this._uiUpdating=!0;var o=this.pageSettings,setMargin=function(e,o){e.value=t._Unit.convertValue(o.value,o.units,t._UnitType.Inch)};if(o){this._cmbPaperKind.selectedIndex=this._findIndex(this._cmbPaperKind.itemsSource,(function(e){return e.value==o.paperSize}));this._cmbOrientation.text=o.landscape?e.culture.Viewer.landscape:e.culture.Viewer.portrait;setMargin(this._numMarginsLeft,o.leftMargin);setMargin(this._numMarginsRight,o.rightMargin);setMargin(this._numMarginsTop,o.topMargin);setMargin(this._numMarginsBottom,o.bottomMargin)}this._uiUpdating=!1};_PageSetupEditor.prototype._findIndex=function(e,t){e.length,arguments[1];for(var o=0;o<e.length;o++)if(t(e[o]))return o;return-1};_PageSetupEditor.prototype.refresh=function(e){void 0===e&&(e=!0);o.prototype.refresh.call(this,e);e&&this._globalize()};_PageSetupEditor.controlTemplate='<div><div style="padding:12px;"><table style="table-layout:fixed"><tr><td wj-part="g-paperkind"></td><td><div wj-part="div-paper-kind"></div></td></tr><tr><td wj-part="g-orientation"></td><td><div wj-part="div-page-orientation"></div></td></tr></table><fieldset style="margin-top: 12px"><legend wj-part="g-margins"></legend><table style="table-layout:fixed"><tr><td wj-part="g-left"></td><td><div wj-part="div-margins-left"></div></td></tr><tr><td wj-part="g-right"></td><td><div wj-part="div-margins-right"></div></td></tr><tr><td wj-part="g-top"></td><td><div wj-part="div-margins-top"></div></td></tr><tr><td wj-part="g-bottom"></td><td><div wj-part="div-margins-bottom"></div></td></tr></table></fieldset></div></div>';return _PageSetupEditor}(e.Control);t._PageSetupEditor=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_PageSetupDialog,o);function _PageSetupDialog(n){var i,r=o.call(this,n)||this;r.applied=new e.Event;r.modal=!0;r.hideTrigger=e.input.PopupTrigger.None;i=r.getTemplate();r.applyTemplate("wj-control wj-content",i,{_gHeader:"g-header",_pageSetupEditorElement:"pagesetup-editor",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClose:"a-close"});r._pageSetupEditor=new t._PageSetupEditor(r._pageSetupEditorElement);r._globalize();r._addEvents();return r}Object.defineProperty(_PageSetupDialog.prototype,"pageSettings",{get:function(){return this._pageSetupEditor.pageSettings},enumerable:!0,configurable:!0});_PageSetupDialog.prototype._globalize=function(){var t=e.culture.Viewer;this._gHeader.textContent=t.pageSetup;this._btnApply.textContent=t.ok;this._btnCancel.textContent=t.cancel};_PageSetupDialog.prototype._addEvents=function(){var e=this;t._addEvent(e._btnClose,"click",(function(){e.hide()}));t._addEvent(e._btnCancel,"click",(function(){e.hide()}));t._addEvent(e._btnApply,"click",(function(){e._apply();e.hide()}))};_PageSetupDialog.prototype._apply=function(){this.onApplied()};_PageSetupDialog.prototype.onApplied=function(){this.applied.raise(this)};_PageSetupDialog.prototype.showWithValue=function(e){this._pageSetupEditor.pageSettings=e;o.prototype.show.call(this)};_PageSetupDialog.prototype.refresh=function(e){void 0===e&&(e=!0);o.prototype.refresh.call(this,e);if(e){this._globalize();this._pageSetupEditor.refresh()}};_PageSetupDialog.controlTemplate='<div><div wj-part="g-header" class="wj-dialog-header"><a class="wj-hide" wj-part="a-close" style="float:right;outline:none;text-decoration:none;padding:0px 6px" href="" tabindex="-1" draggable="false">&times;</a></div><div style="padding:12px;"><div wj-part="pagesetup-editor"></div></div><div class="wj-dialog-footer"><a wj-part="btn-apply" class="wj-hide wj-btn" tabindex="-1"></a>&nbsp;&nbsp;<a wj-part="btn-cancel" class="wj-hide wj-btn" tabindex="-1"></a></div></div>';return _PageSetupDialog}(e.input.Popup);t._PageSetupDialog=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(t){__extends(_MouseTool,t);function _MouseTool(e,o,n,i,r,a,s){var c=t.call(this,e)||this;c._stopOnClientOut=i;c._css=r;c._activeCss=a;c._visibleCss=s;c._pageView=n;c._viewPanelContainer=o;c._initElement();c._bindEvents();return c}_MouseTool.prototype.activate=function(){if(!this._isActive){this._isActive=!0;e.addClass(this._viewPanelContainer,this._activeCss)}};_MouseTool.prototype.deactivate=function(){if(this._isActive){this._isActive=!1;e.removeClass(this._viewPanelContainer,this._activeCss)}};_MouseTool.prototype.reset=function(){this._innerStop(null)};Object.defineProperty(_MouseTool.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0});Object.defineProperty(_MouseTool.prototype,"startPnt",{get:function(){return this._startPnt},enumerable:!0,configurable:!0});Object.defineProperty(_MouseTool.prototype,"pageView",{get:function(){return this._pageView},enumerable:!0,configurable:!0});Object.defineProperty(_MouseTool.prototype,"viewPanelContainer",{get:function(){return this._viewPanelContainer},enumerable:!0,configurable:!0});_MouseTool.prototype._initElement=function(){this.applyTemplate(this._css,this.getTemplate(),this._getTemplateParts());this._viewPanelContainer.appendChild(this.hostElement)};_MouseTool.prototype._innerStop=function(e){try{this._stop(e)}finally{this._isStarted=!1;this._startPnt=null}};_MouseTool.prototype._getTemplateParts=function(){return null};_MouseTool.prototype._onMouseDown=function(e){var t=this._toClientPoint(e),o=this._testPageWorkingAreaHit(t);if(o&&this.pageView.isPageContentLoaded(o.pageIndex)){void 0!==window.getSelection&&getSelection().removeAllRanges();this._isStarted=!0;this._startPnt=t;this._start(o)}};_MouseTool.prototype._onMouseMove=function(e){if(this._isStarted){var t=this._toClientPoint(e),o=this._testPageWorkingAreaHit(t);o&&this.pageView.isPageContentLoaded(o.pageIndex)?this._move(t,o):this._stopOnClientOut&&this._stop(t)}};_MouseTool.prototype._onMouseUp=function(e){this._isStarted&&this._innerStop(this._toClientPoint(e))};_MouseTool.prototype._start=function(t){e.addClass(this.hostElement,this._visibleCss)};_MouseTool.prototype._move=function(e,t){};_MouseTool.prototype._stop=function(t){e.removeClass(this.hostElement,this._visibleCss)};_MouseTool.prototype._bindEvents=function(){var e=this;this.addEventListener(this._viewPanelContainer,"mousedown",(function(t){e._isActive&&e._onMouseDown(t)}));this.addEventListener(this._viewPanelContainer,"mousemove",(function(t){e._isActive&&e._onMouseMove(t)}));this.addEventListener(document,"mouseup",(function(t){e._isActive&&e._onMouseUp(t)}))};_MouseTool.prototype._toClientPoint=function(t){var o=this._viewPanelContainer.getBoundingClientRect();return new e.Point(t.clientX-o.left,t.clientY-o.top)};_MouseTool.prototype._testPageWorkingAreaHit=function(e){var t=this._pageView.hitTest(e.x,e.y);return t&&t.hitWorkingArea?t:null};return _MouseTool}(e.Control);t._MouseTool=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_Rubberband,o);function _Rubberband(t,n,i){var r=o.call(this,t,n,i,!1,"wj-rubberband","rubberband-actived","show")||this;r.applied=new e.Event;return r}_Rubberband.prototype._start=function(e){o.prototype._start.call(this,e);this.hostElement.style.left=this.startPnt.x+"px";this.hostElement.style.top=this.startPnt.y+"px"};_Rubberband.prototype._move=function(e,t){if(this.startPnt){this.viewPanelContainer.getBoundingClientRect();this.hostElement.style.width=e.x-this.startPnt.x+"px";this.hostElement.style.height=e.y-this.startPnt.y+"px"}};_Rubberband.prototype._stop=function(n){if(n){var i=this.hostElement.getBoundingClientRect();i.width>5&&i.height>5&&this._onApplied(new t._RubberbandOnAppliedEventArgs(new e.Rect(this.startPnt.x,this.startPnt.y,i.width,i.height)))}this.hostElement.style.width="0px";this.hostElement.style.height="0px";o.prototype._stop.call(this,n)};_Rubberband.prototype._onApplied=function(e){this.applied.raise(this,e)};return _Rubberband}(t._MouseTool);t._Rubberband=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";var t=function(t){__extends(_Magnifier,t);function _Magnifier(e,o,n){var i=t.call(this,e,o,n,!0,"wj-magnifier","magnifier-actived","show")||this;i._Magnification=2;i._currentPageIndex=-1;return i}_Magnifier.prototype.deactivate=function(){t.prototype.deactivate.call(this);this._currentPageIndex=-1};_Magnifier.prototype.reset=function(){t.prototype.reset.call(this);this._currentPageIndex=-1};_Magnifier.prototype._getTemplateParts=function(){return{_viewPageDiv:"view-page-div"}};_Magnifier.prototype._bindEvents=function(){var o=this;t.prototype._bindEvents.call(this);var updateViewPage=function(){if(!(o._currentPageIndex<0)){var t=o.pageView.pages[o._currentPageIndex],n=e._getRotatedSize(t.size,t.rotateAngle),i=o._viewPageDiv.querySelector("svg");o._viewPageDiv.style.height=n.height.valueInPixel*o.pageView.zoomFactor*o._Magnification+"px";o._viewPageDiv.style.width=n.width.valueInPixel*o.pageView.zoomFactor*o._Magnification+"px";i.setAttribute("width",o._viewPageDiv.style.width);i.setAttribute("height",o._viewPageDiv.style.height);e._transformSvg(i,t.size.width.valueInPixel,t.size.height.valueInPixel,o._Magnification*o.pageView.zoomFactor,t.rotateAngle)}};this.pageView.zoomFactorChanged.addHandler((function(){updateViewPage()}));this.pageView.rotateAngleChanged.addHandler((function(){updateViewPage()}))};_Magnifier.prototype._start=function(e){t.prototype._start.call(this,e);this._showMagnifer(this.startPnt,e)};_Magnifier.prototype._move=function(e,t){this._showMagnifer(e,t)};_Magnifier.prototype._showMagnifer=function(t,o){var n=this.hostElement.getBoundingClientRect(),i=e._getPositionByHitTestInfo(o);this.hostElement.style.left=t.x-n.width/2+"px";this.hostElement.style.top=t.y-n.height/2+"px";this._fillPage(i);this._showHitPosition(i)};_Magnifier.prototype._fillPage=function(t){var o=this;if(t.pageIndex!==this._currentPageIndex){this._currentPageIndex=t.pageIndex;this.pageView.pages[this._currentPageIndex].getContent().then((function(t){var n=t.cloneNode(!0);o._viewPageDiv.innerHTML="";o._viewPageDiv.appendChild(n);n.setAttribute("width",new e._Unit(n.getAttribute("width")).valueInPixel*o._Magnification+"px");n.setAttribute("height",new e._Unit(n.getAttribute("height")).valueInPixel*o._Magnification+"px");var i=o.pageView.pages[o._currentPageIndex].size;e._transformSvg(n,i.width.valueInPixel,i.height.valueInPixel,o._Magnification*o.pageView.zoomFactor,o.pageView.pages[o._currentPageIndex].rotateAngle);o._viewPageDiv.style.width=n.getAttribute("width");o._viewPageDiv.style.height=n.getAttribute("height")}))}};_Magnifier.prototype._showHitPosition=function(t){var o=this.hostElement.getBoundingClientRect(),n=this.pageView.pages[this._currentPageIndex],i=e._getTransformedPosition(t.pageBounds,n.size,n.rotateAngle,this.pageView.zoomFactor);this._viewPageDiv.style.left=-i.x*this._Magnification+o.width/2+"px";this._viewPageDiv.style.top=-i.y*this._Magnification+o.height/2+"px"};_Magnifier.controlTemplate='<div wj-part="view-page-div" class="wj-view-page"></div>';return _Magnifier}(e._MouseTool);e._Magnifier=t}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(ViewerBase,o);function ViewerBase(n,i){var r=o.call(this,n,i,!0)||this;r._pages=[];r._pageIndex=0;r._mouseMode=t.MouseMode.SelectTool;r._viewMode=t.ViewMode.Single;r._needBind=!1;r._historyManager=new t._HistoryManager;r._fullScreen=!1;r._miniToolbarPinnedTimer=null;r._autoHeightCalculated=!1;r._searchManager=new t._SearchManager;r._thresholdWidth=767;r._historyMoving=!1;r._prohibitAddHistory=!1;r._initialScroll=!1;r._pageMoving=!1;r._devicePixelRatio=window.devicePixelRatio;r._documentSourceChanged=new e.Event;r.pageIndexChanged=new e.Event;r.viewModeChanged=new e.Event;r.mouseModeChanged=new e.Event;r.fullScreenChanged=new e.Event;r.zoomFactorChanged=new e.Event;r.zoomModeChanged=new e.Event;r.queryLoadingData=new e.Event;r.beforeSendRequest=new e.Event;r.pageLoaded=new e.Event;r._viewerActionStatusChanged=new e.Event;r._documentEventKey=(new Date).getTime().toString();r._init(i);return r}ViewerBase.prototype._getProductInfo=function(){return"QNI5,ViewerBase"};Object.defineProperty(ViewerBase.prototype,"serviceUrl",{get:function(){return this._serviceUrl},set:function(e){if(e!=this._serviceUrl){this._serviceUrl=e;this._needBindDocumentSource();this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(ViewerBase.prototype,"filePath",{get:function(){return this._filePath},set:function(e){if(e!=this._filePath){this._filePath=e;this._needBindDocumentSource();this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(ViewerBase.prototype,"requestHeaders",{get:function(){return this._requestHeaders},set:function(e){this._requestHeaders=e},enumerable:!0,configurable:!0});Object.defineProperty(ViewerBase.prototype,"thresholdWidth",{get:function(){return this._thresholdWidth},set:function(e){if(e!=this._thresholdWidth){this._thresholdWidth=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(ViewerBase.prototype,"_innerPaginated",{get:function(){return this._documentSource&&!this._needBind?this._documentSource.paginated:this._paginated},set:function(o){this._documentSource&&!this._needBind?this._setPaginated(o):this._paginated=null==o?null:e.asBoolean(o);this._setViewerAction(t._ViewerActionType.TogglePaginated,!0)},enumerable:!0,configurable:!0});ViewerBase.prototype._setTabOrder=function(e){o.prototype._setTabOrder.call(this,e);this._updateInnerElementsTabIndex()};ViewerBase.prototype._setIsDisabled=function(t){if((t=e.asBoolean(t,!0))!=this.isDisabled){var o=this._e;if(o){e.enable(o,!t);o.tabIndex=this.isDisabled||o.querySelector("input")?-1:this._orgTabIndex;this._updateInnerElementsTabIndex()}}};ViewerBase.prototype._updateInnerElementsTabIndex=function(){for(var e=this.isDisabled?-1:this._orgTabIndex,t=this._e.querySelectorAll("input, [tabindex], .wj-pageview"),o=0;o<t.length;o++)t[o].tabIndex=e};ViewerBase.prototype.invalidate=function(e){void 0===e&&(e=!0);o.prototype.invalidate.call(this,e);ViewerBase._exportItems=null;this._updateExportTab()};ViewerBase.prototype.reload=function(){this._needBindDocumentSource();this.invalidate()};ViewerBase.prototype.refresh=function(t){void 0===t&&(t=!0);o.prototype.refresh.call(this,t);if(this._needBind){this._setDocumentSource(this._getSource());this._needBind=!1}if(t){var n=e.Control.getControl(this._toolbar);n&&n.refresh();var i=e.Control.getControl(this._miniToolbar);i&&i.refresh();var r=e.Control.getControl(this._mobileToolbar);r&&r.refresh();var a=e.Control.getControl(this._zoomBar);a&&a.refresh();var s=e.Control.getControl(this._searchBar);s&&s.refresh();this._hamburgerMenu&&this._hamburgerMenu.refresh();this._viewMenu&&this._viewMenu.refresh();this._searchOptionsMenu&&this._searchOptionsMenu.refresh();ViewerBase._exportItems=null;this._updateExportTab(!0);this._globalize();this._updateLayout()}this._resetMiniToolbarPosition();this._resetToolbarWidth();this._resetViewPanelContainerWidth();this._autoHeightCalculated=!1};ViewerBase.prototype._updateLayout=function(){this._switchTemplate(this._isMobileTemplate())};ViewerBase.prototype._switchTemplate=function(t){var o=this.hostElement.querySelector(".wj-viewer-outer"),n=e.Control.getControl(this._sidePanel),i=n.getTabPage(this._pageSetupPageId);if(t){e.addClass(o,"mobile");n.show(i)}else{e.removeClass(o,"mobile");n.hide(i)}};ViewerBase.prototype._getSource=function(){return this.filePath?new t._DocumentSource({serviceUrl:this._serviceUrl,filePath:this._filePath},this):null};ViewerBase.prototype._needBindDocumentSource=function(){this._needBind=!0};ViewerBase.prototype._supportsPageSettingActions=function(){return!1};ViewerBase.prototype._isMobileTemplate=function(){return this.thresholdWidth>this.hostElement.getBoundingClientRect().width};ViewerBase.prototype._init=function(e){var t=this;this._createChildren();this._autoCalculateHeight();this._resetToolbarWidth();this._resetViewPanelContainerWidth();this._bindEvents();this._initTools();this.deferUpdate((function(){t.initialize(e)}))};ViewerBase.prototype._initTools=function(){var e=this;this._rubberband=new t._Rubberband(document.createElement("div"),this._viewpanelContainer,this._pageView);this._rubberband.applied.addHandler((function(o,n){var i=n.rect,r=e._pageView.hitTest(i.left,i.top),a=e._viewpanelContainer.getBoundingClientRect();i.width>i.height?e._pageView.zoomFactor*=a.width/i.width:e._pageView.zoomFactor*=a.height/i.height;e._pageView.moveToPosition(t._getPositionByHitTestInfo(r))}));this._magnifier=new t._Magnifier(document.createElement("div"),this._viewpanelContainer,this._pageView)};ViewerBase.prototype._globalize=function(){var t=e.culture.Viewer;this._gSearchTitle.textContent=t.search;this._gMatchCase.innerHTML="&nbsp;&nbsp;&nbsp;"+t.matchCase;this._gWholeWord.innerHTML="&nbsp;&nbsp;&nbsp;"+t.wholeWord;this._gSearchResults.textContent=t.searchResults;this._gThumbnailsTitle.textContent=t.thumbnails;this._gOutlinesTitle.textContent=t.outlines;this._gPageSetupTitle.textContent=t.pageSetup;this._gPageSetupApplyBtn.textContent=t.ok;this._gExportsPageTitle.textContent=t.exports;this._gExportsPageApplyBtn.textContent=t.exportOk;this._gExportFormatTitle.textContent=t.exportFormat};ViewerBase.prototype._autoCalculateHeight=function(){if(this._shouldAutoHeight()){var e=this._viewpanelContainer.style.height;this._viewpanelContainer.style.height="100%";this._viewerContainer.style.height=Math.max(this._viewpanelContainer.getBoundingClientRect().height,ViewerBase._viewpanelContainerMinHeight)+"px";this._viewpanelContainer.style.height=e}};ViewerBase.prototype._bindEvents=function(){var o=this;t._addEvent(window,"unload",(function(){o._documentSource&&o._documentSource.dispose()}));t._addEvent(window,"resize",(function(){var e=window.devicePixelRatio;if(o._devicePixelRatio!==e){o._devicePixelRatio=e;o._resetViewPanelContainerWidth()}}));t._addEvent(document,"mousemove",(function(e){if(o.fullScreen&&o._miniToolbar){var t=o._checkMiniToolbarVisible(e);if(null!=o._miniToolbarPinnedTimer&&t){clearTimeout(o._miniToolbarPinnedTimer);o._miniToolbarPinnedTimer=null;o._showMiniToolbar(t)}else null==o._miniToolbarPinnedTimer&&o._showMiniToolbar(t)}}));t._addEvent(document,"keydown",(function(t){t.keyCode===e.Key.Escape&&(o.fullScreen=!1)}));this._historyManager.statusChanged.addHandler(this._onHistoryManagerStatusUpdated,this);this._onHistoryManagerStatusUpdated();this._pageView.pageIndexChanged.addHandler((function(){o._initialScroll?o._initialScroll=!1:o._addHistory(!1,!0);o._updatePageIndex(o._pageView.pageIndex)}));this._pageView.zoomFactorChanged.addHandler((function(e,n){o.zoomMode===t.ZoomMode.Custom&&o._addHistory(!1,!0,{zoomFactor:n.oldValue});o.onZoomFactorChanged(n)}));this._pageView.zoomModeChanged.addHandler((function(e,t){o._addHistory(!1,!0,{zoomMode:t.oldValue});o.onZoomModeChanged(t)}));this.viewModeChanged.addHandler((function(e,t){o._addHistory(!1,!0,{viewMode:t.oldValue,zoomMode:o.zoomMode,zoomFactor:o.zoomFactor},!0)}));var n=null,i=null;this._pageView.positionChanged.addHandler((function(){if(!o._pageMoving){n||(i=o._pageIndex);clearTimeout(n);n=setTimeout((function(){i!==o._pageIndex?o._addHistory(!1,!0):o._updateHistoryCurrent(!0);n=null}),ViewerBase._historyTimeout)}}));this._pageView.pageLoaded.addHandler((function(e,t){o.onPageLoaded(t)}))};ViewerBase.prototype._checkMiniToolbarVisible=function(e){var t=e.clientX,o=e.clientY,n=this._miniToolbar.getBoundingClientRect(),i=n.left-60,r=n.right+60,a=n.top-60,s=n.bottom+60;return t>=i&&t<=r&&o>=a&&o<=s};ViewerBase.prototype._showMiniToolbar=function(e){var t,o=parseFloat(getComputedStyle(this._miniToolbar,"").opacity),n=this._miniToolbar;t=e?setInterval((function(){if(o>=.8)window.clearInterval(t);else{o+=.01;n.style.opacity=o.toString()}}),1):setInterval((function(){if(o<0)window.clearInterval(t);else{o-=.01;n.style.opacity=o.toString()}}),1)};ViewerBase.prototype._goToBookmark=function(e){var t=this;this._documentSource&&e.data&&this._documentSource.getBookmark(e.data).then((function(e){e&&t._scrollToPosition(e,!0)}))};ViewerBase.prototype._executeCustomAction=function(e){var o=this;if(this._documentSource&&e.data){this._initialPosition={pageIndex:this._pageIndex,pageBounds:{x:0,y:0,width:0,height:0}};this._resetDocument();this._showViewPanelMessage();this._setDocumentRendering();var n=this._documentSource;this._documentSource.executeCustomAction(e).then((function(e){o._initialPosition=e||o._initialPosition;o._getStatusUtilCompleted(n)})).catch((function(e){o._showViewPanelErrorMessage(t._getErrorMessage(e))}))}};ViewerBase.prototype._getStatusUtilCompleted=function(e){var t=this;!e||e.isLoadCompleted||e.isDisposed||e.getStatus().then((function(o){t._documentSource===e&&setTimeout((function(){return t._getStatusUtilCompleted(e)}),e._innerService.getPingTimeout())})).catch((function(e){t._showViewPanelErrorMessage(e)}))};ViewerBase.prototype._initChildren=function(){this._initPageView();this._initToolbar();this._initSidePanel();this._initSplitter();this._initFooter();this._initSearchBar();this._initMiniToolbar()};ViewerBase.prototype._initSearchBar=function(){new t._SearchBar(this._searchBar,this);this._showSearchBar(!1)};ViewerBase.prototype._showSearchBar=function(o){var n=this.hostElement.querySelector(".wj-viewer-outer");if(o){e.removeClass(this._searchBar,t._hiddenCss);e.addClass(n,"with-searchbar")}else{e.addClass(this._searchBar,t._hiddenCss);e.removeClass(n,"with-searchbar")}};ViewerBase.prototype._initFooter=function(){var e=this;new t._ViewerZoomBar(this._zoomBar,this);t._addEvent(this._footer.querySelector(".wj-close"),"click",(function(){e._showFooter(!1)}))};ViewerBase.prototype._showFooter=function(o){var n=this.hostElement.querySelector(".wj-viewer-outer");if(o){e.removeClass(this._footer,t._hiddenCss);e.addClass(n,"with-footer")}else{e.addClass(this._footer,t._hiddenCss);e.removeClass(n,"with-footer")}this._pageView.refresh()};ViewerBase.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-viewer wj-control",e,{_viewpanelContainer:"viewpanel-container",_toolbar:"toolbar",_mobileToolbar:"mobile-toolbar",_miniToolbar:"mini-toolbar",_leftPanel:"viewer-left-panel",_sidePanel:"side-panel",_viewerContainer:"viewer-container",_splitter:"splitter",_footer:"viewer-footer",_zoomBar:"zoom-bar",_searchBar:"search-bar"});this._initChildren()};ViewerBase.prototype._initPageView=function(){new t._CompositePageView(this._viewpanelContainer).viewMode=this.viewMode};Object.defineProperty(ViewerBase.prototype,"_pageView",{get:function(){return e.Control.getControl(this._viewpanelContainer)},enumerable:!0,configurable:!0});ViewerBase.prototype._initSplitter=function(){var e=this;t._addEvent(this._splitter,"click",(function(){return e._toggleSplitter()}))};ViewerBase.prototype._toggleSplitter=function(t){var o=this._splitter.querySelector("span"),n=e.Control.getControl(this._sidePanel);if(!0===t){if(e.hasClass(o,"wj-glyph-right"))return}else if(!1===t){if(e.hasClass(o,"wj-glyph-left"))return}else t=e.hasClass(o,"wj-glyph-left");if(t){n.collapse();o.className="wj-glyph-right"}else{if(0===n.visibleTabPagesCount)return;o.className="wj-glyph-left";n.expand()}this._resetViewPanelContainerWidth()};ViewerBase.prototype._resetMiniToolbarPosition=function(){if(this._miniToolbar){var e=this.hostElement.getBoundingClientRect().width,t=this._miniToolbar.getBoundingClientRect().width;this._miniToolbar.style.left=(e-t)/2+"px"}};ViewerBase.prototype._resetToolbarWidth=function(){e.Control.getControl(this._toolbar).resetWidth()};ViewerBase.prototype._resetViewPanelContainerWidth=function(){!this._isMobileTemplate()&&this.hostElement.getBoundingClientRect().width<=ViewerBase._narrowWidthThreshold?e.addClass(this.hostElement,ViewerBase._narrowCss):e.removeClass(this.hostElement,ViewerBase._narrowCss);var t=this._splitter?this._splitter.getBoundingClientRect().width:0,o=this._leftPanel?this._leftPanel.getBoundingClientRect().width:0;this._viewpanelContainer.style.width=this._viewerContainer.getBoundingClientRect().width-t-o+"px";this._pageView.invalidate()};ViewerBase.prototype._shouldAutoHeight=function(){return("100%"===this.hostElement.style.height||"auto"===this.hostElement.style.height)&&!this.fullScreen};ViewerBase.prototype._initSidePanel=function(){var o=this,n=new t._SideTabs(this._sidePanel);n.collapse();n.collapsed.addHandler((function(){o._toggleSplitter(!0)}));n.expanded.addHandler((function(){o._toggleSplitter(!1);var t=o._splitter?o._splitter.getBoundingClientRect().width:0;o._sidePanel.getBoundingClientRect().width+t>o._viewerContainer.getBoundingClientRect().width&&e.addClass(o._sidePanel,"collapsed")}));n.tabPageVisibilityChanged.addHandler((function(e,t){(!t.tabPage.isHidden&&1==n.visibleTabPagesCount||t.tabPage.isHidden&&0==n.visibleTabPagesCount)&&o._resetViewPanelContainerWidth()}));this._initSidePanelThumbnails();this._initSidePanelOutlines();this._initSidePanelSearch();this._initSidePanelExports();this._initSidePanelPageSetup()};ViewerBase.prototype._clearPreHightLights=function(){this._pages.forEach((function(e){var t;if(e.content){t=e.content.querySelectorAll(".highlight");for(var o=0;o<t.length;o++)t.item(o).parentNode.removeChild(t.item(o))}}))};ViewerBase.prototype._highlightPosition=function(e,o){var n,i=this,r=(this._pageIndex,this._pageView.scrollTop,this._pageView.scrollLeft,{pageIndex:e,pageBounds:o.length>0?o[0]:null});this._scrollToPosition(r,!0).then((function(e){i._clearPreHightLights();i._pages[i.pageIndex].getContent().then((function(e){n=e.querySelector("g");for(var i=0;i<o.length;i++){var r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttributeNS(null,"x",t._twipToPixel(o[i].x).toString());r.setAttributeNS(null,"y",t._twipToPixel(o[i].y).toString());r.setAttributeNS(null,"height",t._twipToPixel(o[i].height).toString());r.setAttributeNS(null,"width",t._twipToPixel(o[i].width).toString());r.setAttributeNS(null,"class","highlight");n.appendChild(r)}}))}))};ViewerBase.prototype._scrollToPosition=function(e,t){!0===t&&this._addHistory(!0,!1);e.pageIndex=e.pageIndex||0;return this._pageView.moveToPosition(e)};ViewerBase.prototype._initSidePanelSearch=function(){var o=this,n=e.Control.getControl(this._sidePanel),i=n.addPage(e.culture.Viewer.search,t.icons.search);this._gSearchTitle=i.outContent.querySelector(".wj-tabtitle");var getTabCheckboxes=function(e){return e.outContent.querySelectorAll('input[type="checkbox"]')},getTabTextInputs=function(e){return e.outContent.querySelectorAll('input[type="text"]')};n.tabPageActived.addHandler((function(e){if(e.activedTabPage===i){var t=getTabCheckboxes(i);t[0].checked=o._searchManager.matchCase;t[1].checked=o._searchManager.wholeWord;getTabTextInputs(i)[0].value=o._searchManager.text}}));i.format((function(r){var a='<div class="wj-searchcontainer"><input class="wj-searchbox" wj-part="search-box" type="text"/><div class="wj-btn-group"><button class="wj-btn wj-btn-searchpre">'+t._createSvgBtn(t.icons.searchPrevious).innerHTML+'</button><button class="wj-btn wj-btn-searchnext">'+t._createSvgBtn(t.icons.searchNext).innerHTML+'</button></div></div><div class="wj-searchoption"><label><span wj-part="g-matchCase">&nbsp;&nbsp;&nbsp;'+e.culture.Viewer.matchCase+'</span><input type="checkbox" wj-part="match-case" /></label></div><div class="wj-searchoption"><label><span wj-part="g-wholeWord">&nbsp;&nbsp;&nbsp;'+e.culture.Viewer.wholeWord+'</span><input type="checkbox" wj-part="whole-word" /></label></div><h3 wj-part="g-searchResults" class="wj-searchresult">'+e.culture.Viewer.searchResults+"</h3>",s=t._toDOMs(a);o._gMatchCase=s.querySelector('[wj-part="g-matchCase"]');o._gWholeWord=s.querySelector('[wj-part="g-wholeWord"]');o._gSearchResults=s.querySelector('[wj-part="g-searchResults"]');r.outContent.querySelector(".wj-tabtitle-wrapper").appendChild(s);var c=getTabCheckboxes(r),u=c[0],l=c[1],p=getTabTextInputs(r)[0],h=r.outContent.querySelector(".wj-btn-searchpre"),d=r.outContent.querySelector(".wj-btn-searchnext");e.addClass(r.content.parentElement,"search-wrapper");e.addClass(r.content,"wj-searchresultlist");var _=new e.input.ListBox(r.content),g=!1,m=!1;_.formatItem.addHandler((function(t,o){var n=o.item,i=o.data,r=document.createElement("div"),a=document.createElement("div");n.innerHTML="";a.innerHTML=i.nearText;a.className="wj-search-text";r.innerHTML="Page "+(i.pageIndex+1);r.className="wj-search-page";e.addClass(n,"wj-search-item");n.setAttribute("tabIndex","-1");n.appendChild(a);n.appendChild(r)}));_.selectedIndexChanged.addHandler((function(){return o._searchManager.currentIndex=_.selectedIndex}));var enableInputs=function(e){void 0===e&&(e=!0);for(var t=i.outContent.querySelectorAll("input"),o=0;o<t.length;o++)t.item(o).disabled=!e},f=i.outContent.querySelectorAll("input[type=text]")[0];o._searchManager.searchStarted.addHandler((function(){f&&f.value!==o._searchManager.text&&(f.value=o._searchManager.text);enableInputs(!1)}));o._searchManager.searchCompleted.addHandler((function(){g=!0;o._clearPreHightLights();_.itemsSource=o._searchManager.searchResult;g=!1;enableInputs(!0);o._updateHistoryCurrent()}));o._searchManager.currentChanged.addHandler((function(){if(!g&&!m){var e=o._searchManager.current;if(e){m=!0;_.selectedIndex=o._searchManager.currentIndex;o._highlightPosition(e.pageIndex,e.boundsList);m=!1}}}));o._searchManager.resultsCleared.addHandler((function(){_.itemsSource=null;o._clearPreHightLights()}));var update=function(){o._searchManager.clear();_.itemsSource=null;u.checked=!1;l.checked=!1;p.value="";o._documentSource&&o._documentSource.features&&(!o._documentSource.paginated||o._documentSource.features.textSearchInPaginatedMode)?n.show(r):n.hide(r)};o._documentSourceChanged.addHandler((function(){o._documentSource&&t._addWjHandler(o._documentEventKey,o._documentSource.loadCompleted,update);update()}));t._addEvent(u,"click",(function(){o._searchManager.matchCase=u.checked}));t._addEvent(l,"click",(function(){o._searchManager.wholeWord=l.checked}));t._addEvent(p,"input",(function(){o._searchManager.text=p.value}));t._addEvent(p,"keyup",(function(t){var n=t||window.event;n.keyCode===e.Key.Enter&&o._searchManager.search(n.shiftKey)}));t._addEvent(d,"click",(function(){return o._searchManager.search()}));t._addEvent(h,"click",(function(){return o._searchManager.search(!0)}));t._addEvent(r.header,"keydown",(function(t){var n,i=o._toolbar;if(t.keyCode===e.Key.Tab&&(n=i.querySelector("[tabIndex=0]")||i.querySelector('input:not([type="hidden"])')||i)&&n.focus){n.focus();t.preventDefault()}}))}))};ViewerBase.prototype._initSidePanelOutlines=function(){var o=this,n=e.Control.getControl(this._sidePanel),i=n.addPage(e.culture.Viewer.outlines,t.icons.outlines);this._gOutlinesTitle=i.outContent.querySelector(".wj-tabtitle");this._outlinesPageId=i.id;i.format((function(i){e.addClass(i.content,"wj-outlines-tree");var r=new e.grid.FlexGrid(i.content);r.initialize({autoGenerateColumns:!1,columns:[{binding:"caption",width:"*"}],isReadOnly:!0,childItemsPath:"children",allowResizing:e.grid.AllowResizing.None,headersVisibility:e.grid.HeadersVisibility.None});r.itemFormatter=function(e,t,o,n){var i;i=n.firstElementChild?n.firstElementChild.outerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;";var r=e.rows[t].dataItem;n.innerHTML=i+"<a>"+r.caption+"</a>"};var a=!0;r.selectionChanged.addHandler((function(t,i){if(!a){var r=i.getRow();if(r){var s=r.dataItem;if(s.position)o._scrollToPosition(s.position,!1);else if(s.target){if(!o._documentSource)return;o._documentSource.getBookmark(s.target).then((function(n){s.position=n;t.getSelectedState(i.row,i.col)!=e.grid.SelectedState.None&&o._scrollToPosition(n,!1)}),(function(e){}))}o._isMobileTemplate()&&n.collapse()}}}));var s=!1,refreshTree=function(){if(!s&&!n.isCollapsed&&i.isActived&&!i.isHidden){r.refresh();s=!0}},toggleTab=function(){if(o._documentSource){t._addWjHandler(o._documentEventKey,o._documentSource.loadCompleted,(function(){if(o._documentSource.hasOutlines)o._documentSource.getOutlines().then((function(e){a=!0;s=!1;r.itemsSource=e;n.show(i);refreshTree();a=!1}));else{r.itemsSource=null;n.hide(i)}}))}else{r.itemsSource=null;n.hide(i)}};o._documentSourceChanged.addHandler(toggleTab);n.tabPageActived.addHandler(refreshTree);toggleTab()}))};ViewerBase.prototype._initSidePanelThumbnails=function(){var o=this,n=e.Control.getControl(this._sidePanel),i=n.addPage(e.culture.Viewer.thumbnails,t.icons.thumbnails);this._gThumbnailsTitle=i.outContent.querySelector(".wj-tabtitle");this._thumbnailsPageId=i.id;i.format((function(i){e.addClass(i.content,"wj-thumbnaillist");var r=new e.input.ListBox(i.content),a=null,s=!1;r.formatItem.addHandler((function(n,i){var r=i.item,a=i.data;r.innerHTML="";if(o._pageView.pages){var s=document.createElement("div"),c=t._toDOM('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml: space = "preserve" ></svg>'),u=document.createElementNS("http://www.w3.org/2000/svg","g"),l=document.createElementNS("http://www.w3.org/2000/svg","image"),p=document.createElement("div"),h=o._pageView.pages[i.index],d=h.size.height.valueInPixel*ViewerBase._thumbnailWidth/h.size.width.valueInPixel;e.addClass(r,"wj-thumbnail-item");a().then((function(e){l.setAttributeNS("http://www.w3.org/1999/xlink","href",e)}));l.setAttribute("x","0");l.setAttribute("y","0");l.setAttribute("width",ViewerBase._thumbnailWidth.toString());l.setAttribute("height",d.toString());e.addClass(s,"wj-pagethumbnail");s.setAttribute("tabIndex","-1");u.appendChild(l);c.appendChild(u);s.appendChild(c);r.appendChild(s);rotateThumb(c,h);p.className="page-index";p.innerHTML=(i.index+1).toString();r.appendChild(p)}}));r.selectedIndexChanged.addHandler((function(){if(!(s||r.selectedIndex<0||r.selectedIndex==o._pageIndex)){o.moveToPage(r.selectedIndex);o._isMobileTemplate()&&n.collapse()}}));o.pageIndexChanged.addHandler((function(){return r.selectedIndex=o._pageIndex}));var rotateThumb=function(e,o){var n=ViewerBase._thumbnailWidth,i=o.size.height.valueInPixel*n/o.size.width.valueInPixel,r=e.parentNode;t._transformSvg(e,n,i,1,o.rotateAngle);switch(o.rotateAngle){case t._RotateAngle.Rotation90:case t._RotateAngle.Rotation270:var a=i;i=n;n=a}r.style.width=n+"px";r.style.height=i+"px";e.setAttribute("width",n.toString());e.setAttribute("height",i.toString())},updateItems=function(){if(!n.isCollapsed&&i.isActived){a=a||function(){if(!o._documentSource||!o._documentSource.isLoadCompleted||!o._documentSource.pageCount)return null;for(var e=[],n=0;n<o._documentSource.pageCount;n++)!function(n){e.push((function(){var e=new t._Promise;o._documentSource.getExportedUrl({format:"png",resolution:50,outputRange:n+1}).then((function(t){o._documentSource&&o._documentSource._innerService&&!o._documentSource.isDisposed||e.resolve(null);o._documentSource._innerService.downloadDataUrl(t).then((function(t){e.resolve(t)}),(function(t){return e.resolve(null)}))}),(function(t){return e.resolve(null)}));return e}))}(n);return e}();i.isActived&&r.itemsSource!==a&&r.deferUpdate((function(){s=!0;r.itemsSource=a;r.selectedIndex=o._pageIndex;s=!1}))}},update=function(){if(o._documentSource&&o._documentSource.hasThumbnails){n.show(i);a=null;updateItems()}else{n.hide(i);r.itemsSource=null}},bindEvents=function(){if(o._documentSource&&o._documentSource.hasThumbnails){t._addWjHandler(o._documentEventKey,o._documentSource.loadCompleted,update);t._addWjHandler(o._documentEventKey,o._documentSource.pageCountChanged,update);t._addWjHandler(o._documentEventKey,o._documentSource.pageSettingsChanged,update);update()}else{n.hide(i);r.itemsSource=null}};o._documentSourceChanged.addHandler(bindEvents);bindEvents();n.tabPageActived.addHandler((function(){n.activedTabPage.id===o._thumbnailsPageId&&updateItems()}));updateItems();o._pageView.rotateAngleChanged.addHandler((function(){for(var e=r.hostElement.querySelectorAll("svg"),t=0;t<e.length;t++)rotateThumb(e.item(t),o._pageView.pages[t])}))}))};ViewerBase.prototype._initSidePanelExports=function(){var o=this,n=e.Control.getControl(this._sidePanel),i=n.addPage(e.culture.Viewer.exports,t.icons.exports);this._gExportsPageTitle=i.outContent.querySelector(".wj-tabtitle");this._exportsPageId=i.id;i.format((function(i){var r='<div class="wj-exportcontainer"><label wj-part="g-wj-exportformat">'+e.culture.Viewer.exportFormat+'</label><div class="wj-exportformats"></div></div>',a=t._toDOMs(r);i.outContent.querySelector(".wj-tabtitle-wrapper").appendChild(a);o._gExportFormatTitle=i.outContent.querySelector('[wj-part="g-wj-exportformat"]');var s=i.outContent.querySelector(".wj-exportformats");new e.input.ComboBox(s);e.addClass(i.content.parentElement,"wj-exportformats-wrapper");var c=document.createElement("div"),u=new t._ExportOptionEditor(c);i.content.appendChild(c);var l='<div class="wj-exportformats-footer"><a wj-part="btn-apply" class="wj-btn wj-applybutton" tabindex="-1">'+e.culture.Viewer.exportOk+"</a></div>",p=t._toDOMs(l);i.content.appendChild(p);var h=i.content.querySelector('[wj-part="btn-apply"]');o._gExportsPageApplyBtn=h;t._addEvent(h,"click",(function(){o._documentSource.export(u.options);n.collapse()}))}));var r=!0;this._documentSourceChanged.addHandler((function(){r=!0;o._documentSource&&t._addWjHandler(o._documentEventKey,o._documentSource.loadCompleted,(function(){r&&o._ensureExportFormatsLoaded().then((function(){o._updateExportTab();r=null==o._exportFormats}))}))}));n.tabPageActived.addHandler((function(){r&&n.activedTabPage.id===o._exportsPageId&&o._ensureExportFormatsLoaded().then((function(){o._updateExportTab();r=null==o._exportFormats}))}))};ViewerBase.prototype._ensureExportFormatsLoaded=function(){var e=this;if(!this._exportFormats&&this._documentSource&&!this._documentSource.isDisposed&&this._documentSource.isInstanceCreated)return this._documentSource.getSupportedExportDescriptions().then((function(o){e._exportFormats=o;e._setViewerAction(t._ViewerActionType.ShowExportsPanel)}));var o=new t._Promise;o.resolve();return o};ViewerBase.prototype._updateExportTab=function(o){var n=this;if(this._exportFormats){var i=e.Control.getControl(this._sidePanel).getTabPage(this._exportsPageId),r=e.Control.getControl(i.outContent.querySelector(".wj-exportformats")),a=e.Control.getControl(i.content.firstElementChild);if(o){a.refresh();r.itemsSource&&r.itemsSource.forEach((function(e){e.name=n._exportItemDescriptions[e.format].name}));r.refresh()}else{var s=[];this._exportFormats.forEach((function(e){var o=n._exportItemDescriptions[e.format];if(!t.isIOS()||o.supportIOS){e.name=o.name;s.push(e)}}));r.selectedIndexChanged.addHandler((function(){a.exportDescription=r.selectedItem}));r.itemsSource=s;r.displayMemberPath="name";r.selectedValuePath="format";r.selectedIndex=-1}}};ViewerBase.prototype._initSidePanelPageSetup=function(){var o=this,n=e.Control.getControl(this._sidePanel),i=n.addPage(e.culture.Viewer.pageSetup,t.icons.pageSetup);this._gPageSetupTitle=i.outContent.querySelector(".wj-tabtitle");this._pageSetupPageId=i.id;i.format((function(i){var r=document.createElement("div"),a=new t._PageSetupEditor(r);i.content.appendChild(r);e.addClass(r,"wj-pagesetupcontainer");var s='<div class="wj-pagesetup-footer"><a wj-part="btn-apply" class="wj-btn wj-applybutton" tabindex="-1">'+e.culture.Viewer.ok+"</a></div>",c=t._toDOMs(s);i.content.appendChild(c);var u=i.content.querySelector('[wj-part="btn-apply"]');o._gPageSetupApplyBtn=u;t._addEvent(u,"click",(function(){o._setPageSettings(a.pageSettings);n.collapse()}));var updatePageSettings=function(){a.pageSettings=o._documentSource.pageSettings},update=function(){if(o._documentSource){t._addWjHandler(o._documentEventKey,o._documentSource.pageSettingsChanged,updatePageSettings);updatePageSettings()}};o._documentSourceChanged.addHandler(update);update()}))};ViewerBase.prototype._executeAction=function(o){if(!this._actionIsDisabled(o))switch(o){case t._ViewerActionType.TogglePaginated:this._innerPaginated=!this._innerPaginated;break;case t._ViewerActionType.Print:this._documentSource&&this._documentSource.print(this._pages.map((function(e){return e.rotateAngle})));break;case t._ViewerActionType.ShowExportsPanel:e.Control.getControl(this._sidePanel).active(this._exportsPageId);break;case t._ViewerActionType.Portrait:this._setPageLandscape(!1);break;case t._ViewerActionType.Landscape:this._setPageLandscape(!0);break;case t._ViewerActionType.ShowPageSetupDialog:this.showPageSetupDialog();break;case t._ViewerActionType.FirstPage:this.moveToPage(0);break;case t._ViewerActionType.LastPage:this._moveToLastPage();break;case t._ViewerActionType.PrePage:this.moveToPage(this._pageIndex-1);break;case t._ViewerActionType.NextPage:this.moveToPage(this._pageIndex+1);break;case t._ViewerActionType.Backward:this._moveBackwardHistory();break;case t._ViewerActionType.Forward:this._moveForwardHistory();break;case t._ViewerActionType.SelectTool:this.mouseMode=t.MouseMode.SelectTool;break;case t._ViewerActionType.MoveTool:this.mouseMode=t.MouseMode.MoveTool;break;case t._ViewerActionType.Continuous:this.viewMode=t.ViewMode.Continuous;break;case t._ViewerActionType.Single:this.viewMode=t.ViewMode.Single;break;case t._ViewerActionType.FitPageWidth:this.zoomMode=t.ZoomMode.PageWidth;break;case t._ViewerActionType.FitWholePage:this.zoomMode=t.ZoomMode.WholePage;break;case t._ViewerActionType.ZoomOut:this._zoomBtnClicked(!1,ViewerBase._defaultZoomValues);break;case t._ViewerActionType.ZoomIn:this._zoomBtnClicked(!0,ViewerBase._defaultZoomValues);break;case t._ViewerActionType.ToggleFullScreen:this.fullScreen=!this.fullScreen;break;case t._ViewerActionType.ShowHamburgerMenu:this._hamburgerMenu.showMenu();break;case t._ViewerActionType.ShowViewMenu:this._viewMenu.showMenu();break;case t._ViewerActionType.ShowSearchBar:this._showSearchBar(e.hasClass(this._searchBar,t._hiddenCss));this._setViewerAction(t._ViewerActionType.ShowSearchBar);break;case t._ViewerActionType.ShowThumbnails:e.Control.getControl(this._sidePanel).active(this._thumbnailsPageId);break;case t._ViewerActionType.ShowOutlines:e.Control.getControl(this._sidePanel).active(this._outlinesPageId);break;case t._ViewerActionType.ShowPageSetupPanel:e.Control.getControl(this._sidePanel).active(this._pageSetupPageId);break;case t._ViewerActionType.ShowZoomBar:this._showFooter(!0);break;case t._ViewerActionType.SearchPrev:this._searchManager.search(!0);break;case t._ViewerActionType.SearchNext:this._searchManager.search();break;case t._ViewerActionType.ShowSearchOptions:this._searchOptionsMenu.showMenu(!0);break;case t._ViewerActionType.SearchMatchCase:this._searchManager.matchCase=!this._searchManager.matchCase;break;case t._ViewerActionType.SearchMatchWholeWord:this._searchManager.wholeWord=!this._searchManager.wholeWord;break;case t._ViewerActionType.RubberbandTool:this.mouseMode=t.MouseMode.RubberbandTool;break;case t._ViewerActionType.MagnifierTool:this.mouseMode=t.MouseMode.MagnifierTool;break;case t._ViewerActionType.RotateDocument:this._rotateDocument();break;case t._ViewerActionType.RotatePage:this._rotatePage()}};ViewerBase.prototype._initSearchOptionsMenu=function(e){this._searchOptionsMenu=new t._SearchOptionsMenu(this,e)};ViewerBase.prototype._initHamburgerMenu=function(e){this._hamburgerMenu=new t._HamburgerMenu(this,e)};ViewerBase.prototype._initViewMenu=function(e){this._viewMenu=new t._ViewMenu(this,e)};ViewerBase.prototype._initToolbar=function(){new t._ViewerToolbar(this._toolbar,this);new t._ViewerMobileToolbar(this._mobileToolbar,this)};ViewerBase.prototype._clearExportFormats=function(){this._exportFormats=null};Object.defineProperty(ViewerBase.prototype,"_exportItemDescriptions",{get:function(){ViewerBase._exportItems||(ViewerBase._exportItems={pdf:{name:e.culture.Viewer.pdfExportName,supportIOS:!0},doc:{name:e.culture.Viewer.docExportName,supportIOS:!1},docx:{name:e.culture.Viewer.docxExportName,supportIOS:!1},rtf:{name:e.culture.Viewer.rtfExportName,supportIOS:!1},xlsx:{name:e.culture.Viewer.xlsxExportName,supportIOS:!0},xls:{name:e.culture.Viewer.xlsExportName,supportIOS:!0},mhtml:{name:e.culture.Viewer.mhtmlExportName,supportIOS:!0},html:{name:e.culture.Viewer.htmlExportName,supportIOS:!0},zip:{name:e.culture.Viewer.metafileExportName,supportIOS:!1},csv:{name:e.culture.Viewer.csvExportName,supportIOS:!0},tiff:{name:e.culture.Viewer.tiffExportName,supportIOS:!0},bmp:{name:e.culture.Viewer.bmpExportName,supportIOS:!1},emf:{name:e.culture.Viewer.emfExportName,supportIOS:!1},gif:{name:e.culture.Viewer.gifExportName,supportIOS:!1},jpeg:{name:e.culture.Viewer.jpegExportName,suportIOS:!1},jpg:{name:e.culture.Viewer.jpegExportName,supportIOS:!1},png:{name:e.culture.Viewer.pngExportName,supportIOS:!1},xml:{name:"XML document",supportIOS:!1}});return ViewerBase._exportItems},enumerable:!0,configurable:!0});ViewerBase.prototype._actionIsChecked=function(o){switch(o){case t._ViewerActionType.TogglePaginated:return!0===this._innerPaginated;case t._ViewerActionType.Landscape:return!(!this._documentSource||!this._documentSource.pageSettings)&&this._documentSource.pageSettings.landscape;case t._ViewerActionType.Portrait:return!(!this._documentSource||!this._documentSource.pageSettings)&&!this._documentSource.pageSettings.landscape;case t._ViewerActionType.SelectTool:return this.mouseMode===t.MouseMode.SelectTool;case t._ViewerActionType.MoveTool:return this.mouseMode===t.MouseMode.MoveTool;case t._ViewerActionType.RubberbandTool:return this.mouseMode===t.MouseMode.RubberbandTool;case t._ViewerActionType.MagnifierTool:return this.mouseMode===t.MouseMode.MagnifierTool;case t._ViewerActionType.Continuous:return this.viewMode==t.ViewMode.Continuous;case t._ViewerActionType.Single:return this.viewMode==t.ViewMode.Single;case t._ViewerActionType.ToggleFullScreen:return this.fullScreen;case t._ViewerActionType.FitPageWidth:return this.zoomMode==t.ZoomMode.PageWidth;case t._ViewerActionType.FitWholePage:return this.zoomMode==t.ZoomMode.WholePage;case t._ViewerActionType.SearchMatchCase:return this._searchManager.matchCase;case t._ViewerActionType.SearchMatchWholeWord:return this._searchManager.wholeWord;case t._ViewerActionType.ShowSearchBar:return!e.hasClass(this._searchBar,t._hiddenCss)}return!1};ViewerBase.prototype._isDocumentSourceLoaded=function(){return this._documentSource&&this._documentSource.isLoadCompleted};ViewerBase.prototype._actionIsDisabled=function(e){if(!(this._isDocumentSourceLoaded()&&this._documentSource.pageCount>0))return!0;switch(e){case t._ViewerActionType.TogglePaginated:return null==this._innerPaginated;case t._ViewerActionType.ShowExportsPanel:return!this._exportFormats||0===this._exportFormats.length;case t._ViewerActionType.Landscape:case t._ViewerActionType.Portrait:case t._ViewerActionType.ShowPageSetupDialog:case t._ViewerActionType.ShowPageSetupPanel:return!this._documentSource||!this._documentSource.pageSettings||!this._documentSource.paginated;case t._ViewerActionType.FirstPage:case t._ViewerActionType.PrePage:return this._pageIndex<=0;case t._ViewerActionType.LastPage:case t._ViewerActionType.NextPage:return this._pageIndex>=this._documentSource.pageCount-1;case t._ViewerActionType.Backward:return!this._historyManager.canBackward();case t._ViewerActionType.Forward:return!this._historyManager.canForward();case t._ViewerActionType.Continuous:case t._ViewerActionType.Single:return!this._documentSource||!this._documentSource.paginated;case t._ViewerActionType.ZoomOut:return this.zoomFactor<=ViewerBase._defaultZoomValues[0].value;case t._ViewerActionType.ZoomIn:var o=ViewerBase._defaultZoomValues;return this.zoomFactor>=o[o.length-1].value}return!1};ViewerBase.prototype._actionIsShown=function(o){var n=this._documentSource?this._documentSource.features:null;switch(o){case t._ViewerActionType.TogglePaginated:return n&&n.paginated&&n.nonPaginated;case t._ViewerActionType.Landscape:case t._ViewerActionType.Portrait:case t._ViewerActionType.ShowPageSetupDialog:case t._ViewerActionType.ShowPageSetupPanel:return n?n.pageSettings:this._supportsPageSettingActions();case t._ViewerActionType.SelectTool:case t._ViewerActionType.MoveTool:case t._ViewerActionType.MagnifierTool:case t._ViewerActionType.RubberbandTool:return!e.isMobile();case t._ViewerActionType.ShowSearchBar:return n&&(!this._documentSource.paginated||n.textSearchInPaginatedMode);case t._ViewerActionType.ShowOutlines:return this._documentSource&&this._documentSource.hasOutlines;case t._ViewerActionType.ShowThumbnails:return this._documentSource&&this._documentSource.hasThumbnails}return!0};ViewerBase.prototype._onViewerActionStatusChanged=function(e){this._viewerActionStatusChanged.raise(this,e)};ViewerBase.prototype._setViewerAction=function(e,t,o,n){var i={actionType:e,disabled:t||this._actionIsDisabled(e),checked:o||this._actionIsChecked(e),shown:n||this._actionIsShown(e)};this._onViewerActionStatusChanged({action:i})};ViewerBase.prototype._updateViewerActions=function(){this._updatePageSettingsActions();this._updateViewModeActions();this._updateMouseModeActions();this._setViewerAction(t._ViewerActionType.ShowExportsPanel)};ViewerBase.prototype._updateViewModeActions=function(){this._setViewerAction(t._ViewerActionType.Continuous);this._setViewerAction(t._ViewerActionType.Single)};ViewerBase.prototype._updatePageSettingsActions=function(){this._setViewerAction(t._ViewerActionType.TogglePaginated);this._setViewerAction(t._ViewerActionType.Landscape);this._setViewerAction(t._ViewerActionType.Portrait);this._setViewerAction(t._ViewerActionType.ShowPageSetupDialog)};ViewerBase.prototype._updateMouseModeActions=function(){this._setViewerAction(t._ViewerActionType.SelectTool);this._setViewerAction(t._ViewerActionType.MoveTool);this._setViewerAction(t._ViewerActionType.MagnifierTool);this._setViewerAction(t._ViewerActionType.RubberbandTool)};ViewerBase.prototype._updateZoomModeActions=function(){this._setViewerAction(t._ViewerActionType.FitPageWidth);this._setViewerAction(t._ViewerActionType.FitWholePage)};ViewerBase.prototype._updateZoomFactorActions=function(){this._setViewerAction(t._ViewerActionType.ZoomOut);this._setViewerAction(t._ViewerActionType.ZoomIn)};ViewerBase.prototype._onPageSettingsUpdated=function(){this._updatePageSettingsActions();this._updateViewModeActions();this._resetToolbarWidth()};ViewerBase.prototype._onPageCountUpdated=function(){this._updatePageNavActions();this._resetToolbarWidth()};ViewerBase.prototype._updatePageNavActions=function(){this._setViewerAction(t._ViewerActionType.FirstPage);this._setViewerAction(t._ViewerActionType.LastPage);this._setViewerAction(t._ViewerActionType.PrePage);this._setViewerAction(t._ViewerActionType.NextPage)};ViewerBase.prototype._onHistoryManagerStatusUpdated=function(){this._setViewerAction(t._ViewerActionType.Backward);this._setViewerAction(t._ViewerActionType.Forward)};ViewerBase.prototype._updateUI=function(){var o=this;Object.keys(t._ViewerActionType).forEach((function(e){isNaN(e)||o._setViewerAction(t._ViewerActionType[t._ViewerActionType[e]])}));var n=e.Control.getControl(this._sidePanel);n&&n.enableAll(this._isDocumentSourceLoaded())};ViewerBase.prototype._updateViewContainerCursor=function(){this.mouseMode===t.MouseMode.MoveTool?e.hasClass(this._viewpanelContainer,"move")||e.addClass(this._viewpanelContainer,"move"):e.hasClass(this._viewpanelContainer,"move")&&e.removeClass(this._viewpanelContainer,"move")};ViewerBase.prototype._updateFullScreenStyle=function(){var t=document.body;if(this.fullScreen){this._bodyOriginScrollLeft=document.documentElement&&document.documentElement.scrollLeft||t.scrollLeft;this._bodyOriginScrollTop=document.documentElement&&document.documentElement.scrollTop||t.scrollTop;e.addClass(this.hostElement,"full-screen");e.addClass(t,"full-screen");this._hostOriginWidth=this.hostElement.style.width;this._hostOriginHeight=this.hostElement.style.height;this.hostElement.style.width="100%";this.hostElement.style.height="100%";window.scrollTo(0,0)}else{e.removeClass(this.hostElement,"full-screen");e.removeClass(t,"full-screen");this.hostElement.style.width=this._hostOriginWidth;this.hostElement.style.height=this._hostOriginHeight;if(e.isNumber(this._bodyOriginScrollLeft)){document.documentElement&&(document.documentElement.scrollLeft=this._bodyOriginScrollLeft);t.scrollLeft=this._bodyOriginScrollLeft}if(e.isNumber(this._bodyOriginScrollTop)){document.documentElement&&(document.documentElement.scrollTop=this._bodyOriginScrollTop);t.scrollTop=this._bodyOriginScrollTop}}this.refresh()};ViewerBase.prototype.showPageSetupDialog=function(){this._pageSetupDialog||this._createPageSetupDialog();this._pageSetupDialog.showWithValue(this._documentSource.pageSettings)};ViewerBase.prototype._createPageSetupDialog=function(){var e=this,o=document.createElement("div");o.style.display="none";e.hostElement.appendChild(o);e._pageSetupDialog=new t._PageSetupDialog(o);e._pageSetupDialog.applied.addHandler((function(){return e._setPageSettings(e._pageSetupDialog.pageSettings)}))};ViewerBase.prototype.zoomToView=function(){e._deprecated("zoomToView","zoomMode");this._documentSource&&(this.zoomMode=t.ZoomMode.WholePage)};ViewerBase.prototype.zoomToViewWidth=function(){e._deprecated("zoomToViewWidth","zoomMode");this._documentSource&&(this.zoomMode=t.ZoomMode.PageWidth)};ViewerBase.prototype._setPageLandscape=function(e){var o=this._documentSource.pageSettings;t._setLandscape(o,e);this._setPageSettings(o)};ViewerBase.prototype._setPaginated=function(e){var t=this._documentSource.features,o=this._documentSource.pageSettings;if(t&&o&&e!=o.paginated)if(e&&t.paginated){o.paginated=!0;this._setPageSettings(o);this._showSearchBar(!1)}else if(!e&&t.nonPaginated){o.paginated=!1;this._setPageSettings(o)}};ViewerBase.prototype._setPageSettings=function(e){var o=this;this._showViewPanelMessage();this._setDocumentRendering();return this._documentSource.setPageSettings(e).then((function(e){o._resetDocument();o._reRenderDocument()})).catch((function(e){o._showViewPanelErrorMessage(t._getErrorMessage(e))}))};ViewerBase.prototype._showViewPanelErrorMessage=function(e){this._showViewPanelMessage(e,"errormessage")};ViewerBase.prototype._showViewPanelMessage=function(t,o){var n=this._viewpanelContainer.querySelector(".wj-viewer-loading");if(!n){(n=document.createElement("div")).innerHTML='<span class="verticalalign"></span><span class="textspan"></span>';this._viewpanelContainer.appendChild(n)}n.className="wj-viewer-loading";o&&e.addClass(n,o);var i=n.querySelector(".textspan");i&&(i.innerHTML=t||e.culture.Viewer.loading)};ViewerBase.prototype._removeViewPanelMessage=function(){var e=this._viewpanelContainer.querySelector(".wj-viewer-loading");e&&this._viewpanelContainer.removeChild(e)};ViewerBase.prototype._reRenderDocument=function(){if(this._documentSource){this._showViewPanelMessage();this._documentSource.load()}};ViewerBase.prototype._zoomBtnClicked=function(e,t){var o,n;for(o=0;o<t.length;o++){if(t[o].value>this.zoomFactor){n=o-.5;break}if(t[o].value===this.zoomFactor){n=o;break}}null==n&&(n=t.length-.5);if((!(n<=0)||e)&&!(n>=t.length-1&&e)){n=e?Math.floor(n)+1:Math.ceil(n)-1;this.zoomFactor=t[n].value}};ViewerBase.prototype._getDocumentSource=function(){return this._documentSource};ViewerBase.prototype._setDocumentSource=function(e){var t=this;this._loadDocument(e).then((function(o){t._documentSource==e&&t._ensureExportFormatsLoaded()}))};ViewerBase.prototype._loadDocument=function(e,o,n){var i=this;void 0===o&&(o=!1);void 0===n&&(n=!0);var r=new t._Promise;if(this._documentSource===e&&!o)return r;this._disposeDocument(n);this._documentSource=e;if(e){t._addWjHandler(this._documentEventKey,e.loading,(function(){i._updateUI()}),this);t._addWjHandler(this._documentEventKey,e.loadCompleted,this._onDocumentSourceLoadCompleted,this);t._addWjHandler(this._documentEventKey,e.queryLoadingData,(function(e,t){i.onQueryLoadingData(t)}),this);if(e.isLoadCompleted){this._onDocumentSourceLoadCompleted();this._keepServiceConnection();r.resolve()}else{this._showViewPanelMessage();e.load().then((function(e){i._keepServiceConnection();r.resolve(e)})).catch((function(e){i._showViewPanelErrorMessage(t._getErrorMessage(e))}))}}this._onDocumentSourceChanged();return r};ViewerBase.prototype._actionElementClicked=function(e){var o=this._getActionInfo(e);o&&(o.kind===t._ActionKind.Bookmark?this._goToBookmark(o):o.kind===t._ActionKind.Custom&&this._executeCustomAction(o))};ViewerBase.prototype._getActionInfo=function(e){var o=e.getAttribute(t._Page._bookmarkAttr);return o?{kind:t._ActionKind.Bookmark,data:o}:(o=e.getAttribute(t._Page._customActionAttr))?{kind:t._ActionKind.Custom,data:o}:null};ViewerBase.prototype._onDocumentSourceLoadCompleted=function(){var e=this,o=this._documentSource.errors;if(this._documentSource.isLoadCompleted){this._removeViewPanelMessage();this._pages.length=0;if(this._documentSource.pageCount<=0){this._updateUI();return}for(var n={width:this._documentSource.pageSettings.width,height:this._documentSource.pageSettings.height},i=0;i<this._documentSource.pageCount;i++){var r=this._createPage(i,n);r.linkClicked.addHandler((function(t,o){e._magnifier&&e._magnifier.isActive||e._rubberband&&e._rubberband.isActive||e._actionElementClicked(o.element)}));this._pages.push(r)}this._pageView.pages=this._pages;if(!this._autoHeightCalculated){this._autoCalculateHeight();this._autoHeightCalculated=!0}var a=this._documentSource.initialPosition||this._initialPosition;this._documentSource.initialPosition=null;this._initialPosition=null;if(!a||0==a.pageIndex){this._pageIndex=0;a={pageIndex:0}}this._documentSource.paginated||(this.viewMode=t.ViewMode.Single);this._initialScroll=!0;this._scrollToPosition(a);this._updateHistoryCurrent();if(o&&o.length>0)for(i=0;i<o.length;i++)o[i]+"\r\n";this._updateUI()}};ViewerBase.prototype._createPage=function(e,o){return new t._Page(this._documentSource,e,o)};ViewerBase.prototype._clearKeepSerConnTimer=function(){null!=this._keepSerConnTimer&&clearTimeout(this._keepSerConnTimer)};ViewerBase.prototype._keepServiceConnection=function(){var e=this;this._clearKeepSerConnTimer();var t=this._documentSource;t&&(this._keepSerConnTimer=setTimeout((function(){e._documentSource===t&&e._documentSource.getStatus().then((function(t){return e._keepServiceConnection()}))}),this._getExpiredTime()))};ViewerBase.prototype._getExpiredTime=function(){if(this._expiredTime)return this._expiredTime;var e=this._documentSource;if(!e||!e.expiredDateTime||!e.executionDateTime)return 6e3;this._expiredTime=e.expiredDateTime.getTime()-e.executionDateTime.getTime();this._expiredTime=Math.max(this._expiredTime-12e4,0);return this._expiredTime};ViewerBase.prototype._disposeDocument=function(e){void 0===e&&(e=!0);if(this._documentSource){t._removeAllWjHandlers(this._documentEventKey,this._documentSource.disposed);t._removeAllWjHandlers(this._documentEventKey,this._documentSource.pageCountChanged);t._removeAllWjHandlers(this._documentEventKey,this._documentSource.pageSettingsChanged);t._removeAllWjHandlers(this._documentEventKey,this._documentSource.loadCompleted);t._removeAllWjHandlers(this._documentEventKey,this._documentSource.queryLoadingData);e&&this._documentSource.dispose()}this._resetDocument()};ViewerBase.prototype._resetDocument=function(){this._pages.length=0;this._pageView.resetPages();this._pageIndex=0;clearTimeout(this._historyTimer);this._historyManager.clear();this._rubberband&&this._rubberband.reset();this._magnifier&&this._magnifier.reset()};ViewerBase.prototype._setDocumentRendering=function(){this._documentSource._updateIsLoadCompleted(!1)};ViewerBase.prototype.moveToPage=function(e){return this._innerMoveToPage(e)};ViewerBase.prototype._getCurrentPosition=function(){return t._getPositionByHitTestInfo(this._pageView.hitTest(0,0))};ViewerBase.prototype._resolvePageIndex=function(e){return Math.min(this._documentSource.pageCount-1,Math.max(e,0))};ViewerBase.prototype._innerMoveToPage=function(e){var t=this;if(this._resolvePageIndex(e)!=this.pageIndex){this._pageMoving=!0;this._addHistory(!1,!0)}this._updatePageIndex(e);return this._pageView.moveToPage(this.pageIndex).then((function(){t._pageMoving=!1}))};ViewerBase.prototype._moveToLastPage=function(){var e=new t._Promise;return this._ensureDocumentLoadCompleted(e)?this._innerMoveToPage(this._documentSource.pageCount-1):e};ViewerBase.prototype._moveBackwardHistory=function(){if(this._ensureDocumentLoadCompleted()&&this._historyManager.canBackward()){var e=this._historyManager.backward();this._moveToHistory(e)}};ViewerBase.prototype._moveForwardHistory=function(){if(this._ensureDocumentLoadCompleted()&&this._historyManager.canForward()){var e=this._historyManager.forward();this._moveToHistory(e)}};ViewerBase.prototype._moveToHistory=function(e){var o=this;if(e){this._historyMoving=!0;this.viewMode=e.viewMode;e.zoomMode===t.ZoomMode.Custom?this.zoomFactor=e.zoomFactor:this.zoomMode=e.zoomMode;this._scrollToPosition(e.position).then((function(e){o._historyMoving=!1}));for(var n=0;n<e.pageAngles.length;n++)this._pageView.rotatePageTo(n,e.pageAngles[n])}};ViewerBase.prototype._isPositionEquals=function(e,t,o){return!this._pageMoving&&(e.pageIndex===t.pageIndex&&(!o||(e.pageBounds==t.pageBounds||null!=e.pageBounds&&null!=t.pageBounds&&(e.pageBounds.x===t.pageBounds.x&&e.pageBounds.y===t.pageBounds.y))))};ViewerBase.prototype._isPageAnglesChanged=function(e){if(e.length!=this._pageView.pages.length)return!0;for(var t=e.length,o=0;o<t;o++)if(e[o]!==this._pageView.pages[o].rotateAngle)return!0;return!1};ViewerBase.prototype._updateHistoryCurrent=function(e){void 0===e&&(e=!1);this._historyManager.current.position=this._getCurrentPosition();if(!e){this._historyManager.current.zoomMode=this.zoomMode;this._historyManager.current.zoomFactor=this.zoomFactor;this._historyManager.current.viewMode=this.viewMode;this._updateCurrentPageAngles(this._historyManager.current)}};ViewerBase.prototype._innerAddHistory=function(e){var t=this._getCurrentPosition(),o=this._historyManager.current;if(!this._isPositionEquals(t,o.position,e)||this.viewMode!==o.viewMode||this.zoomMode!==o.zoomMode||this.zoomFactor!==o.zoomFactor||this._isPageAnglesChanged(o.pageAngles)){o.position=o.position||this._getCurrentPosition();o.viewMode=null==o.viewMode?this.viewMode:o.viewMode;o.zoomMode=null==o.zoomMode?this.zoomMode:o.zoomMode;o.zoomFactor=null==o.zoomFactor?this.zoomFactor:o.zoomFactor;o.pageAngles||this._updateCurrentPageAngles(o);this._historyManager.add();this._updateHistoryCurrent()}};ViewerBase.prototype._addHistory=function(e,t,o,n){var i=this;void 0===n&&(n=!1);if(!(this._prohibitAddHistory||this.isUpdating||this._historyMoving)&&this._isDocumentSourceLoaded()){n&&(this._prohibitAddHistory=!0);if(t){this._mergeHistory(o);null!=this._historyTimer&&clearTimeout(this._historyTimer);this._historyTimer=setTimeout((function(){i._historyTimer=null;i._innerAddHistory(e);i._prohibitAddHistory=!1}),ViewerBase._historyTimeout)}else{this._innerAddHistory(e);this._prohibitAddHistory=!1}}};ViewerBase.prototype._updateCurrentPageAngles=function(e){e.pageAngles||(e.pageAngles=new Array);for(var t=this._pageView.pages.length,o=0;o<t;o++)e.pageAngles[o]=this._pageView.pages[o].rotateAngle};ViewerBase.prototype._mergeHistory=function(e){var t=this._historyManager.current;if(e){null!=e.viewMode&&(t.viewMode=e.viewMode);null!=e.zoomMode&&(t.zoomMode=e.zoomMode);null!=e.zoomFactor&&(t.zoomFactor=e.zoomFactor);if(e.pageAngles){t.pageAngles=new Array;for(var o=this._pageView.pages.length,n=0;n<o;n++)t.pageAngles[n]=e.pageAngles[n]}}else{t.viewMode=this.viewMode;t.zoomMode=this.zoomMode;t.zoomFactor=this.zoomFactor;this._updateCurrentPageAngles(t)}};ViewerBase.prototype._ensureDocumentLoadCompleted=function(e){if(!this._documentSource){e&&e.reject("Cannot set page index without document source.");return!1}if(!this._documentSource.isLoadCompleted){e&&e.reject("Cannot set page index when document source is not loaded completely.");return!1}return!0};ViewerBase.prototype._updatePageIndex=function(e){if(this._documentSource){e=Math.min(this._documentSource.pageCount-1,Math.max(e,0));if(this._pageIndex!==e){this._pageIndex=e;this.onPageIndexChanged()}}};ViewerBase.prototype._getRotatedAngle=function(e){switch(e){case t._RotateAngle.NoRotate:return t._RotateAngle.Rotation90;case t._RotateAngle.Rotation90:return t._RotateAngle.Rotation180;case t._RotateAngle.Rotation180:return t._RotateAngle.Rotation270;case t._RotateAngle.Rotation270:return t._RotateAngle.NoRotate}return t._RotateAngle.NoRotate};ViewerBase.prototype._rotateDocument=function(){this._addHistory(!1,!0);for(var e=this._pageView.pages.length,t=0;t<e;t++)this._pageView.rotatePageTo(t,this._getRotatedAngle(this._pageView.pages[t].rotateAngle))};ViewerBase.prototype._rotatePage=function(){this._addHistory(!1,!0);var e=this._pageView.pages[this._pageIndex];this._pageView.rotatePageTo(this._pageIndex,this._getRotatedAngle(e.rotateAngle))};Object.defineProperty(ViewerBase.prototype,"zoomMode",{get:function(){return this._pageView.zoomMode},set:function(o){this._pageView.zoomMode=e.asEnum(o,t.ZoomMode)},enumerable:!0,configurable:!0});Object.defineProperty(ViewerBase.prototype,"zoomFactor",{get:function(){return this._pageView.zoomFactor},set:function(e){this._pageView.zoomFactor=e},enumerable:!0,configurable:!0});Object.defineProperty(ViewerBase.prototype,"viewMode",{get:function(){return this._viewMode},set:function(o){o=e.asEnum(o,t.ViewMode);if(this._viewMode!==o){var n=this._viewMode;this._viewMode=o;this.onViewModeChanged(n,o)}},enumerable:!0,configurable:!0});Object.defineProperty(ViewerBase.prototype,"mouseMode",{get:function(){return this._mouseMode},set:function(o){if(this._mouseMode!==(o=e.asEnum(o,t.MouseMode))){this._mouseMode=o;switch(this._mouseMode){case t.MouseMode.RubberbandTool:this._rubberband.activate();this._magnifier.deactivate();break;case t.MouseMode.MagnifierTool:this._magnifier.activate();this._rubberband.deactivate();break;default:this._magnifier.deactivate();this._rubberband.deactivate()}this.onMouseModeChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(ViewerBase.prototype,"fullScreen",{get:function(){return this._fullScreen},set:function(e){if(this._fullScreen!==e){this._fullScreen=e;this.onFullScreenChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(ViewerBase.prototype,"pageIndex",{get:function(){return this._pageIndex},enumerable:!0,configurable:!0});ViewerBase.prototype._initMiniToolbar=function(){if(!e.Control.getControl(this._miniToolbar)){new t._ViewerMiniToolbar(this._miniToolbar,this);e.addClass(this._miniToolbar,"wj-mini-toolbar")}};ViewerBase.prototype._pinMiniToolbar=function(){var e=this;this._showMiniToolbar(!0);this._miniToolbarPinnedTimer=setTimeout((function(){e._showMiniToolbar(!1);e._miniToolbarPinnedTimer=null}),ViewerBase._miniToolbarPinnedTime)};ViewerBase.prototype._onDocumentSourceChanged=function(e){this._clearExportFormats();this._documentSourceChanged.raise(this);this._updateViewerActions();this._onPageSettingsUpdated();this._onPageCountUpdated();this._updateViewModeActions();this._searchManager.documentSource=this._documentSource;if(this._documentSource){t._addWjHandler(this._documentEventKey,this._documentSource.pageSettingsChanged,this._onPageSettingsUpdated,this);t._addWjHandler(this._documentEventKey,this._documentSource.pageCountChanged,this._onPageCountUpdated,this);t._addWjHandler(this._documentEventKey,this._documentSource.loadCompleted,this._onPageCountUpdated,this)}};ViewerBase.prototype.onPageIndexChanged=function(e){this.pageIndexChanged.raise(this);this._updatePageNavActions()};ViewerBase.prototype.onViewModeChanged=function(e,t){this.viewModeChanged.raise(this,{oldValue:e,newValue:t});this._updateViewModeActions();this._pageView.viewMode=this.viewMode};ViewerBase.prototype.onMouseModeChanged=function(o){this.mouseModeChanged.raise(this);if(this.mouseMode!==t.MouseMode.MoveTool&&this.mouseMode!==t.MouseMode.SelectTool||!e.isMobile()){this._updateMouseModeActions();this._updateViewContainerCursor();this._pageView.panMode=this.mouseMode===t.MouseMode.MoveTool}};ViewerBase.prototype.onFullScreenChanged=function(e){this.fullScreenChanged.raise(this);this._setViewerAction(t._ViewerActionType.ToggleFullScreen);this._updateFullScreenStyle();this.fullScreen&&this._pinMiniToolbar()};ViewerBase.prototype.onZoomFactorChanged=function(e){this.zoomFactorChanged.raise(this,e);this._updateZoomFactorActions();this._updateZoomModeActions()};ViewerBase.prototype.onZoomModeChanged=function(e){this.zoomModeChanged.raise(this,e);this._updateZoomModeActions();this._updateZoomFactorActions()};ViewerBase.prototype.onQueryLoadingData=function(e){this.queryLoadingData.raise(this,e)};ViewerBase.prototype.onBeforeSendRequest=function(e){this.beforeSendRequest.raise(this,e)};ViewerBase.prototype.onPageLoaded=function(e){this.pageLoaded.raise(this,e)};ViewerBase.prototype.beforeSend=function(e){this.onBeforeSendRequest(e)};ViewerBase._seperatorHtml="<div class='wj-separator' style='width:100%;height: 1px;margin: 3px 0;background-color:rgba(0,0,0,.2)'></div>";ViewerBase._viewpanelContainerMinHeight=300;ViewerBase._miniToolbarPinnedTime=3e3;ViewerBase._narrowCss="narrow";ViewerBase._narrowWidthThreshold=400;ViewerBase._thumbnailWidth=100;ViewerBase._historyTimeout=300;ViewerBase._zoomValuesFormatter=function(e){return Math.floor(100*e+.5)+" %"};ViewerBase._zoomValuesParser=function(e){return parseFloat(e.replace(" %",""))};ViewerBase._defaultZoomValues=[.05,.25,.5,.75,1,2,3,4,8,10].map((function(e){return{value:e,name:ViewerBase._zoomValuesFormatter(e)}}));ViewerBase.controlTemplate='<div class="wj-viewer-outer wj-content with-footer"><div wj-part="toolbar"></div><div wj-part="mobile-toolbar"></div><div class="wj-viewer-container" wj-part="viewer-container"><div class="wj-viewer-leftpanel" wj-part="viewer-left-panel"><div class="wj-viewer-tabsleft" wj-part="side-panel"></div></div><div class="wj-viewer-splitter" wj-part="splitter"><button class="wj-btn wj-btn-default"><span class="wj-glyph-right"></span></button></div><div class="wj-viewpanel-container" wj-part="viewpanel-container"></div></div><div wj-part="mini-toolbar"></div><div class="wj-searchbar mobile" wj-part="search-bar"></div><div class="wj-viewer-footer mobile" class="wj-viewer-footer" wj-part="viewer-footer"><div wj-part="zoom-bar"></div><span class="wj-close">×</span></div></div>';return ViewerBase}(e.Control);t.ViewerBase=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(e){"use strict";var t=function(t){__extends(PdfViewer,t);function PdfViewer(e,o){return t.call(this,e,o)||this}PdfViewer.prototype._getProductInfo=function(){return"QNI5,PdfViewer"};Object.defineProperty(PdfViewer.prototype,"_innerDocumentSource",{get:function(){return this._getDocumentSource()},enumerable:!0,configurable:!0});PdfViewer.prototype._getSource=function(){return this.filePath?new e._PdfDocumentSource({serviceUrl:this.serviceUrl,filePath:this.filePath},this):null};return PdfViewer}(e.ViewerBase);e.PdfViewer=t}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ViewerMiniToolbar,o);function _ViewerMiniToolbar(e,t){return o.call(this,e,t)||this}_ViewerMiniToolbar.prototype._initToolbarItems=function(){var o=e.culture.Viewer;this._gPrint=this.addSvgButton(o.print,t.icons.print,t._ViewerActionType.Print);this.addSeparator();this._gPreviousPage=this.addSvgButton(o.previousPage,t.icons.previousPage,t._ViewerActionType.PrePage);this._gNextPage=this.addSvgButton(o.nextPage,t.icons.nextPage,t._ViewerActionType.NextPage);t._ViewerToolbarBase._initToolbarPageNumberInput(this.hostElement,this.viewer);this.addSeparator();this._gZoomOut=this.addSvgButton(o.zoomOut,t.icons.zoomOut,t._ViewerActionType.ZoomOut);this._gZoomIn=this.addSvgButton(o.zoomIn,t.icons.zoomIn,t._ViewerActionType.ZoomIn);this._gExitFullScreen=this.addSvgButton(o.exitFullScreen,t.icons.exitFullScreen,t._ViewerActionType.ToggleFullScreen,!0)};_ViewerMiniToolbar.prototype._globalize=function(){var t=e.culture.Viewer;this._gPrint.title=t.print;this._gPreviousPage.title=t.previousPage;this._gNextPage.title=t.nextPage;this._gZoomOut.title=t.zoomOut;this._gZoomIn.title=t.zoomIn;this._gExitFullScreen.title=t.exitFullScreen};return _ViewerMiniToolbar}(t._ViewerToolbarBase);t._ViewerMiniToolbar=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ViewerToolbar,o);function _ViewerToolbar(e,t){return o.call(this,e,t)||this}_ViewerToolbar.prototype._globalize=function(){var t=e.culture.Viewer;this._gPaginated.title=t.paginated;this._gPrint.title=t.print;this._gExports.title=t.exports;this._gPortrait.title=t.portrait;this._gLandscape.title=t.landscape;this._gPageSetup.title=t.pageSetup;this._gFirstPage.title=t.firstPage;this._gPreviousPage.title=t.previousPage;this._gNextPage.title=t.nextPage;this._gLastPage.title=t.lastPage;this._gBackwardHistory.title=t.backwardHistory;this._gForwardHistory.title=t.forwardHistory;this._gSelectTool.title=t.selectTool;this._gMoveTool.title=t.moveTool;this._gContinuousMode.title=t.continuousMode;this._gSingleMode.title=t.singleMode;this._gWholePage.title=t.wholePage;this._gPageWidth.title=t.pageWidth;this._gZoomOut.title=t.zoomOut;this._gZoomIn.title=t.zoomIn;this._gRubberbandTool.title=t.rubberbandTool;this._gMagnifierTool.title=t.magnifierTool;this._gRotateDocument.title=t.rotateDocument;this._gRotatePage.title=t.rotatePage;this._gFullScreen.title=t.fullScreen};_ViewerToolbar.prototype._initToolbarItems=function(){var o=e.culture.Viewer;this._gPaginated=this.addSvgButton(o.paginated,t.icons.paginated,t._ViewerActionType.TogglePaginated,!0);this._gPrint=this.addSvgButton(o.print,t.icons.print,t._ViewerActionType.Print);this._gExports=this.addSvgButton(o.exports,t.icons.exports,t._ViewerActionType.ShowExportsPanel);this.addSeparator();this._gPortrait=this.addSvgButton(o.portrait,t.icons.portrait,t._ViewerActionType.Portrait);this._gLandscape=this.addSvgButton(o.landscape,t.icons.landscape,t._ViewerActionType.Landscape);this._gPageSetup=this.addSvgButton(o.pageSetup,t.icons.pageSetup,t._ViewerActionType.ShowPageSetupDialog);this.addSeparator();this._gFirstPage=this.addSvgButton(o.firstPage,t.icons.firstPage,t._ViewerActionType.FirstPage);this._gPreviousPage=this.addSvgButton(o.previousPage,t.icons.previousPage,t._ViewerActionType.PrePage);this._gNextPage=this.addSvgButton(o.nextPage,t.icons.nextPage,t._ViewerActionType.NextPage);this._gLastPage=this.addSvgButton(o.lastPage,t.icons.lastPage,t._ViewerActionType.LastPage);t._ViewerToolbarBase._initToolbarPageNumberInput(this.hostElement,this.viewer);this.addSeparator();this._gBackwardHistory=this.addSvgButton(o.backwardHistory,t.icons.backwardHistory,t._ViewerActionType.Backward);this._gForwardHistory=this.addSvgButton(o.forwardHistory,t.icons.forwardHistory,t._ViewerActionType.Forward);this.addSeparator();this._gSelectTool=this.addSvgButton(o.selectTool,t.icons.selectTool,t._ViewerActionType.SelectTool);this._gMoveTool=this.addSvgButton(o.moveTool,t.icons.moveTool,t._ViewerActionType.MoveTool);this._gContinuousMode=this.addSvgButton(o.continuousMode,t.icons.continuousView,t._ViewerActionType.Continuous);this._gSingleMode=this.addSvgButton(o.singleMode,t.icons.singleView,t._ViewerActionType.Single);this.addSeparator();this._gWholePage=this.addSvgButton(o.wholePage,t.icons.fitWholePage,t._ViewerActionType.FitWholePage);this._gPageWidth=this.addSvgButton(o.pageWidth,t.icons.fitPageWidth,t._ViewerActionType.FitPageWidth);this._gZoomOut=this.addSvgButton(o.zoomOut,t.icons.zoomOut,t._ViewerActionType.ZoomOut);this._gZoomIn=this.addSvgButton(o.zoomIn,t.icons.zoomIn,t._ViewerActionType.ZoomIn);this._gRubberbandTool=this.addSvgButton(o.rubberbandTool,t.icons.rubberbandTool,t._ViewerActionType.RubberbandTool);this._gMagnifierTool=this.addSvgButton(o.magnifierTool,t.icons.magnifierTool,t._ViewerActionType.MagnifierTool);this._gRotateDocument=this.addSvgButton(o.rotateDocument,t.icons.rotateDocument,t._ViewerActionType.RotateDocument);this._gRotatePage=this.addSvgButton(o.rotatePage,t.icons.rotatePage,t._ViewerActionType.RotatePage);t._ViewerToolbarBase._initToolbarZoomValue(this.hostElement,this.viewer);this._gFullScreen=this.addSvgButton(o.fullScreen,t.icons.fullScreen,t._ViewerActionType.ToggleFullScreen,!0)};return _ViewerToolbar}(t._ViewerToolbarBase);t._ViewerToolbar=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(t){__extends(_ViewerMobileToolbarBase,t);function _ViewerMobileToolbarBase(o,n){var i=t.call(this,o,n)||this;e.addClass(i.hostElement,"mobile");return i}return _ViewerMobileToolbarBase}(t._ViewerToolbarBase);t._ViewerMobileToolbarBase=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ViewerZoomBar,o);function _ViewerZoomBar(t,n){var i=o.call(this,t,n)||this;e.addClass(i.hostElement,"wj-zoombar");return i}_ViewerZoomBar.prototype._initToolbarItems=function(){var o=e.culture.Viewer;this._gZoomOut=this.addSvgButton(o.zoomOut,t.icons.zoomOut,t._ViewerActionType.ZoomOut);t._ViewerToolbarBase._initToolbarZoomValue(this.hostElement,this.viewer);this._gZoomIn=this.addSvgButton(o.zoomIn,t.icons.zoomIn,t._ViewerActionType.ZoomIn)};_ViewerZoomBar.prototype._globalize=function(){var t=e.culture.Viewer;this._gZoomOut.title=t.zoomOut;this._gZoomIn.title=t.zoomIn};return _ViewerZoomBar}(t._ViewerMobileToolbarBase);t._ViewerZoomBar=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ViewerMobileToolbar,o);function _ViewerMobileToolbar(e,t){return o.call(this,e,t)||this}_ViewerMobileToolbar.prototype._initToolbarItems=function(){var o=e.culture.Viewer;this._gShowHamburgerMenu=this.addSvgButton(o.hamburgerMenu,t.icons.hamburgerMenu,t._ViewerActionType.ShowHamburgerMenu);this.viewer._initHamburgerMenu(this._gShowHamburgerMenu);this._gPrevPage=this.addSvgButton(o.previousPage,t.icons.previousPage,t._ViewerActionType.PrePage);this._gNextPage=this.addSvgButton(o.nextPage,t.icons.nextPage,t._ViewerActionType.NextPage);t._ViewerToolbarBase._initToolbarPageNumberInput(this.hostElement,this.viewer);this._gShowViewMenu=this.addSvgButton(o.viewMenu,t.icons.viewMenu,t._ViewerActionType.ShowViewMenu);this.viewer._initViewMenu(this._gShowViewMenu);this._gShowSearchBar=this.addSvgButton(o.showSearchBar,t.icons.search,t._ViewerActionType.ShowSearchBar,!0);this._gFullScreen=this.addSvgButton(o.fullScreen,t.icons.fullScreen,t._ViewerActionType.ToggleFullScreen,!0)};_ViewerMobileToolbar.prototype._globalize=function(){var t=e.culture.Viewer;this._gShowHamburgerMenu.title=t.hamburgerMenu;this._gPrevPage.title=t.previousPage;this._gNextPage.title=t.nextPage;this._gShowViewMenu.title=t.viewMenu;this._gShowSearchBar.title=t.showSearchBar;this._gFullScreen.title=t.fullScreen};return _ViewerMobileToolbar}(t._ViewerMobileToolbarBase);t._ViewerMobileToolbar=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_SearchBar,o);function _SearchBar(e,t){return o.call(this,e,t)||this}_SearchBar.prototype._initToolbarItems=function(){var o=e.culture.Viewer;this._gSearchOptions=this.addSvgButton(o.searchOptions,t.icons.searchOptions,t._ViewerActionType.ShowSearchOptions);this.viewer._initSearchOptionsMenu(this._gSearchOptions);this._initSearchInput();this._initSearchBtnGroups()};_SearchBar.prototype._initSearchInput=function(){var e=this,o='<div class="wj-searchcontainer"><input class="wj-searchbox" wj-part="search-box" type="text"/><div class="wj-btn-group"><button class="wj-btn wj-btn-search">'+t._createSvgBtn(t.icons.search).innerHTML+"</button></div></div>",n=t._toDOM(o),i=n.querySelector('input[type="text"]'),r=n.querySelector(".wj-btn-search");t._addEvent(i,"input",(function(){e.viewer._searchManager.text=i.value}));t._addEvent(r,"click",(function(){e.viewer._searchManager.search()}));this.viewer._searchManager.searchStarted.addHandler((function(){i.value!==e.viewer._searchManager.text&&(i.value=e.viewer._searchManager.text);i.disabled=!0}));this.viewer._searchManager.searchCompleted.addHandler((function(){i.disabled=!1}));this.viewer._searchManager.textChanged.addHandler((function(){i.value=e.viewer._searchManager.text}));this.addCustomItem(n)};_SearchBar.prototype._initSearchBtnGroups=function(){var o=t._toDOM('<div class="wj-searchbtn-groups wj-btn-group wj-toolbarwrapper"></div>'),n=e.culture.Viewer;this._gSearchPrev=this.addSvgButton(n.searchPrev,t.icons.searchLeft,t._ViewerActionType.SearchPrev);this._gSearchNext=this.addSvgButton(n.searchNext,t.icons.searchRight,t._ViewerActionType.SearchNext);o.appendChild(this._gSearchPrev);o.appendChild(this._gSearchNext);this.addCustomItem(o)};_SearchBar.prototype._globalize=function(){var t=e.culture.Viewer;this._gSearchOptions.title=t.searchOptions;this._gSearchPrev.title=t.searchPrev;this._gSearchNext.title=t.searchNext};return _SearchBar}(t._ViewerMobileToolbarBase);t._SearchBar=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ViewerMenuBase,o);function _ViewerMenuBase(e,n,i){var r=o.call(this,document.createElement("div"),i)||this;r.owner=n;r.hostElement.style.display="none";r.owner.appendChild(r.hostElement);r.showDropDownButton=!1;r.itemClicked.addHandler(r._onItemClicked,r);r.formatItem.addHandler(r._formatItem,r);r._viewer=e;r._bindMenuItems();r.displayMemberPath="title";r.selectedValuePath="commandTag";r._viewer._viewerActionStatusChanged.addHandler((function(e,o){var n=r.dropDown.querySelector("["+t._commandTagAttr+'="'+o.action.actionType.toString()+'"]');r._updateActionStatusCore(n,o.action)}));return r}Object.defineProperty(_ViewerMenuBase.prototype,"viewer",{get:function(){return this._viewer},enumerable:!0,configurable:!0});_ViewerMenuBase.prototype._bindMenuItems=function(){this.itemsSource=this._initItems()};_ViewerMenuBase.prototype._initItems=function(){throw e.culture.Viewer.abstractMethodException};_ViewerMenuBase.prototype._internalFormatItem=function(e,o){if(e&&void 0!==e.commandTag){t._removeChildren(o);if(e.icon){var n=document.createElement("span");n.appendChild(t._createSvgBtn(e.icon));o.insertBefore(n,o.firstChild)}o.setAttribute(t._commandTagAttr,e.commandTag.toString());this._updateActionStatus(o,e.commandTag)}};_ViewerMenuBase.prototype._formatItem=function(e,t){this._internalFormatItem(this.itemsSource[t.index],t.item)};_ViewerMenuBase.prototype._onItemClicked=function(e){this._viewer._executeAction(parseInt(e.selectedItem.commandTag))};_ViewerMenuBase.prototype._updateActionStatus=function(e,t){this._updateActionStatusCore(e,{actionType:t,checked:this._viewer._actionIsChecked(t),disabled:this._viewer._actionIsDisabled(t),shown:this._viewer._actionIsShown(t)})};_ViewerMenuBase.prototype._updateActionStatusCore=function(e,o){t._checkImageButton(e,o.checked);t._disableImageButton(e,o.disabled);t._showImageButton(e,o.shown)};_ViewerMenuBase.prototype._updateItemsStatus=function(){for(var e=this.dropDown.querySelectorAll("["+t._commandTagAttr+"]"),o=0;o<e.length;o++){var n=e[o],i=n.getAttribute(t._commandTagAttr);null!=i&&this._updateActionStatus(n,parseInt(i))}t._checkSeparatorShown(this.dropDown)};_ViewerMenuBase.prototype.refresh=function(e){void 0===e&&(e=!0);o.prototype.refresh.call(this,e);e&&this._bindMenuItems();this.isDroppedDown&&this.showMenu()};_ViewerMenuBase.prototype.showMenu=function(t){this.selectedIndex=-1;e.showPopup(this.dropDown,this.owner,t,!1,!1);this.dropDown.style.color=this._viewer.hostElement.style.color;e.addClass(this.dropDown,"wj-btn-group-vertical");e.addClass(this.dropDown,"wj-viewer-menu");this._updateItemsStatus();this.dropDown.focus()};return _ViewerMenuBase}(e.input.Menu);t._ViewerMenuBase=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_SearchOptionsMenu,o);function _SearchOptionsMenu(e,t,n){return o.call(this,e,t,n)||this}_SearchOptionsMenu.prototype._initItems=function(){var o=[];o.push({title:e.culture.Viewer.matchCaseMenuItem,commandTag:t._ViewerActionType.SearchMatchCase});o.push({title:e.culture.Viewer.wholeWordMenuItem,commandTag:t._ViewerActionType.SearchMatchWholeWord});return o};_SearchOptionsMenu.prototype._internalFormatItem=function(t,n){o.prototype._internalFormatItem.call(this,t,n);if(t&&void 0!==t.commandTag){var i=document.createElement("span");i.innerHTML=e.culture.Viewer.checkMark;e.addClass(i,"checkIcon");n.insertBefore(i,n.firstChild)}};_SearchOptionsMenu.prototype._updateActionStatus=function(t,n){o.prototype._updateActionStatus.call(this,t,n);this.viewer._actionIsChecked(n)?e.addClass(t,"checked"):e.removeClass(t,"checked")};return _SearchOptionsMenu}(t._ViewerMenuBase);t._SearchOptionsMenu=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_HamburgerMenu,o);function _HamburgerMenu(e,t,n){return o.call(this,e,t,n)||this}_HamburgerMenu.prototype._initItems=function(){var o=[],n=e.culture.Viewer;o.push({title:n.thumbnails,icon:t.icons.thumbnails,commandTag:t._ViewerActionType.ShowThumbnails});o.push({title:n.outlines,icon:t.icons.outlines,commandTag:t._ViewerActionType.ShowOutlines});o.push({title:n.exports,icon:t.icons.exports,commandTag:t._ViewerActionType.ShowExportsPanel});o.push({title:t.ViewerBase._seperatorHtml});o.push({title:n.portrait,icon:t.icons.portrait,commandTag:t._ViewerActionType.Portrait});o.push({title:n.landscape,icon:t.icons.landscape,commandTag:t._ViewerActionType.Landscape});o.push({title:n.pageSetup,icon:t.icons.pageSetup,commandTag:t._ViewerActionType.ShowPageSetupPanel});o.push({title:t.ViewerBase._seperatorHtml});o.push({title:n.showZoomBar,icon:t.icons.showZoomBar,commandTag:t._ViewerActionType.ShowZoomBar});o.push({title:t.ViewerBase._seperatorHtml});o.push({title:n.paginated,icon:t.icons.paginated,commandTag:t._ViewerActionType.TogglePaginated});o.push({title:n.print,icon:t.icons.print,commandTag:t._ViewerActionType.Print});o.push({title:t.ViewerBase._seperatorHtml});o.push({title:n.backwardHistory,icon:t.icons.backwardHistory,commandTag:t._ViewerActionType.Backward});o.push({title:n.forwardHistory,icon:t.icons.forwardHistory,commandTag:t._ViewerActionType.Forward});return o};return _HamburgerMenu}(t._ViewerMenuBase);t._HamburgerMenu=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ViewMenu,o);function _ViewMenu(e,t,n){return o.call(this,e,t,n)||this}_ViewMenu.prototype._initItems=function(){var o=[];o.push({title:e.culture.Viewer.singleMode,icon:t.icons.singleView,commandTag:t._ViewerActionType.Single});o.push({title:e.culture.Viewer.continuousMode,icon:t.icons.continuousView,commandTag:t._ViewerActionType.Continuous});o.push({title:t.ViewerBase._seperatorHtml});o.push({title:e.culture.Viewer.wholePage,icon:t.icons.fitWholePage,commandTag:t._ViewerActionType.FitWholePage});o.push({title:e.culture.Viewer.pageWidth,icon:t.icons.fitPageWidth,commandTag:t._ViewerActionType.FitPageWidth});return o};return _ViewMenu}(t._ViewerMenuBase);t._ViewMenu=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ReportHamburgerMenu,o);function _ReportHamburgerMenu(e,t,n){return o.call(this,e,t,n)||this}_ReportHamburgerMenu.prototype._initItems=function(){var n=o.prototype._initItems.call(this);n.splice(2,0,{title:e.culture.Viewer.parameters,icon:t.parametersIcon,commandTag:t.ReportViewer._parameterCommandTag});return n};return _ReportHamburgerMenu}(t._HamburgerMenu);t._ReportHamburgerMenu=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o,n,i,r;!function(e){e[e.Rpx=0]="Rpx";e[e.Rdf=1]="Rdf";e[e.Rdlx=2]="Rdlx"}(o||(o={}));!function(e){e[e.Image=3]="Image";e[e.Pdf=4]="Pdf";e[e.Html=5]="Html";e[e.Word=6]="Word";e[e.Xls=7]="Xls";e[e.Xml=8]="Xml";e[e.Svg=9]="Svg"}(n=t._ArDocumentFormat||(t._ArDocumentFormat={}));!function(e){e[e.NotStarted=0]="NotStarted";e[e.Rendering=1]="Rendering";e[e.Rendered=2]="Rendered";e[e.Cancelling=3]="Cancelling";e[e.Cancelled=4]="Cancelled";e[e.Error=5]="Error"}(i=t._ArLoadState||(t._ArLoadState={}));!function(e){e[e.InvalidCulture=0]="InvalidCulture";e[e.InvalidVersion=1]="InvalidVersion";e[e.UnknownReportType=2]="UnknownReportType";e[e.NoSuchReport=3]="NoSuchReport";e[e.ParametersNotSet=4]="ParametersNotSet";e[e.RuntimeIsBusy=5]="RuntimeIsBusy";e[e.InternalError=6]="InternalError";e[e.ParameterNotExists=7]="ParameterNotExists";e[e.NoAcceptableFormats=8]="NoAcceptableFormats";e[e.InvalidToken=9]="InvalidToken";e[e.UnsupportedFormat=10]="UnsupportedFormat";e[e.InvalidSetOfParameters=11]="InvalidSetOfParameters";e[e.MethodNotSupported=12]="MethodNotSupported";e[e.NoValidLicenseFound=13]="NoValidLicenseFound"}(r=t._ArErrorCode||(t._ArErrorCode={}));var a=function(o){__extends(_ArReportService,o);function _ArReportService(){var e=null!==o&&o.apply(this,arguments)||this;e._lifeTime=6e5;e._drillthroughData=null;e._canChangeRenderMode=!1;e._uid=(new Date).getTime().toString();e._isDisposed=!1;e._hasOutlines=void 0;return e}_ArReportService.StateToStatus=function(e){switch(e){case i.NotStarted:return t._ExecutionStatus.notFound;case i.Rendered:return t._ExecutionStatus.completed;case i.Rendering:return t._ExecutionStatus.rendering;case i.Cancelled:return t._ExecutionStatus.stopped;default:throw"Not supported state: "+e}};_ArReportService.ConvertFormat=function(e){switch(e){case"doc":case"docx":return n.Word;case"html":return n.Svg;case"mhtml":return n.Html;case"pdf":return n.Pdf;case"svg":return n.Svg;case"tiff":case"png":return n.Image;case"xml":return n.Xml;case"xlsx":case"xls":return n.Xls;default:throw"Not supported format: "+e}};_ArReportService.IsError=function(e){return!!(e&&e.json&&e.json.Error)};Object.defineProperty(_ArReportService.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0});Object.defineProperty(_ArReportService.prototype,"autoRun",{get:function(){return this._autoRun},enumerable:!0,configurable:!0});Object.defineProperty(_ArReportService.prototype,"canChangeRenderMode",{get:function(){return this._canChangeRenderMode},enumerable:!0,configurable:!0});Object.defineProperty(_ArReportService.prototype,"parameters",{get:function(){return this._parameters||[]},enumerable:!0,configurable:!0});_ArReportService.prototype.getStatus=function(){var e=this,o=new t._Promise;if(this._isDisposed)return o.resolve({status:t._ExecutionStatus.cleared});if(!this._token)return o.resolve({status:t._ExecutionStatus.notFound});this._ajax(this.serviceUrl+"/GetStatus",{method:"POST",data:{token:this._token}}).then((function(n){var i=_ArReportService.StateToStatus(n.json.LoadState),r={errorList:n.json.Error?[n.json.Error.Description]:[],pageCount:n.json.AvailablePages,hasOutlines:!!e._hasOutlines,progress:0,status:i};i===t._ExecutionStatus.completed&&null==e._hasOutlines?e.getOutlines(!0).then((function(t){r.hasOutlines=e._hasOutlines=(t||[]).length>0;o.resolve(r)})):o.resolve(r)}),(function(t){o.reject(e._getError(t))}));return o};_ArReportService.prototype.setPageSettings=function(e){throw t._DocumentSource._abstractMethodException};_ArReportService.prototype.getBookmark=function(e){var o=new t._Promise,n=e.split("|");return o.resolve({pageIndex:parseInt(n[0],10)-1,pageBounds:function(e){if(e){var o=e.split(" ");return{x:t._Unit.convertValue(parseFloat(o[0]),t._UnitType.Dip,t._UnitType.Twip),y:t._Unit.convertValue(parseFloat(o[1]),t._UnitType.Dip,t._UnitType.Twip)}}}(n[1])})};_ArReportService.prototype.executeCustomAction=function(e){switch(e.arKind){case t._ArActionKind.Drillthrough:var o=JSON.parse(e.data);return(new t._Promise).resolve(o);case t._ArActionKind.Toggle:return this.processOnClick(e.data);default:return(new t._Promise).reject("Not implemented action: "+e.arKind)}};_ArReportService.prototype.load=function(e){var o=this,i=[];if(e){Object.keys(e).forEach((function(t){if(0===t.indexOf("parameters.")){i.push({Name:t.substring("parameters.".length),Value:e[t]});delete e[t]}}))}if(this._drillthroughData){i.length&&this._mergeParameters(i,this._drillthroughData.Parameters||[]);return this.loadDrillthroughReport(this._drillthroughData)}var r=new t._Promise;this._ajax(this.serviceUrl+"/OpenReport",{method:"POST",data:this._merge(e,{acceptedFormats:[n.Svg],culture:"en-US",lifeTime:this._lifeTime/1e3,reportPath:this.filePath,version:4})}).then((function(e){o._hasDelayedContent=e.json.HasDelayedContent;o._autoRun=!!e.json.AutoRun;o._documentFormat=e.json.DocumentFormat;o._parameters=(e.json.ParameterCollection||[]).map((function(e){return o._convertFromServiceParameter(e)}));o._token=e.json.Token;o._isDisposed=!1;var n=new Date,i=new Date(n.getTime()+o._lifeTime);return{expiredDateTime:i,loadedDateTime:n,features:{nonPaginated:!1,paginated:!0,pageSettings:!1,textSearchInPaginatedMode:!0},pageSettings:{height:new t._Unit(1056,t._UnitType.Dip),width:new t._Unit(816,t._UnitType.Dip),leftMargin:new t._Unit(48,t._UnitType.Dip),rightMargin:new t._Unit(48,t._UnitType.Dip),topMargin:new t._Unit(48,t._UnitType.Dip),bottomMargin:new t._Unit(48,t._UnitType.Dip),paginated:!0},status:{errorList:e.json.Error?[e.json.Error.Description]:[],expiredDateTime:i,pageCount:0,progress:0,status:t._ExecutionStatus.loaded}}})).then((function(e){o.getReportProperty("ChangeRenderModeSupported").then((function(t){o._canChangeRenderMode=!!t;if(i&&i.length){var n=o._mergeParameters(i,o._parameters);o.setParameters(n).then((function(t){r.resolve(e)}))}else r.resolve(e)}))})).catch((function(e){r.reject(o._getError(e))}));return r};_ArReportService.prototype.loadDrillthroughReport=function(o){var n=this,i=new t._Promise;this._ajax(this.serviceUrl+"/OpenDrillthroughReport",{method:"POST",data:{token:this._token,lifeTime:this._lifeTime/1e3,reportPath:o.ReportName}}).then((function(r){n.dispose(!1).then((function(){n._hasDelayedContent=r.json.HasDelayedContent;n._autoRun=!!r.json.AutoRun;n._documentFormat=r.json.DocumentFormat;n._parameters=(r.json.ParameterCollection||[]).map((function(e){return n._convertFromServiceParameter(e)}));n._token=r.json.Token;n._isDisposed=!1;var a=new Date,s=new Date(a.getTime()+n._lifeTime),c={expiredDateTime:s,loadedDateTime:a,features:{nonPaginated:!1,paginated:!0,pageSettings:!1,textSearchInPaginatedMode:!0},pageSettings:{height:new t._Unit(1056,t._UnitType.Dip),width:new t._Unit(816,t._UnitType.Dip),leftMargin:new t._Unit(48,t._UnitType.Dip),rightMargin:new t._Unit(48,t._UnitType.Dip),topMargin:new t._Unit(48,t._UnitType.Dip),bottomMargin:new t._Unit(48,t._UnitType.Dip),paginated:!0},status:{errorList:r.json.Error?[r.json.Error.Description]:[],expiredDateTime:s,pageCount:0,progress:0,status:t._ExecutionStatus.loaded}};n.getReportProperty("ChangeRenderModeSupported").then((function(t){n._canChangeRenderMode=!!t;e.isArray(o.Parameters)&&o.Parameters.length?n.setParameters(o.Parameters).then((function(e){i.resolve(c)})):i.resolve(c)}))}))}),(function(e){i.reject(n._getError(e))}));return i};_ArReportService.prototype.processOnClick=function(e){var o=this,n=new t._Promise;this._ajax(this.serviceUrl+"/ProcessOnClick",{method:"POST",data:{token:this._token,data:{Action:"toggle",Data:e}}}).then((function(e){n.resolve({status:t._ExecutionStatus.rendering})}),(function(e){n.reject(o._getError(e))}));return n};_ArReportService.prototype.getReportProperty=function(e){return this._ajax(this.serviceUrl+"/GetReportProperty",{method:"POST",data:{token:this._token,propertyName:e}}).then((function(e){return e.json.Error?null:e.json.PropertyValue})).catch((function(e){return null}))};_ArReportService.prototype.render=function(e){var o=this;return this._ajax(this.serviceUrl+"/RunReport",{method:"POST",data:{token:this._token}}).then((function(e){o._isDisposed=!1;return{errorList:e.json.Error?[e.json.Error.Description]:[],status:t._ExecutionStatus.rendering}}))};_ArReportService.prototype.setDrillthroughData=function(e){this._drillthroughData=e};_ArReportService.prototype.dispose=function(e){var o=this;void 0===e&&(e=!0);return this._token?this._ajax(this.serviceUrl+"/CloseReport",{method:"POST",async:e,data:{token:this._token}}).then((function(){o._isDisposed=!0;o._token=null;o._hasOutlines=void 0;return{status:t._ExecutionStatus.cleared}})):new t._Promise};_ArReportService.prototype.getOutlines=function(e){void 0===e&&(e=!1);return this._getBookmarks(-1,0,e?1:100,!e)};_ArReportService.prototype._getError=function(e){var t=e;return _ArReportService.IsError(t)?'ErrorCode: "'+t.json.Error.ErrorCode+'". Description: "'+t.json.Error.Description+'"':e.responseText};_ArReportService.prototype._getBookmarks=function(e,o,n,i){var r=this;void 0===i&&(i=!0);var a=new t._Promise;this._ajax(this.serviceUrl+"/GetBookmarks",{method:"POST",data:{token:this._token,parentId:e,fromChild:o,count:n}}).then((function(s){var c=(s.json.Bookmarks||[]).map((function(e){return{caption:e.Name,children:e.ChildrenCount>0?function(){return r._getBookmarks(e.ID,0,n)}:null,position:{pageBounds:{height:t._Unit.convertValue(e.Size.Width||0,t._UnitType.Inch,t._UnitType.Twip),width:t._Unit.convertValue(e.Size.Height||0,t._UnitType.Inch,t._UnitType.Twip),x:t._Unit.convertValue(e.Location.X||0,t._UnitType.Inch,t._UnitType.Twip),y:t._Unit.convertValue(e.Location.Y||0,t._UnitType.Inch,t._UnitType.Twip)},pageIndex:e.Page},target:""}})),u=o+c.length;!i||u>=s.json.ChildrenCount||u>=1e5?a.resolve(c):r._getBookmarks(e,u,n).then((function(e){a.resolve(c.concat(e))}))}));return a};_ArReportService.prototype.renderToFilter=function(e){var o=this,n=new t._Promise;this.getRenderToFilterUrl(e).then((function(t){o._ajax(t+"&WebViewerControlClientId="+o._uid+(e.outputRange?"&Page="+e.outputRange:""),{method:"GET",parseResponse:!1}).then((function(e){n.resolve(e.xhr)}),(function(t){_ArReportService.IsError(t)&&t.json.Error.ErrorCode==r.RuntimeIsBusy?setTimeout((function(){return o.renderToFilter(e)}),o.getPingTimeout()):n.reject(t)}))}));return n};_ArReportService.prototype.search=function(e){var o=new t._Promise;this._ajax(this.serviceUrl+"/Search",{method:"POST",data:{token:this._token,options:{Text:e.text,MatchCase:e.matchCase,WholeWord:e.wholeWord},startFrom:{PageIndex:-1},numberOfResults:100}}).then((function(e){var n=e.json.SearchResults.map((function(e){return{nearText:e.DisplayText,positionInNearText:e.TextStart,pageIndex:e.PageIndex,boundsList:[{height:t._Unit.convertValue(e.ItemArea.Height||0,t._UnitType.Inch,t._UnitType.Twip),width:t._Unit.convertValue(e.ItemArea.Width||0,t._UnitType.Inch,t._UnitType.Twip),x:t._Unit.convertValue(e.ItemArea.Left||0,t._UnitType.Inch,t._UnitType.Twip),y:t._Unit.convertValue(e.ItemArea.Top||0,t._UnitType.Inch,t._UnitType.Twip)}]}}));o.resolve(n)}),(function(e){return o.reject(e)}));return o};_ArReportService.prototype.setParameters=function(e){var o=this,n=new t._Promise;this._ajax(this.serviceUrl+"/SetParameters",{method:"POST",data:{token:this._token,parametersSetAtClient:(e||[]).map((function(e){return o._convertToServiceParameter(e)}))}}).then((function(e){n.resolve(o._parameters=(e.json.ParameterCollection||[]).map((function(e){return o._convertFromServiceParameter(e)})))})).catch((function(e){_ArReportService.IsError(e)&&e.json.Error.ErrorCode==r.ParametersNotSet?n.resolve(o._parameters=(e.json.ParameterCollection||[]).map((function(e){return o._convertFromServiceParameter(e)}))):n.reject(e)}));return n};_ArReportService.prototype.validateParameter=function(e){return this._ajax(this.serviceUrl+"/ValidateParameter",{method:"POST",data:{token:this._token,parametersSetAtClient:this._convertToServiceParameter(e)}}).then((function(e){return null}))};_ArReportService.prototype.getRenderToFilterUrl=function(e){var o=this,n=new t._Promise;this._ajax(this.serviceUrl+"/GetRenderedReportLink",{method:"POST",data:{token:this._token}}).then((function(e){n.resolve(e.json.ReportLink.Uri)}),(function(t){_ArReportService.IsError(t)&&t.json.Error.ErrorCode==r.RuntimeIsBusy?setTimeout((function(){return o.getRenderToFilterUrl(e)}),o.getPingTimeout()):n.reject(t)}));return n};_ArReportService.prototype.getExportedUrl=function(o){var i=this,a=_ArReportService.ConvertFormat(o.format),s=function(){var e={FileName:i.getFileName()};a==n.Pdf&&(e.EmbedFonts="All");if(a==n.Image){"png"===o.format&&(e.ImageType="PNG");if(o.outputRange){e.StartPage=o.outputRange.toString();e.EndPage=o.outputRange.toString()}if(o.resolution){e.DpiX=o.resolution.toString();e.DpiY=o.resolution.toString()}}o.printing&&a==n.Pdf&&(e.PrintOnOpen=!0);return e}(),c=new t._Promise;this._ajax(this.serviceUrl+"/GetExportedReportLink",{method:"POST",data:{token:this._token,format:a,exportingParameters:s,pageRange:null}}).then((function(t){c.resolve(t.json.ReportLink.Uri+(e.isNumber(o.outputRange)?"&outputRange="+o.outputRange:"")+(o.printing?"":"&Attachment=1"))}),(function(e){_ArReportService.IsError(e)&&e.json.Error.ErrorCode==r.RuntimeIsBusy?setTimeout((function(){return i.getExportedUrl(o)}),i.getPingTimeout()):c.reject(e)}));return c};_ArReportService.prototype.getPingTimeout=function(){return 1e3};_ArReportService.prototype.getSupportedExportDescriptions=function(){var e=new t._Promise;e.resolve([{name:"TIFF image",format:"tiff"},{name:"Adobe PDF",format:"pdf"},{name:"Web archive (MHTML)",format:"mhtml"},{name:"Microsoft Word",format:"doc"},{name:"Microsoft Excel",format:"xls"},{name:"XML document",format:"xml"}]);return e};_ArReportService.prototype.getFeatures=function(){throw t._DocumentSource._abstractMethodException};_ArReportService.prototype._ajax=function(e,o){var n=new t._Promise;(o=o||{}).urlEncode=!1;this.httpRequest(e,o).then((function(e){var t={xhr:e};try{e.responseText&&!1!==o.parseResponse&&(t.json=JSON.parse(e.responseText).d);if(t.json&&t.json.Error)throw"";n.resolve(t)}catch(e){n.reject(t)}}),(function(e){n.reject(e)}));return n};_ArReportService.prototype._convertFromServiceParameter=function(e){var cnvrt=function(e,o){null!=e&&t._ArParameterType.DateTime;return e};e.Value=cnvrt(e.Value,e.ParameterType);e.AvailableValues=(e.AvailableValues||[]).map((function(t){return{Label:t.Label,Value:cnvrt(t.Value,e.ParameterType)}}));return e};_ArReportService.prototype._convertToServiceParameter=function(e){var cnvrt=function(e,o){null!=e&&t._ArParameterType.DateTime;return e};e.Value=cnvrt(e.Value,e.ParameterType);e.Values&&e.Values.forEach((function(t){t.Value=cnvrt(t.Value,e.ParameterType)}));return e};_ArReportService.prototype._merge=function(e,t){if(e&&t){for(var o in e)t[o]=e[o];return t}};_ArReportService.prototype._mergeParameters=function(e,t){var o=[],n=t.map((function(t){var n=t.Name.toLowerCase();o.push(n);var i=e.filter((function(e){return n===e.Name.toLowerCase()}));return i.length?function(){t.Value=i[0].Value;return t}():t}));n.push.apply(n,e.filter((function(e){return o.indexOf(e.Name.toLowerCase())<0})));return n};_ArReportService.prototype._parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};return _ArReportService}(t._DocumentService);t._ArReportService=a}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(_ArReportSource,o);function _ArReportSource(e,t){return o.call(this,e,t)||this}Object.defineProperty(_ArReportSource.prototype,"autoRun",{get:function(){return this._innerService.autoRun},enumerable:!0,configurable:!0});Object.defineProperty(_ArReportSource.prototype,"encodeRequestParams",{get:function(){return!1},enumerable:!0,configurable:!0});Object.defineProperty(_ArReportSource.prototype,"hasParameters",{get:function(){var e=this._innerService.parameters;return e&&e.length>0},enumerable:!0,configurable:!0});Object.defineProperty(_ArReportSource.prototype,"hasThumbnails",{get:function(){return!1},enumerable:!0,configurable:!0});Object.defineProperty(_ArReportSource.prototype,"_innerService",{get:function(){return this.service},enumerable:!0,configurable:!0});_ArReportSource.prototype.getParameters=function(){var e=new t._Promise,o=this._convertParameters(this._innerService.parameters);return e.resolve(o)};_ArReportSource.prototype.setParameters=function(o){var n=this,i=new t._Promise,r=[],a={};this._innerService.parameters.forEach((function(e){a[e.Name]=e}));Object.keys(o).forEach((function(t){var n;r.push(n={AllowEmpty:a[t].AllowEmpty,DateOnly:a[t].DateOnly,MultiLine:a[t].MultiLine,MultiValue:a[t].MultiValue,Name:t,Nullable:a[t].Nullable,ParameterType:a[t].ParameterType});n.MultiValue&&e.isArray(o[t])?n.Values=o[t].map((function(e){return{Value:e}})):n.Value=o[t]}));this._innerService.setParameters(r).then((function(e){n._convertParameters(e.filter((function(e){return e.State!==t._ArParameterState.OK})));i.resolve(n._convertParameters(e))}));return i};_ArReportSource.prototype.print=function(e){this.getExportedUrl({format:"pdf",printing:!0},!0).then((function(e){if(e)try{var t=window.open(e,"_blank");t&&t.focus()}catch(t){window.location.assign(e+"&Attachment=1")}}))};_ArReportSource.prototype._createDocumentService=function(e){return new t._ArReportService(e,this.httpHandler)};_ArReportSource.prototype._getIsDisposed=function(){return o.prototype._getIsDisposed.call(this)||this._innerService.isDisposed};_ArReportSource.prototype._updateExecutionInfo=function(e){o.prototype._updateExecutionInfo.call(this,e)};_ArReportSource.prototype._checkIsLoadCompleted=function(e){return e.status===t._ExecutionStatus.completed||e.status===t._ExecutionStatus.stopped};_ArReportSource.prototype._convertParameters=function(e){return e.map((function(e){return{allowedValues:e.AvailableValues&&e.AvailableValues.length?e.AvailableValues.map((function(e){return{key:e.Label,value:e.Value}})):void 0,allowBlank:e.AllowEmpty,dataType:e.ParameterType===t._ArParameterType.Boolean?t._ParameterType.Boolean:e.ParameterType===t._ArParameterType.DateTime?t._ParameterType.DateTime:e.ParameterType===t._ArParameterType.Float?t._ParameterType.Float:e.ParameterType===t._ArParameterType.Integer?t._ParameterType.Integer:t._ParameterType.String,error:e.ExtendedErrorInfo,hidden:!1,name:e.Name,nullable:!!e.Nullable,maxLength:0,multiValue:e.MultiValue,prompt:e.Prompt,value:e.MultiValue&&e.Values&&e.Values.length?e.Values.map((function(e){return e.Value})):e.Value}}))};return _ArReportSource}(t._ReportSourceBase);t._ArReportSource=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var o=function(o){__extends(ReportViewer,o);function ReportViewer(e,t){var n=o.call(this,e,t)||this;n._initSidePanelParameters();return n}ReportViewer.prototype._getProductInfo=function(){return"QNI5,ReportViewer"};Object.defineProperty(ReportViewer.prototype,"reportName",{get:function(){return this._reportName},set:function(e){if(e!=this._reportName){this._reportName=e;this._needBindDocumentSource();this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(ReportViewer.prototype,"paginated",{get:function(){return this._innerPaginated},set:function(e){this._innerPaginated=e},enumerable:!0,configurable:!0});Object.defineProperty(ReportViewer.prototype,"parameters",{get:function(){return this._clientParameters},set:function(e){if(e!=this._clientParameters){this._clientParameters=e;this._needBindDocumentSource();this.invalidate()}},enumerable:!0,configurable:!0});ReportViewer.getReportNames=function(e,o,n){return t._Report.getReportNames(e,o,n)};ReportViewer.getReports=function(e,o,n,i){return t._Report.getReports(e,o,n,i)};ReportViewer.prototype.onQueryLoadingData=function(e){var t=this;this.parameters&&Object.keys(this.parameters).forEach((function(o){return e.data["parameters."+o]=t.parameters[o]}));o.prototype.onQueryLoadingData.call(this,e)};ReportViewer.prototype._globalize=function(){o.prototype._globalize.call(this);var t=e.culture.Viewer;this._gParameterTitle.textContent=t.parameters};ReportViewer.prototype._executeAction=function(t){o.prototype._executeAction.call(this,t);if(!this._actionIsDisabled(t))switch(t){case ReportViewer._parameterCommandTag:e.Control.getControl(this._sidePanel).active(this._parametersPageId)}};ReportViewer.prototype._executeCustomAction=function(e){if(this._isArReport()&&e.arKind===t._ArActionKind.Drillthrough){var n=JSON.parse(e.data),i=this._getDocumentSource();i._innerService.setDrillthroughData(n);i._updateIsLoadCompleted(!1);this._loadDocument(i,!0,!1)}else o.prototype._executeCustomAction.call(this,e)};ReportViewer.prototype._actionIsDisabled=function(e){switch(e){case ReportViewer._parameterCommandTag:return!this._innerDocumentSource||!this._innerDocumentSource.hasParameters}return o.prototype._actionIsDisabled.call(this,e)};ReportViewer.prototype._initHamburgerMenu=function(e){this._hamburgerMenu=new t._ReportHamburgerMenu(this,e)};ReportViewer.prototype._initSidePanelParameters=function(){var o=this,n=e.Control.getControl(this._sidePanel),i=n.addPage(e.culture.Viewer.parameters,t.parametersIcon,2);this._parametersPageId=i.id;this._gParameterTitle=i.outContent.querySelector(".wj-tabtitle");i.format((function(i){o._paramsEditor=new t._ParametersEditor(i.content);o._paramsEditor.commit.addHandler((function(){if(o._innerDocumentSource&&o._innerDocumentSource.hasParameters){o._showViewPanelMessage();o._innerDocumentSource.setParameters(o._paramsEditor.parameters).then((function(e){var t=e||[],n=t.some((function(e){return!!e.error}));o._paramsEditor._reset();if(n)o._paramsEditor.itemsSource=t;else{o._resetDocument();o._paramsEditor.isDisabled=!0;o._renderDocumentSource()}})).catch((function(e){o._showViewPanelErrorMessage(t._getErrorMessage(e))}));o._isMobileTemplate()&&n.collapse()}}));o._paramsEditor.validate.addHandler((function(){if(o._innerDocumentSource&&o._innerDocumentSource.hasParameters){o._paramsEditor.isDisabled=!0;o._innerDocumentSource.setParameters(o._paramsEditor.parameters).then((function(e){o._paramsEditor.itemsSource=e;o._paramsEditor.isDisabled=!1;o._paramsEditor.savingParam=!1}),(function(e){o._paramsEditor.isDisabled=!1;o._paramsEditor.savingParam=!1}))}}));var updateParametersPanel=function(){var r=o._innerDocumentSource;r.status===t._ExecutionStatus.cleared||r.status===t._ExecutionStatus.notFound?t._removeChildren(i.content):r.status===t._ExecutionStatus.rendering?o._paramsEditor.isDisabled=!0:r.status===t._ExecutionStatus.completed&&(o._paramsEditor.isDisabled=!1);var a=r.status===t._ExecutionStatus.loaded;(r.status===t._ExecutionStatus.completed||a)&&(r.hasParameters?r.getParameters().then((function(t){if(t.filter((function(e){return!e.hidden})).length){n.show(i);n.active(i)}else n.hide(i);if(o._innerDocumentSource==r&&!r.isDisposed){o._paramsEditor.itemsSource=t;if(t.filter((function(e){return null==e.value&&!e.nullable&&!e.hidden})).length){o._showViewPanelMessage(e.culture.Viewer.requiringParameters);o._updateUI();e.Control.getControl(o._sidePanel).enable(o._parametersPageId)}else if(a){o._paramsEditor.isDisabled=!0;o._renderDocumentSource()}}})):n.hide(i))},update=function(){if(o._innerDocumentSource){t._addWjHandler(o._documentEventKey,o._innerDocumentSource.statusChanged,updateParametersPanel);updateParametersPanel()}};o._documentSourceChanged.addHandler(update);update()}))};Object.defineProperty(ReportViewer.prototype,"_innerDocumentSource",{get:function(){return this._getDocumentSource()},enumerable:!0,configurable:!0});ReportViewer.prototype._loadDocument=function(e,n,i){void 0===n&&(n=!1);void 0===i&&(i=!0);var r=this._innerDocumentSource!==e&&!n,a=o.prototype._loadDocument.call(this,e,n,i);e&&r&&t._addWjHandler(this._documentEventKey,e.statusChanged,this._onDocumentStatusChanged,this);return a};ReportViewer.prototype._reRenderDocument=function(){this._renderDocumentSource()};ReportViewer.prototype._onDocumentStatusChanged=function(){this._innerDocumentSource&&this._innerDocumentSource.status===t._ExecutionStatus.loaded&&!this._innerDocumentSource.hasParameters&&this._innerDocumentSource.autoRun&&this._renderDocumentSource()};ReportViewer.prototype._renderDocumentSource=function(){var e=this;if(this._innerDocumentSource){this._setDocumentRendering();var t=this._innerDocumentSource;t.render().then((function(o){return e._getStatusUtilCompleted(t)}))}};ReportViewer.prototype._disposeDocument=function(e){void 0===e&&(e=!0);this._innerDocumentSource&&t._removeAllWjHandlers(this._documentEventKey,this._innerDocumentSource.statusChanged);o.prototype._disposeDocument.call(this,e)};ReportViewer.prototype._setDocumentRendering=function(){this._innerDocumentSource.status=t._ExecutionStatus.rendering;o.prototype._setDocumentRendering.call(this)};ReportViewer.prototype._getSource=function(){return this.filePath?this._isArReport()?new t._ArReportSource({serviceUrl:this.serviceUrl,filePath:this.filePath},this):new t._Report({serviceUrl:this.serviceUrl,filePath:this.filePath,reportName:this.reportName,paginated:this.paginated},this):null};ReportViewer.prototype._supportsPageSettingActions=function(){return!0};ReportViewer.prototype.refresh=function(e){void 0===e&&(e=!0);o.prototype.refresh.call(this,e);e&&this._paramsEditor.refresh()};ReportViewer.prototype._isArReport=function(){return!!this.filePath&&t._strEndsWith(this.filePath,".rdlx",!0)};ReportViewer.prototype._createPage=function(e,n){return this._isArReport()?new t._ArPage(this._getDocumentSource(),e,n):o.prototype._createPage.call(this,e,n)};ReportViewer.prototype._actionElementClicked=function(e){if(this._isArReport()){var n=this._getActionInfo(e);n&&n.arKind===t._ArActionKind.Hyperlink?window.open(n.data,"_blank"):o.prototype._actionElementClicked.call(this,e)}else o.prototype._actionElementClicked.call(this,e)};ReportViewer.prototype._getActionInfo=function(e){if(!this._isArReport())return o.prototype._getActionInfo.call(this,e);var n=e.attributes["arsvg:data-action-type"].value,i=e.attributes["arsvg:data-action-data"].value.replace(/&quot;/g,'"'),r=e.attributes["arsvg:data-action-page"].value;if(n)switch(n){case t._ArActionKind.Bookmark:return{kind:t._ActionKind.Bookmark,data:i?r+"|"+i:r,arKind:n};default:return{kind:t._ActionKind.Custom,data:i,arKind:n}}return null};ReportViewer._parameterCommandTag=99;return ReportViewer}(t.ViewerBase);t.ReportViewer=o}(e.viewer||(e.viewer={}))}(wijmo||(wijmo={}));!function(e){e.viewer||(e.viewer={}),e._registerModule("wijmo.viewer",e.viewer)}(wijmo||(wijmo={}));