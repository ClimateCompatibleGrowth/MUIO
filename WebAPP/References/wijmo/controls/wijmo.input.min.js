/*!
    *
    * Wijmo Library 5.20213.824
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var wijmo,__extends=this&&this.__extends||function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();!function(e){!function(t){"use strict";e._addCultureInfo("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var i=function(t){__extends(InputNumber,t);function InputNumber(i,n){var o=t.call(this,i)||this;o._value=null;o._min=null;o._max=null;o._format="";o._step=null;o._showBtn=!0;o._readOnly=!1;o._handleWheel=!0;o._oldText="";o._fromKb=!0;o.textChanged=new e.Event;o.valueChanged=new e.Event;var s=o.hostElement;e.setAttribute(s,"role","spinbutton",!0);var r=o.getTemplate();o.applyTemplate("wj-control wj-content wj-inputnumber",r,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var a=e.culture.InputNumber.ariaLabels;e.setAriaLabel(o._btnUp.querySelector("button"),a.incVal);e.setAriaLabel(o._btnDn.querySelector("button"),a.decVal);o._tbx.type.match(/number/i)&&(o.inputType="");var l=o._tbx;l.autocomplete="off";l.spellcheck=!1;o._updateSymbols();var h=o.addEventListener.bind(o);h(l,"keypress",o._keypress.bind(o));h(l,"keydown",o._keydown.bind(o));h(l,"input",o._input.bind(o));h(l,"blur",(function(){o.text!=o._oldText&&o._setText(o.text)}));h(l,"paste",(function(){o._fromKb=!1}));h(l,"compositionstart",(function(){o._composing=!0}));h(l,"compositionend",(function(){o._composing=!1;setTimeout((function(){var e=o.text,t=o._oldText,i=o._chrPct;t&&t.indexOf(i)>-1&&e.indexOf(i)<0&&(e+=i);o._setText(e)}))}));var u=o._clickSpinner.bind(o);h(o._btnUp,"click",u);h(o._btnDn,"click",u);o._rptUp=new e._ClickRepeater(o._btnUp.querySelector("button"));o._rptDn=new e._ClickRepeater(o._btnDn.querySelector("button"));h(l,"wheel",(function(t){if(o.handleWheel&&!t.defaultPrevented&&!t.ctrlKey&&o._isEditable()&&o.containsFocus()){var i=e.clamp(-t.deltaY,-1,1);o._increment((o.step||1)*i);setTimeout((function(){return o.selectAll()}));t.preventDefault()}}));o.value=0;o.isRequired=!0;o.initialize(n);return o}Object.defineProperty(InputNumber.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(null==(t=e.asNumber(t,!this.isRequired||null==t&&null==this._value)))this._setText("");else if(!isNaN(t)){var i=e.Globalize.format(t,this.format);this._setText(i)}},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=e.asBoolean(t);this.inputElement.readOnly=this._readOnly;e.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"min",{get:function(){return this._min},set:function(t){if(t!=this._min){this._min=e.asNumber(t,!0);this._updateAria()}},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"max",{get:function(){return this._max},set:function(t){if(t!=this._max){this._max=e.asNumber(t,!0);this._updateAria()}},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"step",{get:function(){return this._step},set:function(t){this._step=e.asNumber(t,!0);this._updateBtn()},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"format",{get:function(){return this._format},set:function(t){if(t!=this.format){this._format=e.asString(t);this.refresh()}},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"text",{get:function(){return this._tbx.value},set:function(e){if(e!=this.text){this._oldText=null;this._setText(e)}},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=e.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0});Object.defineProperty(InputNumber.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!e.asBoolean(t)},enumerable:!0,configurable:!0});InputNumber.prototype.selectAll=function(){var t=this._tbx;e.setSelectionRange(t,0,t.value.length)};InputNumber.prototype.clamp=function(t){return e.clamp(t,this.min,this.max)};InputNumber.prototype.onTextChanged=function(e){this.textChanged.raise(this,e);this._updateState()};InputNumber.prototype.onValueChanged=function(e){this._updateAria();this.valueChanged.raise(this,e)};InputNumber.prototype.dispose=function(){this._rptUp.element=null;this._rptDn.element=null;t.prototype.dispose.call(this)};InputNumber.prototype.onGotFocus=function(e){this._oldValue=this.value;if(!this.isTouching){this._tbx.focus();this.selectAll()}t.prototype.onGotFocus.call(this,e)};InputNumber.prototype.onLostFocus=function(i){if(this._composing){this._composing=!1;this._setText(this.text)}if(this._isEditable()){var n=this.clamp(this.value);if(n==this.value||this.onInvalidInput(new e.CancelEventArgs)){var o=e.Globalize.format(n,this.format);this._setText(o)}}t.prototype.onLostFocus.call(this,i)};InputNumber.prototype.refresh=function(i){void 0===i&&(i=!0);t.prototype.refresh.call(this,i);if(this.hostElement){this._updateSymbols();var n=e.Globalize.format(this.value,this.format);this._setText(n)}};InputNumber.prototype._isEditable=function(){return!this.isReadOnly&&!this.isDisabled};InputNumber.prototype._updateSymbols=function(){var t=e.culture.Globalize.numberFormat,i=e.Globalize._parseNumericFormat(this.format);this._chrDec=t["."]||".";this._chrTho=t[","]||",";this._chrNeg=t["-"]||"-";this._chrPls=t["+"]||"+";this._chrPct=t["%"]||"%";this._chrCur=i.curr||t.currency.symbol||"$";this._fmtSpc=i.spec;this._fmtPrc=i.prec;this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$");this._rxNeg=new RegExp("(\\-|\\(|\\"+this._chrNeg+")")};InputNumber.prototype._isNumeric=function(e,t){var i=e==this._chrDec||e>="0"&&e<="9",n="x"==this._fmtSpc;!i&&n&&(i=e>="a"&&e<="f"||e>="A"&&e<="F");i||t||n||(i=e==this._chrPls||e==this._chrNeg||"("==e||")"==e);return i};InputNumber.prototype._getInputRange=function(e){for(var t=[0,0],i=this.text,n=!1,o=0;o<i.length;o++)if(this._isNumeric(i[o],e)){if(!n){t[0]=o;n=!0}t[1]=o+1}return t};InputNumber.prototype._flipSign=function(){var e=this._getSelStartDigits();this.value*=-1;this._setSelStartDigits(e)};InputNumber.prototype._getSelStartDigits=function(){for(var e=0,t=this._tbx.selectionStart,i=this._tbx.value,n=0;n<i.length&&n<t;n++)this._isNumeric(i[n],!0)&&e++;return e};InputNumber.prototype._setSelStartDigits=function(t){for(var i=this._tbx.value,n=0;n<i.length&&t>=0;n++)if(this._isNumeric(i[n],!0)){if(!t){e.setSelectionRange(this._tbx,n);break}t--}else if(!t){e.setSelectionRange(this._tbx,n);break}};InputNumber.prototype._increment=function(t){if(t){var i=this.clamp(e.isNumber(this.value)?this.value+t:0),n=e.Globalize.format(i,this.format,!1,!1);this._setText(n)}};InputNumber.prototype._updateBtn=function(){var t=this.showSpinner&&!!this.step,i=t;e.setCss([this._btnUp,this._btnDn],{display:t?"":"none"});e.toggleClass(this.hostElement,"wj-input-show-spinner",t);e.enable(this._btnUp,i);e.enable(this._btnDn,i);this._updateAria()};InputNumber.prototype._setText=function(t,i){void 0===i&&(i=!1);if(!this._composing){var n=this._tbx,o=this._chrDec,s=this._rxNeg.test(t),r=this._delKey,a=this.containsFocus();t&&this._rxSym.test(t)&&a&&(t=this.isRequired||!r?(s?"-0":"0")+(t.indexOf(o)>-1?o:""):"");this._delKey=!1;r&&0==this.value&&!this.isRequired&&(t="");if(!t){if(!this.isRequired){n.value="";if(null!=this._value){this._value=null;this.onValueChanged()}if(this._oldText){this._oldText=t;this.onTextChanged()}this._updateBtn();return}t="0"}var l=t.indexOf(o),h=this._format||(l>-1?"n2":"n0"),u=e.Globalize.parseFloat(t,h);isFinite(u)||(u=this.clamp(u));if(isNaN(u))this.onInvalidInput(new e.CancelEventArgs)?n.value=this._oldText:this.focus();else{var c=a&&l>-1?2:null,p=e.Globalize.format(u,h,!1,i,c);s&&u>=0&&!r&&(p=this._chrNeg+p);a&&l>-1&&"g"==this._fmtSpc&&0!=this._fmtPrc&&(p=t).indexOf(o)<0&&(p+=o);if(n.value!=p){n.value=p;u=e.Globalize.parseFloat(p,h)}if(u!=this._value){this._value=u;this.onValueChanged()}if(this.text!=this._oldText){this._oldText=this.text;this.onTextChanged()}this._updateBtn();this._updateState()}}};InputNumber.prototype._keypress=function(t){if(!t.defaultPrevented&&!this._composing&&this._isEditable()&&t.charCode&&!t.ctrlKey&&!t.metaKey&&t.keyCode!=e.Key.Enter){var i=this._tbx,n=String.fromCharCode(t.charCode);if(this._isNumeric(n,!1)){var o=i.maxLength;if(o>-1&&i.value.length>=o&&i.selectionEnd==i.selectionStart){t.preventDefault();return}var s=this._getInputRange(!0),r=i.selectionStart,a=i.selectionEnd;if(r<s[0]&&a<i.value.length){a=Math.max(a,s[0]);e.setSelectionRange(i,s[0],a)}if(r>=s[1]){var l=null!=this._fmtPrc?this._fmtPrc:2,h=i.value.indexOf(this._chrDec);h>-1&&r-h>l&&t.preventDefault()}}else t.preventDefault();switch(n){case"-":case this._chrNeg:if(this.clamp(-1)>=0)this.value<0&&this._flipSign();else if(this.value&&i.selectionStart==i.selectionEnd)this._flipSign();else if(this.clamp(-1)<0){i.value=this._chrNeg;e.setSelectionRange(i,1)}t.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign();t.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)t.preventDefault();else{var u=i.value.indexOf(this._chrDec);if(u>-1){i.selectionStart<=u&&u++;e.setSelectionRange(i,u);t.preventDefault()}}}if(!t.defaultPrevented&&e.isIE()){var c=i.value;if((r=i.selectionStart)==(a=i.selectionEnd)){i.value=c.substr(0,r)+n+c.substr(a);e.setSelectionRange(i,r+1);t.preventDefault();this._input()}}}};InputNumber.prototype._keydown=function(t){var i=this;this._delKey=!1;if(!t.defaultPrevented&&!this._composing&&!e.hasClass(this._tbx,"wj-grid-ime")){var n=this._tbx,o=n.value,s=n.selectionStart,r=n.selectionEnd;switch(t.keyCode){case 65:if(t.ctrlKey){setTimeout((function(){i.selectAll()}));t.preventDefault()}break;case e.Key.Up:case e.Key.Down:if(this.step&&this._isEditable()){this._increment(this.step*(t.keyCode==e.Key.Up?1:-1));setTimeout((function(){i.selectAll()}));t.preventDefault()}break;case e.Key.Back:this._delKey=!0;if(r-s<2&&this._isEditable()){var a=o[r-1];if(a==this._chrDec||a==this._chrPct||a==this._chrTho||")"==a){setTimeout((function(){r=a==i._chrPct?i._getInputRange(!0)[1]:r-1;e.setSelectionRange(n,r)}));t.preventDefault()}}break;case e.Key.Delete:this._delKey=!0;if(r-s<2&&this._isEditable())if("0"==o&&1==s)e.setSelectionRange(n,0);else{var l=o[s];if(l==this._chrDec||l==this._chrPct){setTimeout((function(){e.setSelectionRange(n,s+1)}));t.preventDefault()}}break;case e.Key.Escape:this.value=this._oldValue;this.selectAll()}}};InputNumber.prototype._input=function(){var t=this;this._composing?this._fromKb=!0:setTimeout((function(){var i=t._tbx,n=i.value,o=n.indexOf(t._chrDec),s=i.selectionStart,r=t._getSelStartDigits();"p"==t._fmtSpc&&n.length&&n.indexOf(t._chrPct)<0&&(n+=t._chrPct);t._setText(n,t._fromKb);t._fromKb=!0;if(t.containsFocus()){var a=i.value,l=a.indexOf(t._chrDec),h=t._getInputRange(!0);if(n==t._chrNeg+t._chrDec&&l>-1){e.setSelectionRange(i,l+1);return}if(n[0]==t._chrNeg&&a[0]!=t._chrNeg){1==a.length?e.setSelectionRange(i,1):t._setSelStartDigits(r);return}n?n==t._chrDec&&l>-1?s=l+1:s<=o&&l>-1||o<0&&l<0?s+=a.length-n.length:o<0&&l>-1&&(s=l):s=l>-1?l:h[1];s=e.clamp(s,h[0],h[1]);e.setSelectionRange(i,s)}}))};InputNumber.prototype._clickSpinner=function(t){var i=this;if(!t.defaultPrevented&&this._isEditable()&&this.step){this._increment(this.step*(e.contains(this._btnUp,t.target)?1:-1));this.isTouching||setTimeout((function(){return i.selectAll()}))}};InputNumber.prototype._updateAria=function(){var t=this.hostElement;if(t){e.setAttribute(t,"aria-valuemin",this.min);e.setAttribute(t,"aria-valuemax",this.max);e.setAttribute(t,"aria-valuenow",this.value);e.enable(this._btnDn,null==this.min||this.value>this.min);e.enable(this._btnUp,null==this.max||this.value<this.max)}};InputNumber.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div></div>';return InputNumber}(e.Control);t.InputNumber=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(t){__extends(InputMask,t);function InputMask(i,n){var o=t.call(this,i)||this;o.valueChanged=new e.Event;var s=o.getTemplate();o.applyTemplate("wj-control wj-content wj-inputmask",s,{_tbx:"input"},"input");if("INPUT"==o._orgTag){var r=o._tbx.getAttribute("value");r&&(o.value=r)}o._msk=new e._MaskProvider(o._tbx);o.isRequired=!0;o.initialize(n);o.addEventListener(o._tbx,"input",(function(){o.onValueChanged()}));o.addEventListener(o._tbx,"blur",o._commitText.bind(o));o.addEventListener(o._tbx,"keydown",(function(t){t.keyCode==e.Key.Enter&&o._commitText()}));return o}Object.defineProperty(InputMask.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0});Object.defineProperty(InputMask.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputMask.prototype,"value",{get:function(){return this._tbx.value},set:function(t){if(t!=this.value){this._tbx.value=e.asString(t);t=this._msk._applyMask();this._tbx.value=t;this.onValueChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(InputMask.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(t){t!=this.rawValue&&(this.value=e.asString(t))},enumerable:!0,configurable:!0});Object.defineProperty(InputMask.prototype,"mask",{get:function(){return this._msk.mask||""},set:function(t){var i=this.value;this._msk.mask=e.asString(t);this.value!=i&&this.onValueChanged()},enumerable:!0,configurable:!0});Object.defineProperty(InputMask.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(e){var t=this.value;this._msk.promptChar=e;this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0});Object.defineProperty(InputMask.prototype,"overwriteMode",{get:function(){return this._msk.overwriteMode},set:function(t){this._msk.overwriteMode=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputMask.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0});Object.defineProperty(InputMask.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0});Object.defineProperty(InputMask.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputMask.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=e.asBoolean(t);e.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0});InputMask.prototype.selectAll=function(){var t=this._msk.getMaskRange();e.setSelectionRange(this._tbx,t[0],t[1]+1)};InputMask.prototype.onValueChanged=function(e){if(this.value!=this._oldValue){this._oldValue=this.value;this.valueChanged.raise(this,e)}this._updateState()};InputMask.prototype._commitText=function(){if((this.value||this.isRequired)&&!this.maskFull&&!this.onInvalidInput(new e.CancelEventArgs)){var t=this._tbx,i=t.value,n=i.indexOf(this.promptChar);n>-1&&e.setSelectionRange(t,n,i.length)}this._updateState()};InputMask.prototype.dispose=function(){this._msk.input=null;t.prototype.dispose.call(this)};InputMask.prototype.refresh=function(e){void 0===e&&(e=!0);t.prototype.refresh.call(this,e);this.hostElement&&this._msk.refresh()};InputMask.prototype.onGotFocus=function(e){t.prototype.onGotFocus.call(this,e);this.selectAll()};InputMask.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>';return InputMask}(e.Control);t.InputMask=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(t){__extends(ColorPicker,t);function ColorPicker(i,n){var o=t.call(this,i)||this;o._hsb=[.5,1,1];o._alpha=1;o.valueChanged=new e.Event;var s=o.getTemplate();o.applyTemplate("wj-control wj-content wj-colorpicker",s,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"});o._palette="#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(",");o._updatePalette();o._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)";o._eHue.style.backgroundSize="contain";if(navigator.appVersion.indexOf("MSIE 9")>-1){o._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)";o._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"}s=ColorPicker._tplCursor;o._cSB=e.createElement(s);o._cHue=e.createElement(s);o._cHue.style.width="100%";o._cAlpha=e.createElement(s);o._cAlpha.style.height="100%";o._eSB.appendChild(o._cSB);o._eHue.appendChild(o._cHue);o._eAlpha.appendChild(o._cAlpha);var r=o.addEventListener.bind(o),a=o.removeEventListener.bind(o),l=document;r(o.hostElement,"mousedown",(function(e){r(l,"mousemove",mouseMove);r(l,"mouseup",mouseUp);o._mouseDown(e)}));r(o.hostElement,"touchstart",(function(e){r(l,"touchmove",mouseMove);r(l,"touchend",mouseUp);o._mouseDown(e)}));var mouseMove=function(e){o._mouseMove(e)},mouseUp=function(e){a(l,"mousemove",mouseMove);a(l,"mouseup",mouseUp);a(l,"touchmove",mouseMove);a(l,"touchend",mouseUp);o._mouseUp(e)};r(o.hostElement,"click",(function(t){var i=t.target;if(i&&"DIV"==i.tagName&&e.contains(o._ePal,i)){var n=i.style.backgroundColor;n&&(o.value=new e.Color(n).toString())}}));o.value="#ffffff";o.initialize(n);o._updatePanels();return o}Object.defineProperty(ColorPicker.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(t){this._eAlpha.parentElement.style.display=e.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0});Object.defineProperty(ColorPicker.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(t){this._eText.style.display=e.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0});Object.defineProperty(ColorPicker.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this.value){t=e.asString(t);var i=e.Color.fromString(t);if(i){this._value=t;this._eText.innerText=t;var n=i.getHsb();if(this._hsb[0]!=n[0]||this._hsb[1]!=n[1]||this._hsb[2]!=n[2]||this._alpha!=i.a){if(0==n[2]){n[0]=this._hsb[0];n[1]=this._hsb[1]}else 0==n[1]&&(n[0]=this._hsb[0]);this._hsb=n;this._alpha=i.a;this._updatePanels();this.onValueChanged()}}}},enumerable:!0,configurable:!0});Object.defineProperty(ColorPicker.prototype,"palette",{get:function(){return this._palette},set:function(t){if((t=(t=e.asArray(t)).slice(0,10)).every((function(t){return null!=e.Color.fromString(t)}))){this._palette=t;this._updatePalette()}},enumerable:!0,configurable:!0});ColorPicker.prototype.onValueChanged=function(e){this._updatePanels();this.valueChanged.raise(this,e)};ColorPicker.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e);if(this._htDown){e.preventDefault();this.focus();this._mouseMove(e)}};ColorPicker.prototype._mouseMove=function(t){var i=t.touches?t.touches[0]:t,n=this._htDown;if(n){var o=n.getBoundingClientRect(),s=this._hsb;if(n==this._eHue)s[0]=e.clamp((i.clientY-o.top)/o.height,0,.99);else if(n==this._eSB){s[1]=e.clamp((i.clientX-o.left)/o.width,0,1);s[2]=e.clamp(1-(i.clientY-o.top)/o.height,0,1)}else n==this._eAlpha&&(this._alpha=e.clamp((i.clientX-o.left)/o.width,0,1));this._updateColor()}};ColorPicker.prototype._mouseUp=function(e){this._htDown=null};ColorPicker.prototype._updateColor=function(){var t=e.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=t.toString();this._updatePanels()};ColorPicker.prototype._updatePalette=function(){var t=new e.Color("#fff"),i=new e.Color("#000");this._ePal.innerHTML="";for(var n=0;n<this._palette.length;n++){var o=e.createElement('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),s=new e.Color(this._palette[n]),r=s.getHsb();o.appendChild(this._makePalEntry(s,4));for(var a=0;a<5;a++){if(0==r[1]){var l=.1*a+(r[2]>.5?.05:.55);s=e.Color.interpolate(t,i,l)}else s=e.Color.fromHsb(r[0],.1+.2*a,1-.1*a);o.appendChild(this._makePalEntry(s,0))}this._ePal.appendChild(o)}};ColorPicker.prototype._makePalEntry=function(t,i){var n=document.createElement("div");e.setCss(n,{cursor:"pointer",backgroundColor:t.toString(),marginBottom:i||""});n.innerHTML="&nbsp";return n};ColorPicker.prototype._updatePanels=function(){var t=e.Color.fromHsb(this._hsb[0],1,1,1),i=e.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=t.toString();this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+i.toString()+" 100%)";navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+i.toString()+", GradientType = 1)");this._ePreview.style.backgroundColor=this.value;this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%";this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%";this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%";this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"};ColorPicker.prototype._getTargetPanel=function(t){var i=t.target;return e.contains(this._eSB,i)?this._eSB:e.contains(this._eHue,i)?this._eHue:e.contains(this._eAlpha,i)?this._eAlpha:null};ColorPicker.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>';ColorPicker._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>';return ColorPicker}(e.Control);t.ColorPicker=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(t){__extends(CollectionViewNavigator,t);function CollectionViewNavigator(i,n){var o=t.call(this,i)||this;o._view=null;o._byPage=!1;o._fmt="{current:n0} / {count:n0}";var s=o.getTemplate();o.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",s,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input");o._rptNext=new e._ClickRepeater(o._btnNext.querySelector("button"));o._rptPrev=new e._ClickRepeater(o._btnPrev.querySelector("button"));o.addEventListener(o.hostElement,"click",o._click.bind(o));o.initialize(n);o._update();return o}Object.defineProperty(CollectionViewNavigator.prototype,"cv",{get:function(){return this._view},set:function(t){if(t!=this._view){var i=this._view;if(i){i.collectionChanged.removeHandler(this._collectionChanged);i.currentChanged.removeHandler(this._currentChanged)}i=this._view=e.asType(t,"ICollectionView",!0);this._update();if(i){i.collectionChanged.addHandler(this._collectionChanged,this);i.currentChanged.addHandler(this._currentChanged,this)}}},enumerable:!0,configurable:!0});Object.defineProperty(CollectionViewNavigator.prototype,"byPage",{get:function(){return this._byPage},set:function(t){if(t!=this._byPage){this._byPage=e.asBoolean(t);this._update()}},enumerable:!0,configurable:!0});Object.defineProperty(CollectionViewNavigator.prototype,"headerFormat",{get:function(){return this._fmt},set:function(t){if(t!=this._fmt){this._fmt=e.asString(t);this._update()}},enumerable:!0,configurable:!0});Object.defineProperty(CollectionViewNavigator.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(t){this._rptNext.disabled=this._rptPrev.disabled=!e.asBoolean(t)},enumerable:!0,configurable:!0});CollectionViewNavigator.prototype._update=function(){var t=this._view,i=this._byPage,n=t?i?t.pageIndex:t.currentPosition:0,o=t?i?t.pageCount:t.itemCount:0;e.enable(this._btnFirst,t&&n>0);e.enable(this._btnPrev,t&&n>0);e.enable(this._txtCurr,null!=t);e.enable(this._btnNext,t&&n<o-1);e.enable(this._btnLast,t&&n<o-1);this._txtCurr.value=e.format(this._fmt,{current:t?n+1:0,count:t?o:0,currentItem:t?t.currentPosition+1:0,itemCount:t?t.itemCount:0,currentPage:t?t.pageIndex+1:0,pageCount:t?t.pageCount:0})};CollectionViewNavigator.prototype._currentChanged=function(){this._update()};CollectionViewNavigator.prototype._collectionChanged=function(){this._update()};CollectionViewNavigator.prototype._click=function(t){var i=t.target,n=this._view,o=this._byPage;if(n){e.contains(this._btnFirst,i)?o?n.moveToFirstPage():n.moveCurrentToFirst():e.contains(this._btnPrev,i)?o?n.moveToPreviousPage():n.moveCurrentToPrevious():e.contains(this._btnNext,i)?o?n.moveToNextPage():n.moveCurrentToNext():e.contains(this._btnLast,i)&&(o?n.moveToLastPage():n.moveCurrentToLast());t.preventDefault()}};CollectionViewNavigator.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>';return CollectionViewNavigator}(e.Control);t.CollectionViewNavigator=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(t){__extends(ListBox,t);function ListBox(i,n){var o=t.call(this,i,null,!0)||this;o._cv=null;o._itemFormatter=null;o._pathDisplay=new e.Binding("");o._pathValue=new e.Binding("");o._pathChecked=new e.Binding("");o._html=!1;o._shGroups=!1;o._checkedItems=[];o._itemRole="option";o._caseSensitive=!1;o._vThreshold=ListBox._VTHRESH;o._isVirtual=!1;o._children=[];o._clientHeight=-1;o._itemHeight=30;o._itemsAbove=-1;o._itemsBelow=-1;o._eSizer=document.createElement("div");o._ePadTop=document.createElement("div");o._ePadBot=document.createElement("div");o._checking=!1;o._search="";o._fmtItemHandlers=0;o._itemCount=0;o._oldSel=null;o.selectedIndexChanged=new e.Event;o.itemsChanged=new e.Event;o.loadingItems=new e.Event;o.loadedItems=new e.Event;o.itemChecked=new e.Event;o.checkedItemsChanged=new e.Event;o.formatItem=new e.Event((function(){o.invalidate()}));o.applyTemplate("wj-control wj-content wj-listbox",null,null);var s=o.hostElement;e.setAttribute(s,"role","listbox",!0);"SELECT"==o._orgTag&&o._initFromSelect(o.hostElement);o.addEventListener(s,"click",o._click.bind(o));o.addEventListener(s,"keydown",o._keydown.bind(o));o.addEventListener(s,"keypress",o._keypress.bind(o));o.addEventListener(s,"wheel",(function(e){if(s.scrollHeight>s.offsetHeight&&(e.deltaY<0&&0==s.scrollTop||e.deltaY>0&&s.scrollTop+s.offsetHeight>=s.scrollHeight)){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()}}));[o._eSizer,o._ePadTop,o._ePadBot].forEach((function(t){t.tabIndex=-1;e.setAttribute(t,"aria-hidden",!0);e.setCss(t,{pointerEvents:"none",opacity:"0"})}));o.initialize(n);o._updateViewRange();o.hostElement.addEventListener("scroll",(function(e){o._updateViewRange()}));return o}Object.defineProperty(ListBox.prototype,"itemsSource",{get:function(){return this._items},set:function(t){if(this._items!=t){if(this._cv){this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this);this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this);this._cv=null}this._items=t;this._cv=e.asCollectionView(t);if(null!=this._cv){this._cv.currentChanged.addHandler(this._cvCurrentChanged,this);this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)}this._populateList();this.onItemsChanged();this.onSelectedIndexChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"virtualizationThreshold",{get:function(){return this._vThreshold},set:function(t){if(t!=this._vThreshold){var i=this._getVirtual();this._vThreshold=e.asNumber(t,!1,!0);i!=this._getVirtual()&&this._populateList()}},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){if(t!=this._shGroups){this._shGroups=e.asBoolean(t);this._populateList()}},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){if(t!=this._html){this._html=e.asBoolean(t);this._populateList()}},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){if(t!=this._itemFormatter){this._itemFormatter=e.asFunction(t);this._populateList()}},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(t){if(t!=this.displayMemberPath){this._pathDisplay.path=e.asString(t);this._populateList()}},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(t){this._pathValue.path=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(t){if(t!=this.checkedMemberPath){this._pathChecked.path=e.asString(t);this._populateList()}},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(t){this._caseSensitive=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"itemRole",{get:function(){return this._itemRole},set:function(t){if(t!=this.itemRole){this._itemRole=e.asString(t);this._populateList()}},enumerable:!0,configurable:!0});ListBox.prototype.getDisplayValue=function(t){var i=null;if(t>-1&&e.hasItems(this._cv)){i=this._cv.items[t];this.displayMemberPath&&(i=this._pathDisplay.getValue(i))}var n=null!=i?i.toString():"";this._itemFormatter&&(n=this._itemFormatter(t,n));return n};ListBox.prototype.getDisplayText=function(e){var t=this._getChild(e);return null!=t?t.textContent:""};ListBox.prototype.isItemEnabled=function(t){var i=this._getChild(t);return null!=i&&!i.hasAttribute("disabled")&&!e.hasClass(i,"wj-state-disabled")&&!e.hasClass(i,"wj-separator")};Object.defineProperty(ListBox.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(e.asNumber(t))},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(e){this._cv&&this._cv.moveCurrentTo(e)},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"selectedValue",{get:function(){var e=this.selectedItem;e&&this.selectedValuePath&&(e=this._pathValue.getValue(e));return e},set:function(t){var i=this._cv,n=i?i.items:null,o=this.selectedValuePath,s=-1;if(n){for(var r=0;r<n.length;r++){var a=n[r],l=o?this._pathValue.getValue(a):a;if(l===t||e.DateTime.equals(l,t)){s=r;break}if(this.isContentHtml&&e.isString(l)&&l.indexOf("<")>-1&&e.toPlainText(l)===t){s=r;break}}this.selectedIndex=s}},enumerable:!0,configurable:!0});Object.defineProperty(ListBox.prototype,"maxHeight",{get:function(){var e=this.hostElement,t=e?parseFloat(e.style.maxHeight):null;return isNaN(t)?null:t},set:function(t){var i=this.hostElement;if(i){t=e.asNumber(t,!0);i.style.maxHeight=null==t?"":t+"px"}},enumerable:!0,configurable:!0});ListBox.prototype.showSelection=function(t){void 0===t&&(t=this.containsFocus());var i=this.hostElement,n=this._children,o=this._getSelectedElement(!1),s=new e.Rect(0,0,0,0);if(o!=this._oldSel){this._updateItemAttributes(o,!0);this._updateItemAttributes(this._oldSel,!1);this._oldSel=o}o instanceof HTMLElement?s=this._getBoundingClientRect(o):this._children.length>0&&(s=this._getBoundingClientRect(this._getChild(0)));var r=this._getBoundingClientRect(i),a=0;if(this._shGroups){a=this._itemHeight;if(!this._isVirtual){var l=n[0];l.offsetHeight&&e.hasClass(l,"wj-header")&&(a=l.offsetHeight)}}s.bottom>r.bottom?i.scrollTop+=s.bottom-r.bottom:s.top<r.top+a&&(i.scrollTop-=r.top+a-s.top);this._updateViewRange();o=this._getSelectedElement(!0);if(t){(o&&!e.contains(o,e.getActiveElement())?o:i).focus()}i.tabIndex=o?-1:this._orgTabIndex};ListBox.prototype.loadList=function(){this._populateList()};ListBox.prototype.getItemChecked=function(t){var i=this._cv.items[t],n=this._pathChecked;if(e.isObject(i)&&n.path)return n.getValue(i);var o=this._getCheckbox(t);return!!o&&o.checked};ListBox.prototype.setItemChecked=function(e,t){this._setItemChecked(e,t,!0)};ListBox.prototype.toggleItemChecked=function(e){this.setItemChecked(e,!this.getItemChecked(e))};Object.defineProperty(ListBox.prototype,"checkedItems",{get:function(){return this._checkedItems},set:function(t){var i=this,n=e.asArray(t,!1);if(!this._arrayEquals(n,this._checkedItems)){var o=this._cv,s=this._pathChecked,r=new Map;if(s&&o){var a=o.sourceCollection;if(a&&a.length){e.isObject(a[0])||(s=null);n.forEach((function(e){return r.set(e,!0)}));this._checking=!0;var l=[];a.forEach((function(e){var t=r.has(e);t&&l.push(e);s&&s.setValue(e,t)}));this._checking=!1;n=l}o.items.forEach((function(e,t){i._setItemChecked(t,r.has(e),!1)}))}if(!this._arrayEquals(n,this._checkedItems)){this._checkedItems=n;this.onCheckedItemsChanged()}}},enumerable:!0,configurable:!0});ListBox.prototype.indexOf=function(t){return(t=e.closest(t,".wj-listbox-item"))?t[ListBox._DIDX_KEY]:-1};ListBox.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)};ListBox.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)};ListBox.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)};ListBox.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)};ListBox.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)};ListBox.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)};ListBox.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)};ListBox.prototype.refresh=function(e){void 0===e&&(e=!0);t.prototype.refresh.call(this,e);if(this.hostElement){var i=this._cv?this._cv.items.length:0,n=this.formatItem.handlerCount;if(i!=this._itemCount||n!=this._fmtItemHandlers){this._fmtItemHandlers=n;this._populateList()}}};ListBox.prototype._getBoundingClientRect=function(t){if(!t.offsetHeight){var i=this.indexOf(t),n=this.hostElement;if(i>-1&&n){i=this._getElementIndex(i);var o=n.getBoundingClientRect();return new e.Rect(0,o.top-n.scrollTop+i*this._itemHeight,o.width,this._itemHeight)}}return e.Rect.fromBoundingRect(t.getBoundingClientRect())};ListBox.prototype._updateItemAttributes=function(t,i){if(t){var n=this.checkedMemberPath?this._getCheckbox(this.indexOf(t)):null,o=n?n.checked:null;e.toggleClass(t,"wj-state-selected",i);e.setAttribute(t,"aria-selected",this._getAriaSelected(i,o));t.tabIndex=i?this._orgTabIndex:-1}};ListBox.prototype._getCheckedItems=function(){var t=this,i=this._cv,n=this._pathChecked,o=[];i&&n&&n.path&&(o=i.sourceCollection.filter((function(o,s){if(i.filter&&!i.filter(o))return!1;if(e.isObject(o))return n.getValue(o);var r=i.items[s]==o?s:i.items.indexOf(o);return t.getItemChecked(r)})));return o};ListBox.prototype._arrayEquals=function(e,t){if(e==t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0};ListBox.prototype._getChild=function(e){e=this._getElementIndex(e);return this._children[e]};ListBox.prototype._getElementIndex=function(t){if(this._shGroups)for(var i=this._children,n=0;n<=t&&n<i.length;n++){var o=i[n];e.hasClass(o,"wj-header")&&t++}return t};ListBox.prototype._setItemChecked=function(t,i,n){void 0===n&&(n=!0);var o=this._cv.items[t],s=this._pathChecked,r=!1,a=this.selectedIndex,l=this._checking;if(e.isObject(o)&&s.path){if(!!s.getValue(o)!=i){var h=e.tryCast(this._cv,"IEditableCollectionView");r=!0;this._checking=!0;if(h){h.editItem(o);s.setValue(o,i);h.commitEdit()}else{s.setValue(o,i);h.refresh()}this._checking=l}}else if(n){var u=this._checkedItems.indexOf(o);(i&&u<0||!i&&u>=0)&&(r=!0)}var c=this._getCheckbox(t);if(c){c.checked=i;var p=e.closest(c,".wj-listbox-item");if(p){e.toggleClass(p,"wj-state-checked",i);e.setAttribute(p,"aria-selected",!!i||null)}}if(n){if(r){this._checkedItems=this._checkedItemsUpdate(o,i);this.onItemChecked();this.onCheckedItemsChanged()}a!=this.selectedIndex&&this.onSelectedIndexChanged()}return r};ListBox.prototype._checkedItemsUpdate=function(e,t){var i=this._cv.sourceCollection,n=this._checkedItems,o=0,s=0;if(!t){var r=n.indexOf(e);return n.slice(0,r).concat(n.slice(r+1))}for(;;o++){var a=i[o];if(a===n[s])s++;else if(a===e)return n.slice(0,s).concat([e]).concat(n.slice(s))}};ListBox.prototype._cvCollectionChanged=function(){if(!this._checking){this._populateList();this.onItemsChanged()}};ListBox.prototype._cvCurrentChanged=function(){if(!this._checking){this.showSelection();this.onSelectedIndexChanged()}};ListBox.prototype._populateList=function(){var t=this.hostElement,i=this._cv;this._itemCount=i?i.items.length:0;this._isVirtual=this._getVirtual();this._oldSel=null;this._itemsAbove=-1;this._itemsBelow=-1;if(t){var o=this.containsFocus(),s=void 0;this.onLoadingItems();var r=this._children=[];t.textContent="";if(i){var a=0,l=void 0,h=[];if(this._shGroups&&i.groups&&i.groups.length){s={};for(var u=0;u<i.groups.length;u++){var c=i.groups[u];s[a]=c;l=this._createHeaderItem(c);h.push(l);for(var p=0;p<c.items.length;p++,a++){l=this._createItem(a);h.push(l)}}}else for(p=0;p<i.items.length;p++,a++){l=this._createItem(a);h.push(l)}var d=this._isVirtual?document.createElement("div"):t,f=0;d.innerHTML=h.join("");for(p=0;p<d.children.length;p++){var _=d.children[p];f==i.currentPosition&&(this._oldSel=_);_[ListBox._DIDX_KEY]=_.className.indexOf("wj-header")<0?f++:-1;r.push(_)}}if(this.formatItem.hasHandlers&&i){a=0;var m=i.items;for(_=new n(0,null,null),p=0;p<r.length;p++){_._item=r[p];if(this._shGroups&&e.hasClass(_._item,"wj-header")){_._index=-1;_._data=s[a]}else{_._index=a;_._data=m[a++]}this.onFormatItem(_)}}if(this._isVirtual){var g=this._getCanvasContext(),b=null,v=0;for(p=0;p<r.length;p++){l=r[p];var y=g.measureText(l.textContent);if(y.width>v){b=l;v=y.width}}if(b){var w=!1,x=t.style.display,C=t.style.position;if(!t.parentElement){w=!0;document.body.appendChild(t);e.setCss(t,{display:"",position:"absolute"})}t.appendChild(b);var D=b.style.whiteSpace;b.style.whiteSpace="nowrap";this._ePadTop.style.width=b.offsetWidth+"px";this._itemHeight=b.offsetHeight||this._itemHeight;b.style.whiteSpace=D;if(w){e.removeChild(t);e.setCss(t,{display:x,position:C})}e.removeChild(b)}else this._ePadTop.style.width="";this._eSizer.style.height=r.length*this._itemHeight+"px";t.appendChild(this._eSizer);this._clientHeight=t.clientHeight;e.removeChild(this._eSizer);this._updateViewRange()}this.checkedItems=this._getCheckedItems();var I=this._getSelectedElement(!0);if(o){(I||t).focus()}else I&&this.showSelection();t.tabIndex=I?-1:this._orgTabIndex;this.onLoadedItems()}};ListBox.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),t=getComputedStyle(this.hostElement);t.fontSize&&t.fontFamily&&(e.font=t.fontSize+" "+t.fontFamily.split(",")[0]);return e};ListBox.prototype._getVirtual=function(){if(this._itemCount<=this._vThreshold)return!1;var e=this.hostElement;if(e){var t=getComputedStyle(e);if(parseInt(t.columnCount)>1||t.display.indexOf("flex")>-1||t.display.indexOf("grid")>-1)return!1}return!0};ListBox.prototype._getMaxSupportedCssHeight=function(){var t=265e5;e.isIE()?t=15e5:e.isFirefox()&&(t=175e5);return t};ListBox.prototype._updateViewRange=function(){var t=this.hostElement,i=this._itemHeight,n=this._children;if(!(t&&t.parentElement&&this._isVirtual&&n))return!1;var o=t.scrollTop;e.assert(i*n.length<this._getMaxSupportedCssHeight(),"The number of items ("+n.length+") exceeds the maximum number of items ("+Math.floor(this._getMaxSupportedCssHeight()/i)+") allowed for this browser.");var s=Math.max(t.clientHeight,this._clientHeight),r=Math.floor(o/i),a=Math.min(n.length,Math.ceil((o+s)/i)-r),l=Math.max(0,n.length-r-a);if(r==this._itemsAbove&&l==this._itemsBelow)return!1;this._itemsAbove=r;this._itemsBelow=l;var h=document.createDocumentFragment(),u=this.containsFocus();this._ePadTop.style.height=r*i+"px";h.appendChild(this._ePadTop);if(this.showGroups&&!e.hasClass(n[r],"wj-header"))for(var c=r;c>=0;c--)if(e.hasClass(n[c],"wj-header")){h.appendChild(n[c]);break}for(c=r;c<=r+a&&c<n.length;c++)h.appendChild(n[c]);this._ePadBot.style.height=l*i+"px";h.appendChild(this._ePadBot);t.textContent="";t.appendChild(h);var p=(r+a+l)*i-t.scrollHeight;this._ePadBot.style.height=this._ePadBot.offsetHeight-p+"px";var d=this._getSelectedElement(!0);if(u){(d||t).focus({preventScroll:!0})}t.tabIndex=d?-1:this._orgTabIndex;return!0};ListBox.prototype._getSelectedElement=function(e){var t=this.selectedIndex,i=this._getElementIndex(t),n=i>-1?this._children[i]:null;e&&n&&!n.offsetHeight&&(n=null);return n};ListBox.prototype._handleResize=function(){this._updateViewRange()};ListBox.prototype._createItem=function(t){var i=this._cv.items[t],n=t==this._cv.currentPosition,o=this.getDisplayValue(t);1!=this._html&&(o=e.escapeHtml(o));var s=null;if(this.checkedMemberPath){s=!1;e.isObject(i)?s=!!this._pathChecked.getValue(i):this._checkedItems&&(s=this._checkedItems.indexOf(i)>-1);o='<label><input type="checkbox" tabindex="-1"'+(s?" checked":"")+"><span></span> "+o+"</label>"}var r="wj-listbox-item";n&&(r+=" wj-state-selected");s&&(r+=" wj-state-checked");if(this._html){var a=["wj-separator","wj-state-disabled"];if(o.indexOf(a[0])>-1||o.indexOf(a[1])>-1){var l=e.createElement(o);a.forEach((function(t){e.hasClass(l,t)&&(r+=" "+t)}))}}return'<div class="'+r+'" role="'+this.itemRole+'" '+(this._getAriaSelected(n,s)?'aria-selected="true" ':"")+'tabindex="'+(n&&!this.isDisabled?this._orgTabIndex:-1)+'">'+o+"</div>"};ListBox.prototype._getAriaSelected=function(e,t){return!!(null!=t?t:e)||null};ListBox.prototype._createHeaderItem=function(t){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+e.escapeHtml(t.name)+"</div>"};ListBox.prototype._click=function(t){if(0==t.button&&!t.defaultPrevented){var i=this.indexOf(t.target);if(i>-1){this.selectedIndex=i;if(this.checkedMemberPath){var n=this._getCheckbox(i),o=e.closest(n,".wj-listbox-item");if(t.target==n||t.target==o){o.focus({preventScroll:!0});this.setItemChecked(i,n.checked)}}}}};ListBox.prototype._keydown=function(t){var i=this.selectedIndex;if(!t.defaultPrevented){if(65==t.keyCode&&(t.ctrlKey||t.metaKey)){var n=this.collectionView;if(this.checkedMemberPath&&e.hasItems(n)){this.checkedItems=this.checkedItems.length!=n.items.length?n.items:[];t.preventDefault();return}}if(!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey))switch(t.keyCode){case e.Key.Down:t.preventDefault();this._selectNext();break;case e.Key.Up:t.preventDefault();this._selectPrev();break;case e.Key.Home:t.preventDefault();this._selectFirst();break;case e.Key.End:t.preventDefault();this._selectLast();break;case e.Key.PageDown:t.preventDefault();this._selectNextPage();break;case e.Key.PageUp:t.preventDefault();this._selectPrevPage();break;case e.Key.Space:if(this.checkedMemberPath&&i>-1){var o=this._getCheckbox(i);if(o&&this.isItemEnabled(i)){this.setItemChecked(i,!o.checked);t.preventDefault()}}}}};ListBox.prototype._keypress=function(t){var i=this;if(!t.defaultPrevented&&!(t.target instanceof HTMLInputElement)&&(t.charCode>32||32==t.charCode&&this._search)){t.preventDefault();this._search+=String.fromCharCode(t.charCode);this._toSearch&&clearTimeout(this._toSearch);this._toSearch=setTimeout((function(){i._toSearch=null;i._search=""}),e.Control._SEARCH_DELAY);var n=this._findNext();if(n<0&&this._search.length>1){this._search=this._search[this._search.length-1];n=this._findNext()}n>-1&&(this.selectedIndex=n)}};ListBox.prototype._selectNext=function(){for(var e=this.selectedIndex+1;e<this._children.length;e++)if(this.isItemEnabled(e)){this.selectedIndex=e;return!0}return!1};ListBox.prototype._selectPrev=function(){for(var e=this.selectedIndex-1;e>=0;e--)if(this.isItemEnabled(e)){this.selectedIndex=e;return!0}return!1};ListBox.prototype._selectFirst=function(){for(var e=0;e<this._children.length;e++)if(this.isItemEnabled(e)){this.selectedIndex=e;return!0}return!1};ListBox.prototype._selectLast=function(){for(var e=this._children.length-1;e>=0;e--)if(this.isItemEnabled(e)){this.selectedIndex=e;return!0}return!1};ListBox.prototype._selectNextPage=function(){var e=this.hostElement.offsetHeight,t=this._children,i=this._cv?this._cv.items.length:0,n=0;if(e>0)for(var o=this.selectedIndex+1;o<i;o++){var s=t[o].scrollHeight||this._itemHeight;if(n+s>e&&this.isItemEnabled(o)){this.selectedIndex=o;return!0}n+=s}return this._selectLast()};ListBox.prototype._selectPrevPage=function(){var e=this.hostElement.offsetHeight,t=this._children,i=0;if(e>0)for(var n=this.selectedIndex-1;n>0;n--){var o=t[n].scrollHeight||this._itemHeight;if(i+o>e&&this.isItemEnabled(n)){this.selectedIndex=n;return!0}i+=o}return this._selectFirst()};ListBox.prototype._findNext=function(){if(this.hostElement){var e=this._children.length,t=this.selectedIndex;(t<0||1==this._search.length)&&t++;var i=this._search,n=this.caseSensitiveSearch;n||(i=i.toLowerCase());for(var o=0;o<e;o++){var s=(t+o)%e;if(this.isItemEnabled(s)){var r=this.getDisplayText(s).trim();n||(r=r.toLowerCase());if(0==r.indexOf(i))return s}}}return-1};ListBox.prototype._getCheckbox=function(e){var t=this._children;e=this._getElementIndex(e);return this.hostElement&&e>-1&&e<t.length?t[e].querySelector("input[type=checkbox]"):null};ListBox.prototype._initFromSelect=function(e){for(var t=e.children,i=[],n=-1,o=0;o<t.length;o++){var s=t[o];if("OPTION"==s.tagName){s.hasAttribute("selected")&&(n=i.length);s.innerHTML?i.push({hdr:s.innerHTML,val:s.getAttribute("value"),cmdParam:s.getAttribute("cmd-param")}):i.push({hdr:'<div class="wj-separator"></div>'});e.removeChild(s);o--}}if(i){this.displayMemberPath="hdr";this.selectedValuePath="val";this.itemsSource=i;this.selectedIndex=n}};ListBox.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e);this._updateTabIndex()};ListBox.prototype._setTabOrder=function(e){t.prototype._setTabOrder.call(this,e);this.isDisabled||this._updateTabIndex()};ListBox.prototype._updateTabIndex=function(){var e=this.hostElement,t=this._getSelectedElement(!0);if(t){t.tabIndex=this.isDisabled?-1:this._orgTabIndex;e.tabIndex=-1}else e.tabIndex=this.isDisabled?-1:this._orgTabIndex};ListBox._DIDX_KEY="$WJ-DIDX";ListBox._VTHRESH=Number.MAX_VALUE/2;return ListBox}(e.Control);t.ListBox=i;var n=function(t){__extends(FormatItemEventArgs,t);function FormatItemEventArgs(i,n,o){var s=t.call(this)||this;s._index=e.asNumber(i);s._data=n;s._item=e.asType(o,HTMLElement,!0);return s}Object.defineProperty(FormatItemEventArgs.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0});Object.defineProperty(FormatItemEventArgs.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0});Object.defineProperty(FormatItemEventArgs.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0});return FormatItemEventArgs}(e.EventArgs);t.FormatItemEventArgs=n}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";e._addCultureInfo("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var i=function(i){__extends(MultiSelectListBox,i);function MultiSelectListBox(n,o){var s=i.call(this,n)||this;s._selectAllLabel=null;s._filterPlaceholder=null;s._filterText="";s._checkOnFilter=!0;s._delay=e.Control._SEARCH_DELAY;s.checkedItemsChanged=new e.Event;s.selectedIndexChanged=new e.Event;var r=s.getTemplate();s.applyTemplate("wj-control wj-content wj-multiselectlistbox",r,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"});s._selectAll.style.display="none";s._filter.style.display="none";s._lbx=new t.ListBox(s._lbHost,{checkedMemberPath:MultiSelectListBox._DEF_CHECKED_PATH,loadedItems:function(){return s._updateCheckAllCheckbox()},checkedItemsChanged:function(){return s.onCheckedItemsChanged()},selectedIndexChanged:function(){return s.onSelectedIndexChanged()}});s._cbSelectAll=s._selectAll.querySelector("input[type=checkbox]");s._spSelectAll=s._selectAll.querySelector("label>span");var a=e.culture.MultiSelectListBox;e.setText(s._spSelectAll,a.selectAll);s._filter.placeholder=a.filterPlaceholder;s.initialize(o);s.addEventListener(s._filter,"input",(function(){if(s._filter.value!=s._filterText){s._filterText=s._filter.value;s._toSearch&&clearTimeout(s._toSearch);s._toSearch=setTimeout((function(){s._toSearch=null;s._applyFilter()}),s.delay)}}));s.addEventListener(s._cbSelectAll,"click",(function(t){var i=s._lbx.collectionView;e.hasItems(i)&&(s.checkedItems=t.target.checked?i.items:[])}));s.addEventListener(s.hostElement,"keydown",(function(t){var i=s.showFilterInput?s._filter:null,n=s._lbx;if(i&&t.keyCode==e.Key.F3){e.setSelectionRange(i,0,i.value.length);t.preventDefault()}if(e.getActiveElement()==i){var o=!t.altKey;switch(t.keyCode){case e.Key.Escape:case e.Key.F4:o=!1}o&&t.stopPropagation()}if(!n.containsFocus())switch(t.keyCode){case e.Key.Up:case e.Key.Down:s._lbx.focus();var r=n.selectedIndex+(t.keyCode==e.Key.Up?-1:1);n.selectedIndex=Math.max(0,r);t.preventDefault()}}),!0);s.hostElement.tabIndex=-1;s._lbx.tabOrder=s._orgTabIndex;return s}Object.defineProperty(MultiSelectListBox.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource=e},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){this._lbx.isContentHtml=e},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=e.asNumber(t,!1,!0)},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(t){if(t!=this.checkOnFilter){this._checkOnFilter=e.asBoolean(t);this.checkedItems=[]}},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){this._lbx.selectedIndex=e},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"showFilterInput",{get:function(){return""==this._filter.style.display},set:function(t){if(t!=this.showFilterInput){this._filter.style.display=e.asBoolean(t)?"":"none";if(!this.showFilterInput){this._filter.value="";this._applyFilter()}}},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(t){if(t!=this._filterPlaceholder){this._filterPlaceholder=e.asString(t);this.refresh()}},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(t){this._selectAll.style.display=e.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(t){if(t!=this._selectAllLabel){this._selectAllLabel=e.asString(t);this.refresh()}},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"checkedMemberPath",{get:function(){var e=this.listBox.checkedMemberPath;return e!=MultiSelectListBox._DEF_CHECKED_PATH?e:null},set:function(t){t=e.asString(t);this.listBox.checkedMemberPath=t||MultiSelectListBox._DEF_CHECKED_PATH},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelectListBox.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(t){this.listBox.checkedItems=e.asArray(t)},enumerable:!0,configurable:!0});MultiSelectListBox.prototype.onCheckedItemsChanged=function(e){this._updateCheckAllCheckbox();this.checkedItemsChanged.raise(this,e)};MultiSelectListBox.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)};MultiSelectListBox.prototype.refresh=function(t){void 0===t&&(t=!0);i.prototype.refresh.call(this,t);if(this.hostElement){var n=e.culture.MultiSelectListBox;this._filter.placeholder=null!=this._filterPlaceholder?this._filterPlaceholder:n.filterPlaceholder;this._spSelectAll&&e.setText(this._spSelectAll,null!=this._selectAllLabel?this._selectAllLabel:n.selectAll);this._updateCheckAllCheckbox()}};MultiSelectListBox.prototype.dispose=function(){this.listBox.dispose();i.prototype.dispose.call(this)};MultiSelectListBox.prototype._applyFilter=function(){var t=this,i=this._lbx,n=i.collectionView,o=this._filter.value,s=o?new RegExp(e.escapeRegExp(o),i.caseSensitiveSearch?"":"i"):null,r=this.displayMemberPath,a=r?new e.Binding(r):null,l=this.checkOnFilter?null:this.checkedItems;n.filter=function(i){if(null!=s){if(l&&l.indexOf(i)>-1)return!0;a&&(i=a.getValue(i));t.isContentHtml&&(i=e.toPlainText(i));return null!=i&&s.test(i.toString())}return!0};i.selectedIndex=Math.max(0,i.selectedIndex);this._checkOnFilter&&(this.checkedItems=s?n.items:[])};MultiSelectListBox.prototype._updateCheckAllCheckbox=function(){var t=this._lbx.collectionView,i=this._cbSelectAll;if(e.hasItems(t)){var n=t.items.length,o=this.checkedItems.length;e.setChecked(i,o==n||0!=o&&null);i.disabled=!1}else{e.setChecked(i,!1);i.checked=!1;i.disabled=!0}};MultiSelectListBox.prototype._setIsDisabled=function(e){i.prototype._setIsDisabled.call(this,e);this.hostElement.tabIndex=-1;this.isDisabled?this._lbx.tabOrder=-1:this._lbx.tabOrder=this._orgTabIndex};MultiSelectListBox.prototype._setTabOrder=function(e){this._orgTabIndex=e;this._lbx.tabOrder=e};MultiSelectListBox._DEF_CHECKED_PATH="$checked";MultiSelectListBox.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control" tabindex="-1"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>';return MultiSelectListBox}(e.Control);t.MultiSelectListBox=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";e._addCultureInfo("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}});var i,n;!function(e){e[e.None=0]="None";e[e.Day=1]="Day";e[e.Month=2]="Month";e[e.Range=3]="Range"}(i=t.DateSelectionMode||(t.DateSelectionMode={}));!function(e){e[e.None=0]="None";e[e.FirstMonth=1]="FirstMonth";e[e.LastMonth=2]="LastMonth";e[e.FirstAndLastMonths=3]="FirstAndLastMonths";e[e.AllMonths=4]="AllMonths";e[e.Outside=5]="Outside"}(n=t.ShowMonthPicker||(t.ShowMonthPicker={}));var o=function(o){__extends(Calendar,o);function Calendar(t,s){var r=o.call(this,t)||this;r._yrPicker=!0;r._mtPicker=n.FirstMonth;r._wksBefore=0;r._wksAfter=0;r._rngMin=0;r._rngMax=0;r._min=null;r._max=null;r._readOnly=!1;r._handleWheel=!0;r._fdw=null;r._selMode=i.Day;r._tmYrHidden=0;r._fmtYrMo="y";r._fmtYr="yyyy";r._fmtDayHdr="ddd";r._fmtDay="d ";r._fmtMonths="MMM";r.valueChanged=new e.Event;r.rangeEndChanged=new e.Event;r.rangeChanged=new e.Event;r.displayMonthChanged=new e.Event;r.formatItem=new e.Event((function(){r.invalidate()}));r._value=r._rngEnd=e.DateTime.newDate();r._month=r._getMonth(r._value);r._cals=[r];r._createChildren();r._createYearPicker();var a=r.hostElement,l=r.addEventListener.bind(r);l(a,"keydown",r._keydown.bind(r));l(a,"click",r._click.bind(r));r._rptUp=new e._ClickRepeater(r._btnPrv);r._rptDn=new e._ClickRepeater(r._btnNxt);r.addEventListener(a,"wheel",(function(e){if(r.handleWheel&&!e.defaultPrevented&&!r.isReadOnly&&r.containsFocus()){e.deltaY<0?r._btnPrv.click():r._btnNxt.click();e.preventDefault()}}));r.initialize(s);r.refresh(!0);return r}Object.defineProperty(Calendar.prototype,"value",{get:function(){return this._value},set:function(t){if(t!==this._value){this._clearingRangeEnd=!e.DateTime.equals(this._value,t);this.rangeEnd=null;this._clearingRangeEnd=!1;t=e.asDate(t,!0);t=this._clamp(t);if(this._valid(t)||null==t){this.ensureVisible(t||new Date);if(!e.DateTime.equals(this._value,t)){this._value=t;this.invalidate(!1);this.onValueChanged()}}if(!this.value){var i=this.min,n=this.max,o=this.displayMonth;n&&n<o?this.ensureVisible(n):i&&i>o&&this.ensureVisible(i)}}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(t){t=e.asDate(t,!0);if((t=this._clamp(t))&&this._value&&this._rngMode()){t<this._value&&(t=this._value);var i=this._rngMin,n=this._rngMax;if(i&&i>0||n&&n>0){var o=this._value,s=Math.ceil((t.getTime()-o.getTime())/864e5)+1;i&&i>0&&s<i&&(t=e.DateTime.addDays(o,i-1));n&&n>0&&s>n&&(t=e.DateTime.addDays(o,n-1))}}if((this._valid(t)||null==t)&&!e.DateTime.equals(this._rngEnd,t)){this._rngEnd=t;this.ensureVisible(t);this.invalidate(!1);this.onRangeEndChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(t){if((t=e.asNumber(t,!0,!0))!=this._rngMin){this._rngMin=t;this._syncProp(this,"rangeMin");this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd)}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(t){if((t=e.asNumber(t,!0,!0))!=this._rngMax){this._rngMax=t;this._syncProp(this,"rangeMax");this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd)}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"min",{get:function(){return this._min},set:function(t){if((t=e.asDate(t,!0))!=this.min){this._min=t;this._syncProp(this,"min");this.refresh();!this.value&&t&&t>this.displayMonth&&this.ensureVisible(t)}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"max",{get:function(){return this._max},set:function(t){if((t=e.asDate(t,!0))!=this.max){this._max=t;this._syncProp(this,"max");this.refresh();!this.value&&t&&t<this.displayMonth&&this.ensureVisible(t)}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"selectionMode",{get:function(){return this._selMode},set:function(t){var n=i;if((t=e.asEnum(t,n))!=this._selMode){this._selMode=t;this._mthMode()&&(this.monthView=!1);this._rngEnd=t==n.Range?this._value:null;this.refresh();this._syncProp(this,"selectionMode")}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=e.asBoolean(t);e.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly);this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=e.asBoolean(t);this._syncProp(this,"handleWheel")},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(t){this._rptUp.disabled=this._rptDn.disabled=!e.asBoolean(t);this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(t){if(t!=this._yrPicker){this._yrPicker=e.asBoolean(t);this._syncProp(this,"showYearPicker")}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(t){if(t!=this._mtPicker){var i=n;e.isBoolean(t)&&(t=t?i.FirstMonth:i.None);this._mtPicker=e.asEnum(t,i);e.toggleClass(this.hostElement,"wj-btns-outside",this._getShowMonthPicker()==i.Outside);this.refresh();this._syncProp(this,"showMonthPicker")}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw){if((t=e.asNumber(t,!0))&&(t>6||t<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=t;this.refresh();this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"displayMonth",{get:function(){return this._month},set:function(t){t=e.asDate(t);t=this._getMonth(t);var i=this._getDisplayMonthRange();i.to&&t>i.to&&(t=i.to);i.from&&t<i.from&&(t=i.from);if(!e.DateTime.equals(this.displayMonth,t)){this._month=t;this.invalidate(!0);this.onDisplayMonthChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"monthCount",{get:function(){var e=this.hostElement;return e?e.querySelectorAll(".wj-calendar").length+1:0},set:function(t){var i=this,n=this.hostElement;if(t!=this.monthCount&&n){var o=n.querySelectorAll(".wj-calendar");t=e.asInt(t,!1);e.assert(t>0,"monthCount must be >= 1.");e.assert(1==t||!e.closest(n.parentElement,".wj-calendar"),"Only top-level calendars can set monthCount.");for(var s=0;s<o.length;s++){var r=o[s];e.removeChild(r);this._getCalendar(r).dispose()}this._cals=[this];for(s=1;s<t;s++){(r=new Calendar(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(e,t){return i.onFormatItem(t)}}))._selMode=this._selMode;r._value=this._value;r._rngEnd=this._rngEnd;for(var a in this)if(!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(a)){var l=this[a];e.isFunction(l)||l instanceof e.Event||(r[a]=l)}this._cals.push(r);n.appendChild(r.hostElement)}e.toggleClass(n,"wj-calendar-multimonth",t>1);this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(t){if(t!=this._fmtYrMo){this._fmtYrMo=e.asString(t);this._syncProp(this,"formatYearMonth");this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(t){if(t!=this._fmtDayHdr){this._fmtDayHdr=e.asString(t);this._syncProp(this,"formatDayHeaders");this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(t){if(t!=this._fmtDay){this._fmtDay=e.asString(t);this._syncProp(this,"formatDays");this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(t){if(t!=this._fmtYr){this._fmtYr=e.asString(t);this._syncProp(this,"formatYear");this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(t){if(t!=this._fmtMonths){this._fmtMonths=e.asString(t);this._syncProp(this,"formatMonths");this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(t){if(t!=this.showHeader){this._tbHdr.style.display=e.asBoolean(t)?"":"none";this._syncProp(this,"showHeader")}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(t){if(t!=this.monthView){this._tbMth.style.display=t?"":"none";this._tbYr.style.display=t?"none":"";this.refresh();var i=e.culture.Calendar.ariaLabels;e.setAriaLabel(this._btnPrv,t?i.prvMo:i.prvYr);e.setAriaLabel(this._btnTdy,t?i.today:i.currMo);e.setAriaLabel(this._btnNxt,t?i.nxtMo:i.nxtYr);e.setAriaLabel(this._btnMth,t?i.monthView:i.yearView);this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(t){if(t!=this._wksBefore){this._wksBefore=Math.floor(e.asNumber(t,!1,!0));this._syncProp(this,"weeksBefore");this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(t){if(t!=this._wksAfter){this._wksAfter=Math.floor(e.asNumber(t,!1,!0));this._syncProp(this,"weeksAfter");this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){if(t!=this._itemFormatter){this._itemFormatter=e.asFunction(t);this._syncProp(this,"itemFormatter");this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(Calendar.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(t){if(t!=this._itemValidator){this._itemValidator=e.asFunction(t);this._syncProp(this,"itemValidator");this.invalidate()}},enumerable:!0,configurable:!0});Calendar.prototype.hitTest=function(t){var i=t instanceof MouseEvent?t.target:t instanceof Element?t:null;e.assert(null!=i,"MouseEvent or Element expected");return i?i[Calendar._DATE_KEY]:null};Calendar.prototype.ensureVisible=function(t){if(null!=t){var i=this._getCalendars(),n=i.indexOf(this),o=i[0],s=i[i.length-1];t<o.displayMonth?this.displayMonth=e.DateTime.addMonths(this._getMonth(t),n):t>s.displayMonth&&(this.displayMonth=e.DateTime.addMonths(this._getMonth(t),n-i.length+1))}};Calendar.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e);this._syncProp(this,"value")};Calendar.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e);this._syncProp(this,"rangeEnd");this._value&&this._rngEnd&&this.onRangeChanged(e)};Calendar.prototype.onRangeChanged=function(e){this.rangeChanged.raise(this,e)};Calendar.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e);this._syncProp(this,"displayMonth")};Calendar.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)};Calendar.prototype._containsFocusImpl=function(e){return o.prototype._containsFocusImpl.call(this,e)||this._lbYears._containsFocusImpl(e)};Calendar.prototype.dispose=function(){this._rptUp.element=null;this._rptDn.element=null;this._lbYears.dispose();o.prototype.dispose.call(this)};Calendar.prototype.refresh=function(t){void 0===t&&(t=!0);var i=this.hostElement,n=this.containsFocus();if(i){o.prototype.refresh.call(this,t);t&&this._updateContent();this._updateSelection();var s=this._getDisplayMonthRange(),r=this.displayMonth;e.enable(this._btnPrv,null==s.from||r>s.from);e.enable(this._btnNxt,null==s.to||r<s.to);if(n){var a=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||i;a&&a.focus()}var l=this._getCalendars();l.length>1&&this==l[0]&&l.forEach((function(e,i){i>0&&e.refresh(t)}))}};Calendar.prototype._getShowMonthPicker=function(){var e=n,t=this._getCalendars(),i=t.indexOf(this),o=this.showMonthPicker;switch(o){case e.FirstMonth:case e.Outside:return 0==i?o:0;case e.LastMonth:return i==t.length-1?o:0;case e.FirstAndLastMonths:return 0==i||i==t.length-1?o:0;case e.AllMonths:return o}return 0};Calendar.prototype._getDisplayMonthRange=function(){var t={from:null,to:null};if(this.min||this.max){var i=this._getCalendars(),n=i.indexOf(this),o=this._mthMode()?e.DateTime.addYears:e.DateTime.addMonths;this.min&&(t.from=o(this._getMonth(this.min),n));this.max&&(t.to=o(this._getMonth(this.max),n-i.length+1))}return t};Calendar.prototype._getCalendar=function(t){return e.Control.getControl(t)};Calendar.prototype._getCalendars=function(){var t=e.closest(this.hostElement,".wj-calendar-multimonth");return(t?this._getCalendar(t):this)._cals};Calendar.prototype._syncProp=function(t,i){var n=this;if(!this._syncing){var o=this._getCalendars();if(o&&o.length>1){var s=t[i],r=this._mthMode()?e.DateTime.addYears:e.DateTime.addMonths;"displayMonth"==i&&(s=r(s,-o.indexOf(t)));o[0].deferUpdate((function(){n._syncing=!0;o.forEach((function(e,o){if(e!=t){var a=e.displayMonth;e[i]="displayMonth"==i?r(s,o):s;if("value"==i){e.displayMonth=a;n._rngMode()&&(e.rangeEnd=null)}}}));n._syncing=!1}))}}};Calendar.prototype._updateContent=function(){var t=this.displayMonth,i=e.Globalize.format,n=e.DateTime,o=this._getShowMonthPicker();e.setText(this._spMth,i(t,this._fmtYrMo));var s=this._btnMth.querySelector(".wj-glyph-down");s&&(s.style.display=this._mthMode()||!o?"none":"");var r=e.closest(this._btnTdy,".wj-btn-group");r&&(r.style.display=o?"":"none");for(var a=null!=this._fdw?this._fdw:e.Globalize.getFirstDayOfWeek(),l=n.addDays(t,-(t.getDay()-a+7)%7),h=n.monthLast(t),u=this._tbMth.querySelectorAll("td"),c=0;c<7&&c<u.length;c++){var p=n.addDays(l,c);e.setText(u[c],i(p,this._fmtDayHdr))}var d=this._tbMth.querySelectorAll("tr");for(c=1;c<d.length;c++)e.removeChild(d[c]);var f=n.addDays(l,-7*this._wksBefore);for(c=0;c<this._wksBefore;c++)f=this._addWeek(f,"wj-week-before");for(;f<=h;)f=this._addWeek(f);for(c=0;c<this._wksAfter;c++)f=this._addWeek(f,"wj-week-after");(u=this._tbYr.querySelectorAll("td")).length&&e.setText(u[0],i(t,this._fmtYr));for(c=1;c<u.length;c++){f=n.newDate(t.getFullYear(),c-1,1);var _=u[c],m=!this._monthInValidRange(f);_[Calendar._DATE_KEY]=f;e.setText(_,i(f,this._fmtMonths));e.toggleClass(_,"wj-state-disabled",m);e.setAriaLabel(_,e.Globalize.format(f,"MMMM yyyy"))}};Calendar.prototype._updateSelection=function(){for(var t=Calendar._DATE_KEY,i=e.DateTime,n=this._tbMth.querySelectorAll("td"),o=7;o<n.length;o++){var s=(c=n[o])[t],r=this.value,a=this.rangeEnd,l=this._selMode&&null!=r&&i.sameDate(s,r),h=this._selMode&&null!=r&&i.sameDate(s,a),u=this._selMode&&null!=r&&s>r&&null!=a&&s<=a;e.toggleClass(c,"wj-state-selected",l);e.toggleClass(c,"wj-state-multi-selected",u);e.toggleClass(c,"wj-state-last-selected",h);e.setAttribute(c,"aria-selected",!!l||null);this._customizeCell(o,s,c)}n=this._tbYr.querySelectorAll("td");for(o=0;o<n.length;o++){var c;s=(c=n[o])[t],l=this._sameMonth(s,this.value);e.toggleClass(c,"wj-state-selected",l);e.setAttribute(c,"aria-selected",!!l||null)}};Calendar.prototype._addWeek=function(t,i){for(var n=this._createElement("tr",this._tbMth,i),o=e.DateTime,s=0;s<7;s++){var r=this._createElement("td",n),a=o.addDays(t,s);r[Calendar._DATE_KEY]=a;e.setText(r,e.Globalize.format(a,this._fmtDay));e.setAriaLabel(r,e.Globalize.format(a,"D"));var l=!this._valid(a),h=a.getDay(),u=a.getMonth()!=this.displayMonth.getMonth();e.toggleClass(r,"wj-day-today",o.sameDate(a,o.newDate()));e.toggleClass(r,"wj-day-weekend",0==h||6==h);e.toggleClass(r,"wj-day-othermonth",u||!this._inValidRange(a)||l);e.toggleClass(r,"wj-state-invalid",l)}return o.addDays(t,7)};Calendar.prototype._customizeCell=function(i,n,o){e.isFunction(this.itemFormatter)&&this.itemFormatter(n,o);if(this.formatItem.hasHandlers){var s=new t.FormatItemEventArgs(i,n,o);this.onFormatItem(s)}};Calendar.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=i.None};Calendar.prototype._valid=function(t){return!(!e.isDate(t)||!e.DateTime.sameDate(t,this._clamp(t)))&&(!e.isFunction(this.itemValidator)||this.itemValidator(t))};Calendar.prototype._inValidRange=function(t){var i=e.DateTime.fromDateTime;return!(this.min&&t<i(this.min,t))&&!(this.max&&t>i(this.max,t))};Calendar.prototype._monthInValidRange=function(t){if(this.min||this.max){var i=t.getFullYear(),n=t.getMonth(),o=e.DateTime,s=o.newDate(i,n,1),r=o.newDate(i,n+1,0);if(this.min&&this.min>r)return!1;if(this.max&&this.max<s)return!1}return!0};Calendar.prototype._sameMonth=function(t,i){return e.isDate(t)&&e.isDate(i)&&t.getMonth()==i.getMonth()&&t.getFullYear()==i.getFullYear()};Calendar.prototype._getValidDate=function(t,i){if(e.isDate(t))for(var n=t.getFullYear(),o=t.getMonth()+(i?0:1),s=i?1:0,r=e.DateTime,a=r.newDate(n,o,s),l=i?1:-1,h=0;h<31;h++){if(this._valid(a))return a;a=r.addDays(a,l)}return null};Calendar.prototype._clamp=function(t){if(t){var i=e.DateTime.fromDateTime;if(this.min){var n=i(this.min,t);t<n&&(t=n)}if(this.max){var o=i(this.max,t);t>o&&(t=o)}}return t};Calendar.prototype._createChildren=function(){var t=this.getTemplate();this.applyTemplate("wj-control wj-calendar",t,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"});this._tbYr.style.display="none";var i=e.culture.Calendar.ariaLabels;e.setAriaLabel(this._tbMth,i.calendar);e.setAriaLabel(this._tbYr,i.calendar);e.setAriaLabel(this._btnPrv,i.calendar);e.setAriaLabel(this._btnMth,i.monthView);e.setAriaLabel(this._btnPrv,i.prvMo);e.setAriaLabel(this._btnTdy,i.today);e.setAriaLabel(this._btnNxt,i.nxtMo);for(var n=this._createElement("tr",this._tbMth,"wj-header"),o=0;o<7;o++)this._createElement("td",n);n=this._createElement("tr",this._tbYr,"wj-header");this._createElement("td",n).setAttribute("colspan","4");for(var s=0;s<3;s++){n=this._createElement("tr",this._tbYr);for(var r=0;r<4;r++)this._createElement("td",n)}};Calendar.prototype._createYearPicker=function(){var i=this,n=this.hostElement,o=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");o.tabIndex=this._orgTabIndex;this._lbYears=new t.ListBox(o,{lostFocus:function(t){e.hidePopup(o);i._tmYrHidden=Date.now();i.removeEventListener(window,"touchstart");if(t.selectedIndex>-1){var n=e.DateTime.clone(i.displayMonth);n.setFullYear(t.selectedIndex+t.itemsSource[0]);i.displayMonth=n}}});this.addEventListener(o,"keydown",(function(t){switch(t.keyCode){case e.Key.Enter:n.focus();break;case e.Key.Escape:i._lbYears.selectedIndex=-1;n.focus()}t.defaultPrevented&&t.stopPropagation()}));this.addEventListener(o,"click",(function(e){n.focus()}))};Calendar.prototype._createElement=function(t,i,n){var o=document.createElement(t);n&&e.addClass(o,n);i&&i.appendChild(o);return o};Calendar.prototype._click=function(t){var i=this;if(!t.defaultPrevented&&0==t.button){var n=!1,o=t.target;if(e.contains(this._btnMth,o)&&!this._mthMode()&&this._getShowMonthPicker()){this.monthView=!this.monthView;n=!0}else if(e.contains(this._btnPrv,o)){this._navigate(-1);n=!0}else if(e.contains(this._btnNxt,o)){this._navigate(1);n=!0}else if(e.contains(this._btnTdy,o)){this._navigate(0);n=!0}if(o&&!n&&this._yrPicker&&e.contains(this._tbYr,o)&&e.closest(o,".wj-header")){if(Date.now()-this._tmYrHidden<600){t.preventDefault();return}for(var s=this.displayMonth.getFullYear(),r=this.min?this.min.getFullYear():s-100,a=this.max?this.max.getFullYear():s+100,l=[],h=r;h<=a;h++)l.push(h);var u=this._lbYears,c=u.hostElement,p=e.closest(o,".wj-header"),d=this.hostElement,f=e.closest(d,".wj-inputdate-dropdown")||d;u.itemsSource=l;u.selectedIndex=s-l[0];e.setAttribute(c,"dir",this.rightToLeft?"rtl":null);e.setCss(c,{minWidth:"",width:p.offsetWidth});e.showPopup(c,p,!1,!1,f);requestAnimationFrame((function(){u.showSelection(!0)}));this.addEventListener(window,"touchstart",(function(t){if(!e.contains(c,t.target)){e.hidePopup(c);i._tmYrHidden=Date.now();i.removeEventListener(window,"touchstart")}}));t.preventDefault();return}if(o&&!n){var _=e.closest(o,"td");if(_){var m=this.hitTest(_),g=e.DateTime.fromDateTime;if(this.monthView){if(m&&this._canChangeValue()){var b=g(m,this._value);this._inValidRange(b)&&this._valid(b)&&(this._rngMode()&&this.value&&!this.rangeEnd&&b>=this.value?this.rangeEnd=b:this.value=b);n=!0}}else if(m){this.displayMonth=m;if(this._mthMode()){if(this._canChangeValue()){b=g(this.displayMonth,this.value);this._inValidRange(b)&&(this.value=b)}}else this.monthView=!0;n=!0}}}if(n){t.preventDefault();this.focus()}}};Calendar.prototype._keydown=function(t){if(!t.defaultPrevented){if(t.altKey)switch(t.keyCode){case e.Key.Up:case e.Key.Down:return;case e.Key.End:this._navigate(0);t.preventDefault();return}if(!(t.ctrlKey||t.metaKey||t.shiftKey&&!this._rngMode())){var i=this._getKeyCode(t),n=0,o=0,s=!0;if(this.monthView)switch(i){case e.Key.Left:n=-1;break;case e.Key.Right:n=1;break;case e.Key.Up:n=-7;break;case e.Key.Down:n=7;break;case e.Key.PageDown:o=t.altKey?12:1;break;case e.Key.PageUp:o=t.altKey?-12:-1;break;case e.Key.Home:case e.Key.End:if(this._canChangeValue()&&!t.shiftKey){var r=this.value||this.displayMonth;if(l=this._getValidDate(r,i==e.Key.Home)){this.value=e.DateTime.fromDateTime(l,this.value);this._rngEnd=null}}break;default:s=!1}else switch(i){case e.Key.Left:o=-1;break;case e.Key.Right:o=1;break;case e.Key.Up:o=-4;break;case e.Key.Down:o=4;break;case e.Key.PageDown:o=t.altKey?120:12;break;case e.Key.PageUp:o=t.altKey?-120:-12;break;case e.Key.Home:o=this.value?-this.value.getMonth():0;break;case e.Key.End:o=this.value?11-this.value.getMonth():0;break;case e.Key.Enter:this._mthMode()?s=!1:this.monthView=!0;break;default:s=!1}if(this._canChangeValue()&&(n||o)){var a=t.shiftKey&&null!=this.rangeEnd?this.rangeEnd:this.value,l=e.DateTime;if(a){a=l.addDays(a,n);a=l.addMonths(a,o)}else a=this._getValidDate(new Date,!0);if(o&&!this._valid(a)){r=a.getMonth();for(var h=1;h<31&&!this._valid(a);h++){var u=l.addDays(a,+h),c=l.addDays(a,-h);this._valid(u)&&u.getMonth()==r?a=u:this._valid(c)&&c.getMonth()==r&&(a=c)}}for(h=0;h<31&&!this._valid(a);h++)a=l.addDays(a,n>0||o>0?1:-1);t.shiftKey&&a>this.value?this.rangeEnd=a:this.value=a}s&&t.preventDefault()}}};Calendar.prototype._getMonth=function(t){var i=e.DateTime;t=t||i.newDate();return i.newDate(t.getFullYear(),t.getMonth(),1)};Calendar.prototype._mthMode=function(){return this.selectionMode==i.Month};Calendar.prototype._rngMode=function(){return this.selectionMode==i.Range};Calendar.prototype._navigate=function(t){var i=this.monthView,n=this.displayMonth,o=e.DateTime;switch(t){case 0:var s=o.newDate();this._canChangeValue()&&(this.value=i?o.fromDateTime(s,this.value):this._getMonth(s));n=this._getMonth(s);break;case 1:n=o.addMonths(n,i?1:12);break;case-1:n=o.addMonths(n,i?-1:-12)}this.displayMonth=n};Calendar.prototype._setTabOrder=function(e){o.prototype._setTabOrder.call(this,e);this._lbYears.tabOrder=this._orgTabIndex};Calendar._DATE_KEY="$WJ-DATE";Calendar.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>';return Calendar}(e.Control);t.Calendar=o}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";e._addCultureInfo("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}});var i;!function(e){e[e.Select=0]="Select";e[e.Open=1]="Open";e[e.Toggle=2]="Toggle"}(i=t.ClickAction||(t.ClickAction={}));var n=function(t){__extends(DropDown,t);function DropDown(n,o){var s=t.call(this,n)||this;s._clickAction=i.Select;s._showBtn=!0;s._autoExpand=!0;s._animate=!1;s._oldText="";s.textChanged=new e.Event;s.isDroppedDownChanging=new e.Event;s.isDroppedDownChanged=new e.Event;var r=s.getTemplate();s.applyTemplate("wj-control wj-content wj-dropdown",r,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input");s._dropDown.style.display="none";var a=e.culture.DropDown.ariaLabels;e.setAriaLabel(s._btn.querySelector("button"),a.tgl);var l=s._elRef=s._tbx;e.disableAutoComplete(l);s._createDropDown();s._updateBtn();var h=s.hostElement;e.addClass(h,"wj-state-collapsed");s.addEventListener(window,"resize",(function(){s.isDroppedDown&&s.invalidate()}));var u=s.dropDown,c=s.addEventListener.bind(s),p=s._updateFocusState.bind(s);c(u,"blur",p,!0);c(u,"focus",p);var d=s._keydown.bind(s);c(h,"keydown",d);c(u,"keydown",d);var f=s._keypress.bind(s);c(h,"keypress",f,!0);c(u,"keypress",f,!0);c(l,"input",(function(){s._setText(s.text,!1)}));c(l,"blur",(function(){s._commitText(!0)}),!0);c(l,"click",(function(){s._autoExpand&&s._expandSelection()}));c(l,"mousedown",(function(e){switch(s._clickAction){case i.Open:if(!s.isDroppedDown){e.preventDefault();s.focus();s.isDroppedDown=!0}break;case i.Toggle:e.preventDefault();s.focus();s.isDroppedDown=!s.isDroppedDown}}));c(s._btn,"mousedown",(function(e){s._btnclick(e)}));e.removeChild(u);e.isIE()&&s._elRef==s._tbx&&c(h,"mouseup",(function(t){if(!t.defaultPrevented&&0==t.button&&e.hasClass(t.target,"wj-btn")){var i=e.getActiveElement();i&&i!=t.target&&setTimeout((function(){i.focus()}))}}));e.isIE9()&&c(l,"keyup",(function(){s._setText(s.text,!1)}));c(u,"click",s._dropDownClick.bind(s));return s}Object.defineProperty(DropDown.prototype,"text",{get:function(){return this._tbx.value},set:function(e){if(e!=this.text){this._setText(e,!0);this._commitText()}},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(t){this._tbx.readOnly=e.asBoolean(t);e.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(t){this._tbx.required=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"clickAction",{get:function(){return this._clickAction},set:function(t){this._clickAction=e.asEnum(t,i)},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"isDroppedDown",{get:function(){var e=this._dropDown;return e&&"none"!=e.style.display},set:function(t){var i=this,n=this.hostElement,o=this._dropDown,s=this.containsFocus();if(n&&o&&(t=e.asBoolean(t)&&!this.isDisabled&&!this.isReadOnly&&n.offsetWidth>0)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new e.CancelEventArgs)){if(t){this._minWidthDropdown=o.style.minWidth;o.style.display="";this._updateDropDown();this.addEventListener(window,"touchstart",(function(t){for(var o=t.target;o;){if(o==n)return;o=o[e.Control._OWNR_KEY]||o.parentNode}e.Control._touching=!0;i.isDroppedDown=!1;e.Control._touching=!1}))}else{this.removeEventListener(window,"touchstart");e.hidePopup(o);o.style.minWidth=this._minWidthDropdown}s&&(this.isTouching&&this.showDropDownButton?n.focus():this.selectAll());this._updateFocusState();e.toggleClass(n,"wj-state-collapsed",!this.isDroppedDown);this.onIsDroppedDownChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(t){if(t!=this._cssClass){e.removeClass(this._dropDown,this._cssClass);this._cssClass=e.asString(t);e.addClass(this._dropDown,this._cssClass)}},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=e.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(t){this._autoExpand=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(DropDown.prototype,"isAnimated",{get:function(){return this._animate},set:function(t){this._animate=e.asBoolean(t)},enumerable:!0,configurable:!0});DropDown.prototype.selectAll=function(){var t=this._tbx;this._elRef==t&&e.setSelectionRange(t,0,this.text.length);this.containsFocus()||this.focus()};DropDown.prototype.onTextChanged=function(e){this.textChanged.raise(this,e);this._updateState()};DropDown.prototype.onIsDroppedDownChanging=function(e){this.isDroppedDownChanging.raise(this,e);return!e.cancel};DropDown.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)};DropDown.prototype.onGotFocus=function(i){this.isTouching||e.contains(this._dropDown,e.getActiveElement())||this.selectAll();t.prototype.onGotFocus.call(this,i)};DropDown.prototype.onLostFocus=function(e){this._commitText();this.isDroppedDown=!1;t.prototype.onLostFocus.call(this,e)};DropDown.prototype._containsFocusImpl=function(i){return t.prototype._containsFocusImpl.call(this,i)||this.isDroppedDown&&e.contains(this._dropDown,i)};DropDown.prototype.dispose=function(){this.isDroppedDown=!1;var i=this._dropDown;if(i){this._dropDown=null;e.removeChild(i);var n=e.Control.getControl(i);n&&n.dispose()}t.prototype.dispose.call(this)};DropDown.prototype.refresh=function(i){void 0===i&&(i=!0);t.prototype.refresh.call(this,i);var n=this.hostElement;if(n&&n.offsetHeight&&this.isDroppedDown){var o=e.getActiveElement();this.isAnimated&&""!=this._dropDown.style.opacity||e.showPopup(this._dropDown,n,!1,!1,null==this.dropDownCssClass);o instanceof HTMLElement&&o!=e.getActiveElement()&&o.focus()}};DropDown.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()};DropDown.prototype._dropDownClick=function(e){e.stopPropagation()};DropDown.prototype._expandSelection=function(){var t=this._tbx,i=t.value,n=t.selectionStart,o=t.selectionEnd;if(i&&n==o){var s=this._getCharType(i,n);if(s>-1){for(;o<i.length&&this._getCharType(i,o)==s;o++);for(;n>0&&this._getCharType(i,n-1)==s;n--);n!=o&&e.setSelectionRange(t,n,o)}}};DropDown.prototype._getCharType=function(e,t){var i=e[t];return i>="0"&&i<="9"?0:i>="a"&&i<="z"||i>="A"&&i<="Z"?1:-1};DropDown.prototype._keydown=function(t){if(!t.defaultPrevented&&!this._isHiddenEditor()){switch(t.keyCode){case e.Key.Tab:case e.Key.Escape:case e.Key.Enter:if(this.isDroppedDown){this.isDroppedDown=!1;t.keyCode==e.Key.Tab||this.containsFocus()||this.focus();t.preventDefault()}break;case e.Key.F4:case e.Key.Up:case e.Key.Down:if(t.keyCode==e.Key.F4||t.altKey){var i=this.hostElement;if(i&&i.offsetHeight){this.isDroppedDown=!this.isDroppedDown;t.preventDefault()}}}if(!t.defaultPrevented&&t.keyCode==e.Key.Escape&&e.isIE()){var n=this._tbx;if(t.target==n){var o=n.value;n.value=o+" ";n.value=o}}}};DropDown.prototype._isHiddenEditor=function(){return e.hasClass(this._tbx,"wj-grid-ime")};DropDown.prototype._keypress=function(e){"AltLeft"!=e.code&&"AltRight"!=e.code||e.preventDefault()};DropDown.prototype._btnclick=function(e){if(!e.defaultPrevented&&0==e.button){e.preventDefault();this.isTouching?this._containsFocus()||this.hostElement.focus():this.focus();this.isDroppedDown=!this.isDroppedDown}};DropDown.prototype._setText=function(e,t){(e=(e||"").toString())!=this._tbx.value&&(this._tbx.value=e);if(e!=this._oldText){this._oldText=e;this.onTextChanged()}this._updateState()};DropDown.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"};DropDown.prototype._createDropDown=function(){};DropDown.prototype._commitText=function(e){};DropDown.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var t=this.dropDown;e.setAttribute(t,"dir",this.rightToLeft?"rtl":null);e.showPopup(t,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}};DropDown.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>';return DropDown}(e.Control);t.DropDown=n}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i,n;!function(e){e[e.None=0]="None";e[e.ClickOwner=1]="ClickOwner";e[e.ClickPopup=2]="ClickPopup";e[e.Click=3]="Click";e[e.BlurOwner=4]="BlurOwner";e[e.BlurPopup=8]="BlurPopup";e[e.Blur=12]="Blur";e[e.ClickOrBlur=15]="ClickOrBlur";e[e.DownOwner=16]="DownOwner";e[e.DownPopup=32]="DownPopup";e[e.Down=48]="Down";e[e.EnterOwner=64]="EnterOwner";e[e.EnterPopup=128]="EnterPopup";e[e.Enter=192]="Enter";e[e.LeaveOwner=256]="LeaveOwner";e[e.LeavePopup=512]="LeavePopup";e[e.Leave=768]="Leave"}(i=t.PopupTrigger||(t.PopupTrigger={}));!function(e){e[e.None=0]="None";e[e.Left=1]="Left";e[e.Top=2]="Top";e[e.Right=4]="Right";e[e.Bottom=8]="Bottom";e[e.LeftTop=3]="LeftTop";e[e.RightTop=6]="RightTop";e[e.RightBottom=12]="RightBottom";e[e.LeftBottom=9]="LeftBottom"}(n||(n={}));var o=function(o){__extends(Popup,o);function Popup(t,n){var s=o.call(this,t)||this;s._owner=null;s._modal=!1;s._position=e.PopupPosition.BelowLeft;s._showTrigger=i.ClickOwner;s._hideTrigger=i.Blur;s._hideAnim=[];s._fadeIn=!0;s._fadeOut=!0;s._removeOnHide=!0;s._draggable=!1;s._resizable=!1;s._result=null;s._resultEnter=null;s._resultSubmit=null;s._callback=null;s._visible=!1;s._ownerClickBnd=s._ownerClick.bind(s);s._ownerDownBnd=s._ownerDown.bind(s);s._ownerBlurBnd=s._ownerBlur.bind(s);s._ownerEnterBnd=s._ownerEnter.bind(s);s._ownerLeaveBnd=s._ownerLeave.bind(s);s._mousedownBnd=s._mousedown.bind(s);s._mousemoveBnd=s._mousemove.bind(s);s._mousedragBnd=s._mousedrag.bind(s);s._mouseupBnd=s._mouseup.bind(s);s._hideBnd=s.hide.bind(s);s._lastShow=0;s.showing=new e.Event;s.shown=new e.Event;s.hiding=new e.Event;s.hidden=new e.Event;s.resizing=new e.Event;s.resized=new e.Event;s.dragging=new e.Event;s.dragged=new e.Event;s.sizeChanging=new e.Event;s.sizeChanged=new e.Event;s.positionChanging=new e.Event;s.positionChanged=new e.Event;var r=s.hostElement;e.addClass(r,"wj-control wj-content wj-popup");r.getAttribute("tabindex")||(r.tabIndex=0);e.hidePopup(r,!1);var a=s.addEventListener.bind(s);a(r,"compositionstart",(function(){s._composing=!0}));a(r,"compositionend",(function(){s._composing=!1}));a(window,"resize",(function(){!s.isVisible||s._dragged||s.isTouching||s.invalidate()}));a(r,"keydown",(function(t){if(!t.defaultPrevented){if(t.keyCode==e.Key.Escape&&!s._composing){t.preventDefault();s.hide()}if(t.keyCode==e.Key.Enter&&!s._composing){var i=s.dialogResultEnter;if(i){t.preventDefault();s._validateAndHide(i)}}if(t.keyCode==e.Key.Tab&&s.modal){t.preventDefault();e.moveFocus(r,t.shiftKey?-1:1)}}}));a(r,"click",(function(e){var t=e.target;if(t instanceof HTMLElement){if(t instanceof HTMLButtonElement&&"submit"==t.type){var i=s.hostElement,n=s.dialogResultSubmit;if(i instanceof HTMLFormElement&&n&&i.reportValidity()){e.preventDefault();s.hide(n)}}var o=t.className.match(/\bwj-hide[\S]*\b/);if(o&&o.length>0){e.preventDefault();e.stopPropagation();s.hide(o[0])}}}));var l=s._toggle.bind(s),h=i;s.addEventListener(r,"click",(function(e){s._ignoreClick||l(e,h.ClickPopup)}),!0);s.addEventListener(r,"mousedown",(function(e){s._ignoreClick=!1;l(e,h.DownPopup)}),!0);s.addEventListener(r,"mouseenter",(function(e){e.target==r&&l(e,h.EnterPopup)}),!0);s.addEventListener(r,"mouseleave",(function(e){e.target==r&&l(e,h.LeavePopup)}),!0);s.addEventListener(r,"blur",(function(e){s.containsFocus()||l(e,h.BlurPopup)}),!0);a(document,"wheel",(function(e){if(s.isVisible&&s._modal){for(var t=e.target;t&&t!=document.body;t=t.parentElement)if(t.scrollHeight>t.clientHeight)return;e.preventDefault()}}));s.initialize(n);return s}Object.defineProperty(Popup.prototype,"owner",{get:function(){return this._owner},set:function(t){var i=this._owner;if(i){this.removeEventListener(i,"click");this.removeEventListener(i,"mousedown");this.removeEventListener(i,"mouseenter");this.removeEventListener(i,"mouseleave");this.removeEventListener(i,"blur")}if(i=this._owner=null!=t?e.getElement(t):null){this.addEventListener(i,"click",this._ownerClickBnd,!0);this.addEventListener(i,"mousedown",this._ownerDownBnd,!0);this.addEventListener(i,"mouseenter",this._ownerEnterBnd,!0);this.addEventListener(i,"mouseleave",this._ownerLeaveBnd,!0);this.addEventListener(i,"blur",this._ownerBlurBnd,!0)}},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"position",{get:function(){return this._position},set:function(t){this._position=e.asEnum(t,e.PopupPosition)},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(e){if(e!=this.content){this.hostElement.innerHTML="";e instanceof HTMLElement&&this.hostElement.appendChild(e)}},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(t){this._showTrigger=e.asEnum(t,i)},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(t){this._hideTrigger=e.asEnum(t,i)},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(t){if((t=e.asBoolean(t))!=this.removeOnHide){this._removeOnHide=t;if(!this.isVisible){var i=this.hostElement;if(t)e.removeChild(i);else if(i&&document.body){i.style.display="none";document.body.appendChild(i)}}}},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"modal",{get:function(){return this._modal},set:function(t){this._modal=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"isDraggable",{get:function(){return this._draggable},set:function(t){this._draggable=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"isResizable",{get:function(){return this._resizable},set:function(t){this._resizable=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"dialogResult",{get:function(){return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(e){this._resultEnter=e},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(t){this._resultSubmit=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(Popup.prototype,"isVisible",{get:function(){var e=this.hostElement;return this._visible&&null!=e&&e.offsetHeight>0},enumerable:!0,configurable:!0});Popup.prototype.show=function(t,n){var o=this;this._lastShow=Date.now();if(!this.isVisible){var s=this.hostElement;this.dialogResult=null;this._callback=null;this._oldFocus=null;this._myFocus=null;this._hideAnim.forEach((function(e){clearInterval(e)}));this._hideAnim.length=0;var r=new e.CancelEventArgs;if(this.onShowing(r)){null!=t&&(this.modal=e.asBoolean(t));null!=n&&(this._callback=e.asFunction(n));this._oldFocus=e.getActiveElement();e.showPopup(s,this._owner,this._position,this._fadeIn,!1,this._hideBnd);this._modal&&this._showBackdrop();this._composing=!1;this._visible=!0;this.onShown(r);this._clearTimeouts();if(this.modal){this.addEventListener(window,"focus",(function(){if(!o.containsFocus()){var t=o._myFocus;t&&t.offsetHeight?t.focus():e.moveFocus(s,0)}}));this.addEventListener(s,"focusin",(function(){var t=e.getActiveElement();t&&e.contains(s,t)&&(t.tabIndex>-1||!o._myFocus)&&(o._myFocus=t)}))}this._resized=this._dragged=this._ignoreClick=!1;this._handleDragResize(!0);this.addEventListener(window,"touchstart",(function(t){o._hideTrigger&i.Blur&&!e.contains(s,t.target,!0)&&o.hide()}));setTimeout((function(){o.addEventListener(window,"click",(function(t){o._hideTrigger&i.BlurPopup&&o.isDisabled&&!e.contains(s,t.target,!0)&&o.hide()}))}));setTimeout((function(){if(!o.isDisabled&&!o.containsFocus()&&!o.isTouching){var t=s.querySelector("[autofocus]");if(t&&t.clientHeight>0&&!t.disabled&&t.tabIndex>-1&&!e.closest(t,"[disabled],.wj-state-disabled")){t.focus();e.isFunction(t.select)&&t.select()}else e.moveFocus(s,0)}if(!o.isDisabled&&!o.containsFocus()){s.tabIndex=0;s.focus()}}),100)}}};Popup.prototype.hide=function(n){var o=this;this._handleDragResize(!1);this.removeEventListener(window,"touchstart");this.removeEventListener(window,"click");if(this.isVisible){e.isUndefined(n)||(this.dialogResult=n);var s=new e.CancelEventArgs,r=this.hostElement;if(this.onHiding(s)){for(var a=this.containsFocus()?this._oldFocus:null,l=r.querySelectorAll(".wj-control.wj-dropdown"),h=0;h<l.length;h++){var u=e.Control.getControl(l[h]);u instanceof t.DropDown&&(u.isDroppedDown=!1)}var c=this.removeOnHide,p=this.fadeOut;this._bkDrop&&this._hideAnim.push(e.hidePopup(this._bkDrop,c,p));this._hideAnim.push(e.hidePopup(r,c,p));this._visible=!1;this._oldFocus=null;this._myFocus=null;this.removeEventListener(window,"focus");this.removeEventListener(r,"focusin");this.containsFocus()&&e.getActiveElement().blur();setTimeout((function(){o._updateState();o.onHidden(s);o._callback&&o._callback(o);if(o.hideTrigger&i.LeavePopup){var t=e.Control.getControl(e.closest(o.owner,".wj-popup"));if(t instanceof Popup&&0!=(t.hideTrigger&i.Leave)){var n=Popup._evtHover,r=n?document.elementFromPoint(n.clientX,n.clientY):null,a=e.Control.getControl(e.closest(r,".wj-popup"));a instanceof Popup&&!a.isVisible&&(r=null);r&&e.contains(t.hostElement,r,!0)||t.hide()}}}));this._clearTimeouts();!this.isVisible&&a&&a.offsetHeight&&a.focus()}}};Popup.prototype.onShowing=function(e){this.showing.raise(this,e);return!e.cancel};Popup.prototype.onShown=function(e){this.shown.raise(this,e)};Popup.prototype.onHiding=function(e){this.hiding.raise(this,e);return!e.cancel};Popup.prototype.onHidden=function(e){this._wasVisible=!1;this.hidden.raise(this,e)};Popup.prototype.onResizing=function(e){this.resizing.raise(this,e);return!e.cancel};Popup.prototype.onResized=function(e){this.resized.raise(this,e)};Popup.prototype.onDragging=function(e){this.dragging.raise(this,e);return!e.cancel};Popup.prototype.onDragged=function(e){this.dragged.raise(this,e)};Popup.prototype.onSizeChanging=function(e){this.sizeChanging.raise(this,e);return!e.cancel};Popup.prototype.onSizeChanged=function(e){this.sizeChanged.raise(this,e)};Popup.prototype.onPositionChanging=function(e){this.positionChanging.raise(this,e);return!e.cancel};Popup.prototype.onPositionChanged=function(e){this.positionChanged.raise(this,e)};Popup.prototype.onLostFocus=function(e){o.prototype.onLostFocus.call(this,e);if(this._hideTrigger&i.BlurPopup&&!this.containsFocus()){var t=document.createEvent("Event");t.initEvent("blur",!0,!0);this._toggle(t,i.BlurPopup)}};Popup.prototype.dispose=function(){this.owner=null;o.prototype.dispose.call(this)};Popup.prototype.refresh=function(i){void 0===i&&(i=!0);var n=this.hostElement;o.prototype.refresh.call(this,i);if(this.isVisible&&!this._refreshing&&n){this._refreshing=!0;for(var s=e.getActiveElement(),r=this._owner?this._owner.getBoundingClientRect():null,a=[],l=n.querySelectorAll(".wj-dropdown"),h=0;h<l.length;h++){var u=e.Control.getControl(l[h]);if(u instanceof t.DropDown&&u.isDroppedDown){a.push(u);u.dropDown.style.display="none"}}e.showPopup(n,r,this._position);a.forEach((function(e){e.dropDown.style.display="";e._updateDropDown()}));this._modal&&s instanceof HTMLElement&&s!=e.getActiveElement()&&s.focus();this._refreshing=!1}};Popup.prototype._clearTimeouts=function(){if(this._toShow){clearTimeout(this._toShow);this._toShow=null}if(this._toHideLeave){clearTimeout(this._toHideLeave);this._toHideLeave=null}if(this._toHideBlur){clearTimeout(this._toHideBlur);this._toHideBlur=null}};Popup.prototype._handleDragResize=function(e){var t=this.hostElement,i=this._draggable?this._getHeaderElement():null,n=this.addEventListener.bind(this),o=this.removeEventListener.bind(this),s=this._mousemoveBnd,r=this._mousedownBnd;if(e){n(t,"mousemove",s);n(t,"mousedown",r);n(t,"touchstart",r);i&&(i.style.touchAction="none")}else{this._mousedownEvt=null;this._rcBounds=null;o(t,"mousemove",s);o(t,"mousedown",r);o(t,"touchstart",r);o(document,"mousemove",this._mousedragBnd);o(document,"mouseup",this._mouseupBnd);i&&(i.style.touchAction="")}};Popup.prototype._mousemove=function(e){if(!this._mousedownEvt){var t=this.hostElement,i=this._getEdges(t,e),o="",s=n;this._edges=i;this._resizable&&(i==s.LeftTop||i==s.RightBottom?o="nwse-resize":i==s.LeftBottom||i==s.RightTop?o="nesw-resize":i==s.Left||i==s.Right?o="ew-resize":i!=s.Top&&i!=s.Bottom||(o="ns-resize"));this._draggable&&!o&&this._getClosestHeader(e.target)&&(o="move");t.style.cursor=o}};Popup.prototype._mousedown=function(t){if(!t.defaultPrevented){var i=t.touches&&t.touches.length>0?t.touches[0]:t;this._edges=this._getEdges(this.hostElement,i);if(this._edges||this._draggable&&this._getClosestHeader(t.target)){var n=new e.CancelEventArgs;if(this._edges?this.onResizing(n):this.onDragging(n)){this._mousedownEvt=i;this._rcBounds=this.hostElement.getBoundingClientRect();var o=this.addEventListener.bind(this),s=document,r=this._mousedragBnd,a=this._mouseupBnd;o(s,"mousemove",r);o(s,"touchmove",r);o(s,"mouseup",a);o(s,"touchend",a)}}this._ignoreClick=!1}};Popup.prototype._mouseup=function(){this._mousedownEvt=null;this._rcBounds=null;var e=this.removeEventListener.bind(this),t=document,i=this._mousedragBnd,n=this._mouseupBnd;e(t,"mousemove",i);e(t,"touchmove",i);e(t,"mouseup",n);e(t,"touchend",n);this._resized?this.onResized():this._dragged&&this.onDragged();this._resized=this._dragged=this._ignoreClick=!1};Popup.prototype._mousedrag=function(t){if(!t.defaultPrevented){var i=this.hostElement,o=this._mousedownEvt,r=t.touches&&t.touches.length>0?t.touches[0]:t,a=r.clientX-o.clientX,l=r.clientY-o.clientY,h=this._rcBounds,u=this._edges,c=Popup._SZ_MIN,p=e.Rect.fromBoundingRect(h);if(u){if(u&n.Left){p.left=h.left+a+(r.pageX-r.clientX);p.width=Math.max(h.width-a,c)}else if(u&n.Right){p.left=h.left;p.width=Math.max(h.width+a,c)}if(u&n.Top){p.top=h.top+l+(r.pageY-r.clientY);p.height=Math.max(h.height-l,c)}else if(u&n.Bottom){p.top=h.top;p.height=Math.max(h.height+l,c)}if(this.onSizeChanging(new s(p))){e.setCss(i,{left:p.left,top:p.top,width:p.width,height:p.height});this._resized=this._dragged=this._ignoreClick=!0;this.onSizeChanged()}if(!window.ResizeObserver)for(var d=this.hostElement.children,f=0;f<d.length;f++)e.Control.invalidateAll(d[f])}else if(this._draggable&&(this._dragged||Math.abs(a)+Math.abs(l)>Popup._DRAG_THRESHOLD)){p.left=Math.max(h.left+a+(r.pageX-r.clientX),50-h.width);p.top=Math.max(h.top+l+(r.pageY-r.clientY),0);if(this.onPositionChanging(new s(p))){e.setCss(i,{left:p.left,top:p.top});this._dragged=this._ignoreClick=!0;this.onPositionChanged()}}}};Popup.prototype._getEdges=function(e,t){var i=0;if(this._resizable){var o=e.getBoundingClientRect(),s=Popup._SZ_EDGE;t.clientX-o.left<s&&(i|=n.Left);t.clientY-o.top<s&&(i|=n.Top);o.right-t.clientX<s&&(i|=n.Right);o.bottom-t.clientY<s&&(i|=n.Bottom)}return i};Popup.prototype._ownerClick=function(e){this._toggle(e,i.ClickOwner)};Popup.prototype._ownerDown=function(e){this._wasVisible=this.isVisible;this._toggle(e,i.DownOwner)};Popup.prototype._ownerBlur=function(t){e.contains(this._owner,e.getActiveElement())||this._toggle(t,i.BlurOwner)};Popup.prototype._ownerEnter=function(e){e.target==this._owner&&this._toggle(e,i.EnterOwner)};Popup.prototype._ownerLeave=function(e){e.target==this._owner&&this._toggle(e,i.LeaveOwner)};Popup.prototype._toggle=function(t,n){var o=this;t instanceof MouseEvent&&(Popup._evtHover=t);if(!("mouseenter"==t.type&&Date.now()-this._lastShow<300||t.defaultPrevented)){var s=0!=(this._hideTrigger&n),r=0!=(this._showTrigger&n),a=i;(s||r)&&this._clearTimeouts();s&&this.isVisible&&(n&a.Leave?this._toHideLeave=setTimeout((function(){var t=Popup._evtHover,i=t?document.elementFromPoint(t.clientX,t.clientY):null;i&&e.contains(o.hostElement,i,!0)||o.hide()}),e.Control._LEAVE_DELAY):n&a.Blur?this._toHideBlur=setTimeout((function(){o.containsFocus()||e.contains(o._owner,e.getActiveElement())||o.hide()}),e.Control._FOCUS_INTERVAL+50):this.hide());r&&n!=a.ClickPopup&&(this._wasVisible||(n&a.Enter?this._toShow=setTimeout((function(){o.show()}),e.Control._HOVER_DELAY):this.show()))}};Popup.prototype._getHeaderElement=function(){var e=this.hostElement;return e.querySelector(".wj-dialog-header")||e.querySelector(".modal-header")};Popup.prototype._getClosestHeader=function(t){return e.closest(t,".wj-dialog-header")||e.closest(t,".modal-header")};Popup.prototype._showBackdrop=function(){var t=this;if(!this._bkDrop){this._bkDrop=document.createElement("div");this._bkDrop.tabIndex=-1;e.addClass(this._bkDrop,"wj-popup-backdrop");this.addEventListener(this._bkDrop,"mousedown",(function(e){e.preventDefault();e.stopPropagation();t.hostElement.focus();t.hideTrigger&i.Blur&&t.hide()}))}e.setCss(this._bkDrop,{zIndex:e.Control._POPUP_ZINDEX,display:""});var n=this.hostElement;n.parentElement.insertBefore(this._bkDrop,n)};Popup.prototype._validateAndHide=function(e){var t=this.hostElement;if(t instanceof HTMLFormElement)t.reportValidity()&&this.hide(e);else{var i=this.hostElement.querySelector(":invalid");i?i.focus():this.hide(e)}};Popup._DRAG_THRESHOLD=6;Popup._SZ_EDGE=10;Popup._SZ_MIN=40;return Popup}(e.Control);t.Popup=o;var s=function(e){__extends(PopupBoundsChangingEventArgs,e);function PopupBoundsChangingEventArgs(t){var i=e.call(this)||this;i._rc=t;return i}Object.defineProperty(PopupBoundsChangingEventArgs.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0});return PopupBoundsChangingEventArgs}(e.CancelEventArgs);t.PopupBoundsChangingEventArgs=s}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(i){__extends(InputDate,i);function InputDate(n,o){var s=i.call(this,n)||this;s._fmt="d";s._sep=" - ";s._rngs=null;s._showCal=!1;s._clsOnSel=!0;s._handleWheel=!0;s._clicked=!1;s._rangeChanged=!1;s.valueChanged=new e.Event;s.rangeEndChanged=new e.Event;s.rangeChanged=new e.Event;e.addClass(s.hostElement,"wj-inputdate");s._msk=new e._MaskProvider(s._tbx);e.isIE9()||(s.inputType="tel");s._tbx.type.match(/^(tel|text|)$/i)||(s.inputType="text");s.addEventListener(s.hostElement,"wheel",(function(i){if(s.handleWheel&&!i.defaultPrevented&&!s.isDroppedDown&&s.containsFocus()&&null!=s.value&&s._canChangeValue()){var n=e.clamp(-i.deltaY,-1,1),o=s.value;s.value=s.selectionMode==t.DateSelectionMode.Month?e.DateTime.addMonths(o,n):e.DateTime.addDays(o,n);s.selectAll();i.preventDefault()}}));var r=s._lbx=new t.ListBox(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(t){var i=t.selectedItem,n=e.DateTime.fromDateTime;if(i&&i.from&&i.to){var o=s.value;s.value=n(i.from,o);s.rangeEnd=n(i.to,o);s._selectAll()}else s._cal.hostElement.style.display=""}}),a=s._cal=new t.Calendar(document.createElement("div")),l=s._dropDown;e.addClass(l,"wj-inputdate-dropdown");l.appendChild(r.hostElement);l.appendChild(a.hostElement);s.addEventListener(l,"click",(function(){s._clicked=!0;setTimeout((function(){s._clicked=!1}),50)}),!0);if("INPUT"==s._orgTag){var h=s._tbx.getAttribute("value");h&&(a.value=a.rangeEnd=e.Globalize.parseDate(h,"yyyy-MM-dd"))}s.isRequired=!0;s.initialize(o);s._tbx.value=s._oldText=s._getText();s._updateState();a.valueChanged.addHandler((function(e,t){s._refreshText();s.onValueChanged(t);s._closeOnChange()}));a.rangeEndChanged.addHandler((function(e,t){if(a._rngMode()){s.onRangeEndChanged(t);s._closeOnChange();a._clearingRangeEnd||s._refreshText()}}));a.hostElement.addEventListener("click",(function(t){if(a.selectionMode&&!a._rngMode()){var i=t.target,n=a.hitTest(i);(e.DateTime.sameDate(s.value,n)||e.closest(i,"[wj-part=btn-today]"))&&s._closeOnChange()}}));return s}Object.defineProperty(InputDate.prototype,"value",{get:function(){return this._cal.value},set:function(e){this._cal.value=e;this._refreshText()},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(e){this._cal.rangeEnd=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(e){this._cal.rangeMin=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(e){this._cal.rangeMax=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"text",{get:function(){return this._tbx.value},set:function(e){if(e!=this.text){var t=e;(t=(t||"").toString())!=this._tbx.value&&(this._tbx.value=t);t!=this._oldText&&(this._oldText=t);this._commitText();this.onTextChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"format",{get:function(){return this._fmt},set:function(t){if(t!=this.format){this._fmt=e.asString(t);this._refreshText()}},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"separator",{get:function(){return this._sep},set:function(t){if(t!=this._sep){this._sep=e.asString(t,!1);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(t){this._clsOnSel=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){t=e.asBoolean(t);this._handleWheel=t;t||(this.calendar.handleWheel=t)},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(t){if(this._rngs!=t){e.assert(null==t||e.isObject(t),"Object expected");this._rngs=t;this._lbx.itemsSource=this._getRanges(t);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(t){this._showCal=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"min",{get:function(){return this._cal.min},set:function(t){this._cal.min=e.asDate(t,!0)},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"max",{get:function(){return this._cal.max},set:function(t){this._cal.max=e.asDate(t,!0)},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(t){this._cal.repeatButtons=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(t){this._cal.showYearPicker=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"showMonthPicker",{get:function(){return this._cal.showMonthPicker},set:function(e){this._cal.showMonthPicker=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"showHeader",{get:function(){return this._cal.showHeader},set:function(e){this._cal.showHeader=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(e){this._cal.weeksBefore=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(e){this._cal.weeksAfter=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(e){if(e!=this.selectionMode){this._cal.selectionMode=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"monthCount",{get:function(){return this._cal.monthCount},set:function(e){this._cal.monthCount=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(t){if(t!=this.itemValidator){this._cal.itemValidator=e.asFunction(t);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(InputDate.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(t){this._cal.itemFormatter=e.asFunction(t)},enumerable:!0,configurable:!0});InputDate.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)};InputDate.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e);this.rangeEnd&&(this.isDroppedDown?this._rangeChanged=!0:this.onRangeChanged(e))};InputDate.prototype.onRangeChanged=function(e){this._rangeChanged=!1;this.rangeChanged.raise(this,e)};InputDate.prototype.refresh=function(e){void 0===e&&(e=!0);i.prototype.refresh.call(this,e);if(this.hostElement){this._msk&&this._msk.refresh();this._cal&&this._cal.refresh();this._refreshText()}};InputDate.prototype.onIsDroppedDownChanging=function(t){if(this.isDroppedDown){(o=this._cal)._rngMode()&&o.value&&!o.rangeEnd&&(o.rangeEnd=o.value)}else{var n=this._lbx,o=this._cal,s=n.collectionView,r=n.hostElement.style,a=o.hostElement.style;if(o._rngMode()&&e.hasItems(s)){var l=this._updateRangeSelection();r.display="";a.display=!this._showCal&&l&&l.from&&s.items.some((function(e){return!e.to}))?"none":""}else{r.display="none";a.display=""}o._mthMode()||(o.monthView=!0)}return i.prototype.onIsDroppedDownChanging.call(this,t)};InputDate.prototype.onIsDroppedDownChanged=function(e){i.prototype.onIsDroppedDownChanged.call(this,e);var t=this.containsFocus();if(this.isDroppedDown){t&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus());this._lbx.showSelection();this._cal.refresh()}else{this._commitText();this._rangeChanged&&this.onRangeChanged()}};InputDate.prototype._updateDropDown=function(){this._commitText();var e=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(e.fontSize)+"px";this._cal.refresh();i.prototype._updateDropDown.call(this)};InputDate.prototype._keydown=function(n){if(!(n.defaultPrevented||n.altKey||n.ctrlKey||n.metaKey)){if(this._isHiddenEditor())return;switch(n.keyCode){case e.Key.Enter:this._commitText();break;case e.Key.Escape:this.text=this._getText();this.selectAll();break;case e.Key.Tab:if(this._cal._rngMode()){var o=this._tbx,s=this._sep,r=o.value,a=r.indexOf(s);if(a>-1){var l=r.length,h=o.selectionStart,u=o.selectionEnd,c=null;o.selectionEnd<=a&&!n.shiftKey?c=0==h&&0==u:n.shiftKey&&o.selectionStart>=a+s.length&&(c=h<l||u<l);if(null!=c){c?e.setSelectionRange(o,0,a):e.setSelectionRange(o,a+s.length,l);n.preventDefault()}}}break;case e.Key.Up:case e.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var p=n.keyCode==e.Key.Up?1:-1,d=this.selectionMode==t.DateSelectionMode.Month?e.DateTime.addMonths(this.value,p):e.DateTime.addDays(this.value,p);this.value=this._fromDateTime(d);this.selectAll();n.preventDefault()}}}i.prototype._keydown.call(this,n)};InputDate.prototype._expandSelection=function(){if(this._cal._rngMode()){var t=this._tbx,n=t.value,o=t.selectionStart,s=t.selectionEnd,r=this._sep,a=n.indexOf(r);a>-1&&o==s&&(s<=a?e.setSelectionRange(t,0,a):o>=a+r.length&&e.setSelectionRange(t,a+r.length,t.value.length))}else i.prototype._expandSelection.call(this)};InputDate.prototype._refreshText=function(){var e=this._getText();if(e!=this.text){this._tbx.value=this._oldText=e;this.onTextChanged()}};InputDate.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()};InputDate.prototype._closeOnChange=function(){var e=this;if(this._clsOnSel&&this._clicked){var t=this._cal;(!t._rngMode()||t.value&&t.rangeEnd)&&setTimeout((function(){e.isDroppedDown=!1}))}};InputDate.prototype._tryFocus=function(e){var t=e.hostElement;if(t&&t.offsetHeight){t.focus();return!0}return!1};InputDate.prototype._clamp=function(e){return this._cal._clamp(e)};InputDate.prototype._getText=function(){var t=e.Globalize.format,i=this._fmt,n=t(this.value,i);this._cal._rngMode()&&n&&(n+=this._sep+t(this.rangeEnd,i));return n};InputDate.prototype._commitText=function(t){var i=this._tbx.value;if(i!=this._getText()){var n=!1,o=this._fmt,s=this._cal,r=e.Globalize.parseDate;if(i||this.isRequired)if(s._rngMode()){var a=i.split(this._sep);if(2==a.length&&a[0]){if(h=r(a[0],o,this.value)){var l=r(a[1],o,this.value);s.value=this._fromDateTime(h);s.rangeEnd=l&&l>=h?this._fromDateTime(l):h;n=!0}}}else{var h;if(h=r(i,o,this.value)){this.value=this._fromDateTime(h);n=!0}}else{this.value=this.rangeEnd=null;n=!0}(n||!this._containsFocus()&&this.onInvalidInput(new e.CancelEventArgs))&&(this.text=this._getText())}t||this._selectAll()};InputDate.prototype._fromDateTime=function(t){return e.DateTime.fromDateTime(t,this.value)};InputDate.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=t.DateSelectionMode.None};InputDate.prototype._isValidDate=function(e){if(e){if(this._clamp(e)!=e)return!1;if(this.itemValidator&&!this.itemValidator(e))return!1}return!0};InputDate.prototype._getRanges=function(t){var i=[];if(e.isObject(t))for(var n in t){var o=t[n];i.push({name:n,from:o?o[0]:null,to:o?o[1]:null})}return new e.collections.CollectionView(i,{currentItem:null})};InputDate.prototype._updateRangeSelection=function(){var t=this._lbx,i=-1;if(e.hasItems(t.collectionView))for(var n=this._lbx.collectionView.items,o=e.DateTime.sameDate,s=0;s<n.length;s++){var r=n[s];if(r.from){if(o(r.from,this.value)&&o(r.to,this.rangeEnd)){i=s;break}}else i=s}t.selectedIndex=i;return t.selectedItem};return InputDate}(t.DropDown);t.InputDate=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(i){__extends(InputDateRange,i);function InputDateRange(n,o){var s=i.call(this,n,{selectionMode:t.DateSelectionMode.Range,showMonthPicker:"Outside",monthCount:2})||this;e.addClass(s.hostElement,"wj-inputdaterange");s.initialize(o);return s}Object.defineProperty(InputDateRange.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(i){i=e.asEnum(i,t.DateSelectionMode);e.assert(i==t.DateSelectionMode.Range,'InputDateRange.selectionMode must be "Range"');this.calendar.selectionMode=i},enumerable:!0,configurable:!0});return InputDateRange}(t.InputDate);t.InputDateRange=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(i){__extends(InputColor,i);function InputColor(t,n){var o=i.call(this,t)||this;o.valueChanged=new e.Event;e.addClass(o.hostElement,"wj-inputcolor");o._ePreview=e.createElement('<div class="wj-inputcolorbox"></div>',o.hostElement.firstElementChild);if("INPUT"==o._orgTag){o._tbx.type="";o._commitText()}o.value="#ffffff";o.isRequired=!0;o.initialize(n);o.addEventListener(o._colorPicker.hostElement,"click",(function(t){var i=t.target;if(i&&"DIV"==i.tagName&&(e.closest(i,'[wj-part="div-pal"]')||e.closest(i,'[wj-part="div-pv"]'))){i.style.backgroundColor&&(o.isDroppedDown=!1)}}));return o}Object.defineProperty(InputColor.prototype,"value",{get:function(){return this._value},set:function(e){this.text=e},enumerable:!0,configurable:!0});Object.defineProperty(InputColor.prototype,"text",{get:function(){return this._tbx.value},set:function(t){if((t=e.asString(t))!=this.text&&(t||!this.isRequired)&&(!t||e.Color.fromString(t))){this._setText(t,!0);this._commitText()}},enumerable:!0,configurable:!0});Object.defineProperty(InputColor.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(e){this._colorPicker.showAlphaChannel=e},enumerable:!0,configurable:!0});Object.defineProperty(InputColor.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(e){this._colorPicker.showColorString=e},enumerable:!0,configurable:!0});Object.defineProperty(InputColor.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(e){this._colorPicker.palette=e},enumerable:!0,configurable:!0});Object.defineProperty(InputColor.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0});InputColor.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)};InputColor.prototype.onIsDroppedDownChanged=function(e){i.prototype.onIsDroppedDownChanged.call(this,e);this.isDroppedDown&&!this.isTouching&&this.selectAll()};InputColor.prototype._createDropDown=function(){var i=this;this._colorPicker=new t.ColorPicker(this._dropDown);e.setCss(this._dropDown,{minWidth:420,minHeight:200});this._colorPicker.valueChanged.addHandler((function(){i.value=i._colorPicker.value}))};InputColor.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case e.Key.Enter:this._commitText();this.selectAll();break;case e.Key.Escape:this.text=this.value;this.selectAll()}i.prototype._keydown.call(this,t)};InputColor.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text){this._value=this.text;this._ePreview.style.backgroundColor="";this.onValueChanged();return}if(e.Color.fromString(this.text)){var t=this._colorPicker;t.value=this.text;this._value=t.value;this._ePreview.style.backgroundColor=this.value;this.onValueChanged()}else this.onInvalidInput(new e.CancelEventArgs)&&(this.text=this._value?this._value:"")}};return InputColor}(t.DropDown);t.InputColor=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(i){__extends(ComboBox,i);function ComboBox(t,n){var o=i.call(this,t)||this;o._editable=!1;o._trimText=!0;o._handleWheel=!0;o._delKey=0;o._pathHdr=new e.Binding(null);o._bsCollapse=!0;o._fmtItemHandlers=0;o.itemsSourceChanged=new e.Event;o.selectedIndexChanged=new e.Event;var s=o.hostElement;e.addClass(s,"wj-combobox");o.dropDown.id=e.getUniqueId(s.id+"_dropdown");o.autoExpandSelection=!1;var r=o._tbx;o.addEventListener(r,"compositionstart",(function(){o._composing=!0;var e=r.selectionStart,t=r.selectionEnd;if(t>e){var i=r.value;r.value=i.substring(0,e)+i.substring(t,i.length)}}));o.addEventListener(r,"compositionend",(function(){o._composing=!1;o._setText(o.text,!0)}));o.addEventListener(s,"wheel",o._wheel.bind(o));"SELECT"==o._orgTag&&o._lbx._initFromSelect(s);var a=o._lbx;a.loadedItems.addHandler((function(e){o.selectedIndex>-1&&(o.selectedIndex=a.selectedIndex)}));o.isRequired=!0;o.initialize(n);return o}Object.defineProperty(ComboBox.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){if(this._lbx.itemsSource!=e){this._lbx.itemsSource=e;this.onItemsSourceChanged()}this._updateBtn()},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(t){this._pathHdr.path=e.asString(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(e){this._lbx.selectedValuePath=e},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=e.asBoolean(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(t){this._lbx.caseSensitiveSearch=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"trimText",{get:function(){return this._trimText},set:function(t){if(t!=this._trimText){this._trimText=e.asBoolean(t);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=e.asFunction(t);this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"formatItem",{get:function(){return this._lbx.formatItem},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(t){t!=this.selectedIndex&&e.isNumber(t)&&(this._lbx.selectedIndex=t);t=this.selectedIndex;var i=this.getDisplayText(t);this.text!=i&&this._setText(i,!0)},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(e){this._lbx.selectedItem=e},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(e){this.collectionView?this._lbx.selectedValue=e:null!=e&&(this.text=e.toString())},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(t){this._handleWheel=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=e},enumerable:!0,configurable:!0});Object.defineProperty(ComboBox.prototype,"maxDropDownWidth",{get:function(){var e=this._dropDown,t=e?parseInt(e.style.maxWidth):null;return isNaN(t)?null:t},set:function(t){var i=this._dropDown.style;t=e.asNumber(t,!0);i.maxWidth=null==t?"":t+"px";i.minWidth=""},enumerable:!0,configurable:!0});ComboBox.prototype.getDisplayText=function(t,i){void 0===t&&(t=this.selectedIndex);void 0===i&&(i=this._trimText);var n,o=this.collectionView;if(this.headerPath&&t>-1&&e.hasItems(o)){var s=o.items[t];n=null!=(n=s?this._pathHdr.getValue(s):null)?n.toString():"";this.isContentHtml&&(n=e.toPlainText(n))}else n=this._lbx.getDisplayText(t);return i?n.trim():n};ComboBox.prototype.indexOf=function(t,i){var n=this.collectionView,o=this.caseSensitiveSearch;if(e.hasItems(n)&&null!=t){t=t.toString();o||(t=t.toLowerCase());var s=this.selectedIndex,r=this.getDisplayText(s);if(i){o||(r=r.toLowerCase());if(t==r)return s}for(var a=0;a<n.items.length;a++)if(this._lbx.isItemEnabled(a)){r=this.getDisplayText(a);o||(r=r.toLowerCase());if(i){if(r==t)return a}else if(t&&0==r.indexOf(t))return a}}return-1};Object.defineProperty(ComboBox.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0});ComboBox.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)};ComboBox.prototype.onSelectedIndexChanged=function(e){this._updateBtn();this.selectedIndexChanged.raise(this,e)};ComboBox.prototype.refresh=function(t){void 0===t&&(t=!0);i.prototype.refresh.call(this,t);if(this.hostElement&&e.hasItems(this.collectionView)){this._lbx.refresh();this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex)}};ComboBox.prototype.onLostFocus=function(t){if(this._composing){this._composing=!1;this._setText(this.text,!0)}this.isEditable&&this.isRequired&&!this.text&&e.hasItems(this.collectionView)&&(this.selectedIndex=0);i.prototype.onLostFocus.call(this,t)};ComboBox.prototype.onIsDroppedDownChanging=function(e){if(!this.isDroppedDown&&!this._hasItems()){e.cancel=!0;return!1}return i.prototype.onIsDroppedDownChanging.call(this,e)};ComboBox.prototype.onIsDroppedDownChanged=function(e){i.prototype.onIsDroppedDownChanged.call(this,e);if(this.isDroppedDown){this._fmtItemHandlers=this.formatItem.handlerCount;this._lbx.showSelection()}this._updateAria()};ComboBox.prototype._setIsDisabled=function(e){i.prototype._setIsDisabled.call(this,e);this._updateBtn()};ComboBox.prototype._updateBtn=function(){var t=this.collectionView,n=this._tbx,o=this._hasItems();i.prototype._updateBtn.call(this);this._btn.style.display=this._showBtn&&null!=t?"":"none";e.enable(this._btn,o&&!this.isDisabled);e.setAttribute(n,"role",o?"combobox":null);e.setAttribute(n,"aria-autocomplete",o?"both":null);this._updateAria()};ComboBox.prototype._hasItems=function(){return e.hasItems(this.collectionView)};ComboBox.prototype._updateAria=function(){var t=this._tbx,i=this.isDroppedDown,n=this.dropDown?this.dropDown.id:null,o=n&&e.hasItems(this.collectionView);e.setAttribute(t,"aria-owns",o&&i?n:null);e.setAttribute(t,"aria-expanded",o?i:null)};ComboBox.prototype._createDropDown=function(){var i=this;this._lbx||(this._lbx=new t.ListBox(this._dropDown));this._lbx.maxHeight=200;this._lbx.selectedIndexChanged.addHandler((function(){i._updateBtn();var t=i._lbx.selectedIndex,n=i._lbx.hostElement.children,o=t>-1&&t<n.length?n[t].id:null;e.setAttribute(i._tbx,"aria-activedescendant",o&&o.length?o:null);i.selectedIndex=t;i.onSelectedIndexChanged()}));this._lbx.itemsChanged.addHandler((function(){i._updateBtn()}))};ComboBox.prototype._wheel=function(e){if(this.handleWheel&&!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var t=this._findNext("",e.deltaY>0?1:-1);t>-1&&(this.selectedIndex=t);e.preventDefault()}};ComboBox.prototype._dropDownClick=function(e){e.defaultPrevented||e.target!=this._dropDown&&(this.isDroppedDown=!1);i.prototype._dropDownClick.call(this,e)};ComboBox.prototype._setText=function(t,n){if(!this._composing&&!this._settingText){this._settingText=!0;if(this.containsFocus()){var o=this.formatItem.handlerCount;if(this._fmtItemHandlers!=o){this._fmtItemHandlers=o;this._lbx.loadList()}}null==t&&(t="");t=t.toString();var s=this.selectedIndex,r=this.collectionView,a=this._getSelStart(),l=-1,h=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<t.length||!this.containsFocus())){n=!0;h=!1}s=this.indexOf(t,n);if(h){s<0&&n&&(s=this.indexOf(t,!1));s<0&&a>0&&(s=this.indexOf(t.substr(0,a),!1))}if(s<0&&!this.isEditable&&e.hasItems(r)&&(this.isRequired||t)){var u=this._oldText||"";s=Math.max(0,this.indexOf(u,!1));a=0;for(var c=0;c<t.length&&c<u.length;c++)if(t[c]!=u[c]){a=c;break}}if(s>-1){l=a;t=this.getDisplayText(s)}var p=this._tbx;t!=p.value&&(p.value=t);l>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(l);r&&r.moveCurrentToPosition(s);this._delKey=0;this._settingText=!1;i.prototype._setText.call(this,t,n)}};ComboBox.prototype._findNext=function(e,t,i){void 0===i&&(i=this.selectedIndex);var n=this.collectionView,o=n?n.items.length:0,s=this._lbx,r=this.caseSensitiveSearch;if(n&&o&&t){r||(e=e.toLowerCase());for(var a=i+t;a>-1&&a<o;a+=t){var l=this.getDisplayText(a);r||(l=l.toLowerCase());if(0==l.indexOf(e)){if(!this.dropDown.children[a]||s.isItemEnabled(a))return a}}}return i};ComboBox.prototype._keydown=function(t){i.prototype._keydown.call(this,t);if(!t.defaultPrevented&&!this.isReadOnly&&!t.altKey&&e.hasItems(this.collectionView)&&this._elRef==this._tbx&&!this._isHiddenEditor()){this._delKey=0;var n=this._getSelStart();switch(t.keyCode){case e.Key.Back:if(this._bsCollapse&&!this.isEditable){var o=this._getSelEnd();n>0&&o==this._tbx.value.length&&e.hasItems(this.collectionView)&&this._setSelRange(n-1,o)}this._delKey=t.keyCode;break;case e.Key.Delete:this._delKey=t.keyCode;break;case e.Key.Up:case e.Key.Down:n==this.text.length&&(n=0);this.selectedIndex=this._findNext(this.text.substr(0,n),t.keyCode==e.Key.Up?-1:1);this._setSelRange(n,this.text.length);t.preventDefault();break;case e.Key.PageUp:this._lbx._selectPrevPage();this.selectAll();t.preventDefault();break;case e.Key.PageDown:this._lbx._selectNextPage();this.selectAll();t.preventDefault()}}};ComboBox.prototype._updateInputSelection=function(e){var t=this._tbx;this._elRef==t&&this._setSelRange(e,t.value.length)};ComboBox.prototype._getSelStart=function(){var e=this._tbx;return e&&e.value?e.selectionStart:0};ComboBox.prototype._getSelEnd=function(){var e=this._tbx;return e&&e.value?e.selectionEnd:0};ComboBox.prototype._setSelRange=function(t,i){var n=this._tbx;this._elRef!=n||n.readOnly||e.setSelectionRange(n,t,i)};return ComboBox}(t.DropDown);t.ComboBox=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";e._addCultureInfo("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var i=function(i){__extends(MultiSelect,i);function MultiSelect(n,o){var s=i.call(this,n)||this;s._maxHdrItems=2;s._readOnly=!1;s._hdrFmt=null;s.checkedItemsChanged=new e.Event;e.addClass(s.hostElement,"wj-multiselect");s._tbx.readOnly=!0;s.checkedMemberPath=null;s.removeEventListener(s.dropDown,"click");s._lbx.itemsChanged.addHandler((function(){s._updateHeader()}));s._lbx.checkedItemsChanged.addHandler((function(){s._updateHeader();s.onCheckedItemsChanged()}));s.clickAction=t.ClickAction.Toggle;s.initialize(o);return s}Object.defineProperty(MultiSelect.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(t){this._msLbx.showSelectAllCheckbox=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(t){this._msLbx.showFilterInput=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"delay",{get:function(){return this._msLbx.delay},set:function(e){this._msLbx.delay=e},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"caseSensitiveSearch",{get:function(){return this._msLbx.caseSensitiveSearch},set:function(e){this._msLbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(t){this._msLbx.filterInputPlaceholder=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(t){if(t!=this.checkOnFilter){this._msLbx.checkOnFilter=e.asBoolean(t);this.checkedItems=[]}},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(t){this._msLbx.selectAllLabel=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(t){this._msLbx.checkedMemberPath=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(t){if(this._maxHdrItems!=t){this._maxHdrItems=e.asNumber(t);this._updateHeader()}},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(t){if(t!=this._hdrFmt){this._hdrFmt=e.asString(t);this._updateHeader()}},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(t){if(t!=this._hdrFormatter){this._hdrFormatter=e.asFunction(t);this._updateHeader()}},enumerable:!0,configurable:!0});Object.defineProperty(MultiSelect.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(t){this._msLbx.checkedItems=null==t?[]:e.asArray(t);this._updateHeader()},enumerable:!0,configurable:!0});MultiSelect.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)};MultiSelect.prototype.dispose=function(){this._lbx.dispose();i.prototype.dispose.call(this)};MultiSelect.prototype.onIsDroppedDownChanged=function(e){var t=this;i.prototype.onIsDroppedDownChanged.call(this,e);setTimeout((function(){if(t.isDroppedDown&&t.containsFocus())if(t.showFilterInput&&!t.isTouching)t._msLbx._filter.focus();else{var e=t.listBox;if(e.selectedIndex<0){var i=0,n=e.checkedItems;n.length&&(i=e.collectionView.items.indexOf(n[0]));e.selectedIndex=Math.max(0,i)}e.showSelection(!0);e.focus()}}))};MultiSelect.prototype._createDropDown=function(){var n=e.createElement("<div></div>",this._dropDown);this._msLbx=new t.MultiSelectListBox(n);this._lbx=this._msLbx.listBox;i.prototype._createDropDown.call(this)};Object.defineProperty(MultiSelect.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=e.asBoolean(t);e.toggleClass(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0});MultiSelect.prototype.refresh=function(e){void 0===e&&(e=!0);i.prototype.refresh.call(this,e);this.hostElement&&this._updateHeader()};MultiSelect.prototype._setText=function(e,t){};MultiSelect.prototype._keydown=function(t){i.prototype._keydown.call(this,t);e.hasClass(this._tbx,"wj-grid-ime")||!t.defaultPrevented&&e.hasItems(this.collectionView)&&t.keyCode>32&&(this.isDroppedDown=!0)};MultiSelect.prototype._hasItems=function(){var t=this.collectionView,i=t?t.sourceCollection:null;return e.hasItems(t)||i&&i.length&&this.showFilterInput};MultiSelect.prototype._updateHeader=function(){var t="";if(e.isFunction(this._hdrFormatter))t=this._hdrFormatter(this);else{var i=this.checkedItems;if(i.length>0)if(i.length<=this._maxHdrItems){if(this.headerPath){var n=new e.Binding(this.headerPath);i=i.map((function(e){return n.getValue(e)}))}else if(this.displayMemberPath){var o=new e.Binding(this.displayMemberPath);i=i.map((function(e){return o.getValue(e)}))}this.isContentHtml&&(i=i.map((function(t){return e.toPlainText(t)})));this.trimText&&(i=i.map((function(e){return e?e.toString().trim():""})));t=i.join(", ")}else t=e.format(this.headerFormat||e.culture.MultiSelect.itemsSelected,{count:i.length})}var s=this.inputElement;if(t!=s.value){s.value=t;this.onTextChanged()}this._updateState()};MultiSelect._DEF_CHECKED_PATH="$checked";return MultiSelect}(t.ComboBox);t.MultiSelect=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(t){__extends(Menu,t);function Menu(i,n){var o=t.call(this,i)||this;o._closing=!1;o._cmd=null;o._cmdPath=null;o._cmdParamPath=null;o._subPath=null;o._owner=null;o._isButton=!1;o._openOnHover=!1;o._closeOnLeave=!0;o._subMenu=null;o._hoverEnterBnd=o._hoverEnter.bind(o);o._hoverLeaveBnd=o._hoverLeave.bind(o);o._hoverOverBnd=o._hoverOver.bind(o);o.itemClicked=new e.Event;var s=o.hostElement,r=o._tbx,a=o._lbx,l=o.dropDown;e.addClass(s,"wj-menu");r.style.display="none";o._hdr=o._elRef=e.createElement('<div wj-part="header" class="wj-form-control"/>');r.parentElement.insertBefore(o._hdr,o._tbx);s.tabIndex=o.isDisabled?-1:o._orgTabIndex;o.isRequired=!1;e.setAttribute(s,"role","menubar",!0);e.setAttribute(r,"role",null);e.setAttribute(r,"aria-autocomplete",null);e.setAttribute(r,"aria-owns",null);e.setAttribute(l,"role","menu");a.itemRole="menuitem";if("SELECT"==o._orgTag){o.header=s.getAttribute("header");o._lbx.itemsSource&&(o.commandParameterPath="cmdParam")}o.isContentHtml=!0;o.maxDropDownHeight=500;o.addEventListener(o._hdr,"click",(function(e){if(!e.defaultPrevented){o._clearHover(e);if(o._isButton){o.isDroppedDown=!1;o._raiseCommand()}else o.isDroppedDown=!o.isDroppedDown}}));a.lostFocus.addHandler((function(){o.containsFocus()||(o.isDroppedDown=!1)}));e.addClass(l,"wj-menu-items");a.formatItem.addHandler(o._formatMenuItem.bind(o));o.initialize(n);return o}Object.defineProperty(Menu.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(t){this._hdr.innerHTML=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(Menu.prototype,"command",{get:function(){return this._cmd},set:function(e){this._cmd=e},enumerable:!0,configurable:!0});Object.defineProperty(Menu.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(Menu.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(Menu.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(e){if(e!=this._subPath){this._subPath=e;this.refresh(!0)}},enumerable:!0,configurable:!0});Object.defineProperty(Menu.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(t){this._openOnHover=e.asBoolean(t);this._updateHoverEvents()},enumerable:!0,configurable:!0});Object.defineProperty(Menu.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(t){this._closeOnLeave=e.asBoolean(t);this._updateHoverEvents()},enumerable:!0,configurable:!0});Object.defineProperty(Menu.prototype,"isButton",{get:function(){return this._isButton},set:function(t){this._isButton=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(Menu.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner=e.asType(t,HTMLElement,!0);this._enableDisableItems()},enumerable:!0,configurable:!0});Menu.prototype.show=function(t){if(!this.isDroppedDown){this.selectedIndex=-1;if(this.onIsDroppedDownChanging(new e.CancelEventArgs)){var i=this.dropDown,n=this.owner;!n&&t instanceof MouseEvent&&(n=t.target);n instanceof HTMLElement&&(i[e.Control._OWNR_KEY]=n);if(t instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave){t=new e.Point(t.pageX-pageXOffset-2,t.pageY-pageYOffset-2)}e.showPopup(i,t,!1,this.isAnimated);this.onIsDroppedDownChanged();i.focus()}}};Menu.prototype.hide=function(){if(this.isDroppedDown&&this.onIsDroppedDownChanging(new e.CancelEventArgs)){e.hidePopup(this.dropDown);this.onIsDroppedDownChanged()}};Menu.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)};Menu.prototype.refresh=function(e){void 0===e&&(e=!0);t.prototype.refresh.call(this,e);this.hostElement&&this._enableDisableItems()};Menu.prototype.onIsDroppedDownChanged=function(e){t.prototype.onIsDroppedDownChanged.call(this,e);if(this.isDroppedDown){this._closing=!0;this._defaultItem=this.selectedItem;this.isRequired=!1;this.selectedIndex=-1;this._enableDisableItems();this._closing=!1;this.dropDown.focus()}else{this.selectedItem||(this.selectedItem=this._defaultItem);var i=this._subMenu;i&&(i.isDroppedDown=!1)}};Menu.prototype._updateHoverEvents=function(){var e=this.hostElement,t=this.dropDown,i=this.addEventListener.bind(this),n=this.removeEventListener.bind(this),o="mouseleave";n(e,"mouseenter",this._hoverEnterBnd);n(e,o,this._hoverLeaveBnd);n(t,"mouseover",this._hoverOverBnd);n(t,o,this._hoverLeaveBnd);if(this._openOnHover){i(e,"mouseenter",this._hoverEnterBnd);i(t,"mouseover",this._hoverOverBnd);if(this._closeOnLeave){i(e,o,this._hoverLeaveBnd);i(t,o,this._hoverLeaveBnd)}}};Menu.prototype._getSubItems=function(t){var i=this.subItemsPath,n=t&&i?t[i]:null;return e.isArray(n)&&n.length?n:null};Menu.prototype._formatMenuItem=function(t,i){var n=i.item;if(this._getSubItems(i.data))e.addClass(n,"wj-subitems");else if("-"==n.innerHTML){n.innerHTML="";e.addClass(n,"wj-separator")}};Menu.prototype._keydown=function(i){if(!i.defaultPrevented){var n=this._getKeyCode(i);if(this.isDroppedDown)switch(n){case e.Key.Enter:case e.Key.Right:if(this._showSubMenu()){i.preventDefault();return}break;case e.Key.Left:var o=e.Control.getControl(this.owner);if(o instanceof Menu){var s=o.dropDown,r=o.selectedIndex;(r>-1?s.children[r]:s).focus();i.preventDefault();return}}if(n==e.Key.Enter)if(this.isDroppedDown)this.selectedIndex>-1&&this._raiseCommand();else{this.isDroppedDown=!0;i.preventDefault()}}t.prototype._keydown.call(this,i)};Menu.prototype._dropDownClick=function(e){if(!e.defaultPrevented&&e.target!=this.dropDown){this._clearHover(e);if(this._showSubMenu()){e.preventDefault();return}this.selectedIndex>-1&&this._raiseCommand()}t.prototype._dropDownClick.call(this,e)};Menu.prototype._showSubMenu=function(){var t=this,i=this._getSubItems(this.selectedItem);if(!i)return null;var n=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),o=new e.Point(n.right,n.top);if(0==n.height)return null;var s=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");s&&(o.x=n.left);var r=this._subMenu;r&&(r.isDroppedDown=!1);r=new Menu(document.createElement("div"),{owner:this.hostElement,itemsSource:i,itemClicked:function(e,i){t.itemClicked.raise(e,i)},formatItem:function(e,i){t.formatItem.raise(e,i)}});var a=this.collectionView,l=r.collectionView;a&&a.filter&&l&&!l.filter&&(l.filter=a.filter);"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach((function(e){r[e]=t[e]}));var h=r.dropDown;e.setAttribute(h,"dir",s?"rtl":null);r.show(o);h[e.Control._OWNR_KEY]=this.dropDown;h.focus();return r};Menu.prototype._raiseCommand=function(t){var i=this.selectedItem,n=this._getSubItems(i),o=this._getCommand(i);if(o&&!n){var s=this._getCommandParm(i);if(!this._canExecuteCommand(o,s))return;this._executeCommand(o,s)}var r=this.headerPath;if(r){var a=new e.Binding(r).getValue(i);a=null==a?"":a.toString();this.header=this.isContentHtml?a:e.escapeHtml(a)}this.onItemClicked(t);if(this.containsFocus()){for(var l=this;l&&l.owner;){var h=e.Control.getControl(l.owner);if(!(h instanceof Menu))break;l=h}var u=l.owner;!u&&l.dropDown&&(u=l.dropDown[e.Control._OWNR_KEY]);l.isDroppedDown=!1;l.focus();if(!l.containsFocus()&&u instanceof HTMLElement&&u.offsetHeight)if(e.isIE){var c=document.documentElement,p=c.scrollLeft,d=c.scrollTop;u.focus();c.scrollLeft=p,c.scrollTop=d}else u.focus()}};Menu.prototype._getCommand=function(e){var t=e&&this._cmdPath?e[this._cmdPath]:null;return t||this._cmd};Menu.prototype._getCommandParm=function(e){var t=this._cmdParamPath;return e&&t?e[t]:e};Menu.prototype._executeCommand=function(t,i){t&&!e.isFunction(t)&&(t=t.executeCommand);e.isFunction(t)&&t(i)};Menu.prototype._canExecuteCommand=function(t,i){if(t){var n=t.canExecuteCommand;if(e.isFunction(n))return n(i)}return!0};Menu.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var t=this.collectionView.items,i=0;i<t.length;i++){var n=t[i],o=this._getCommand(n);if(o){var s=this._lbx.hostElement.children[i],r=this._getCommandParm(n);e.toggleClass(s,"wj-state-disabled",!this._canExecuteCommand(o,r))}}};Menu.prototype._clearHover=function(e){this._toHover&&clearTimeout(this._toHover);this._toHover=null;Menu._evtHover=e};Menu.prototype._isTargetDisabled=function(t){return e.hasClass(t.target,"wj-state-disabled")};Menu.prototype._hoverEnter=function(t){var i=this;this._clearHover(t);this._toHover=setTimeout((function(){i._toHover=null;i.isDroppedDown=!0}),e.Control._HOVER_DELAY)};Menu.prototype._hoverOver=function(t){var i=this;this._clearHover(t);this._toHover=setTimeout((function(){i._toHover=null;var n=i.listBox.indexOf(t.target);if(n>-1&&!e.hasClass(t.target,"wj-state-disabled")){i.selectedIndex=n;i._subMenu=i._showSubMenu()}}),e.Control._HOVER_DELAY)};Menu.prototype._hoverLeave=function(t){var i=this;this._clearHover(t);this.isDroppedDown&&(this._toHover=setTimeout((function(){var n=(t=Menu._evtHover)?document.elementFromPoint(t.clientX,t.clientY):null,o=e.closest(n,".wj-listbox.wj-menu-items"),s=i._subMenu;if(!o&&!e.contains(i.hostElement,n,!0)){i.isDroppedDown=!1;s&&(s.isDroppedDown=!1)}}),e.Control._LEAVE_DELAY))};Menu.prototype._setIsDisabled=function(e){t.prototype._setIsDisabled.call(this,e);this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex};Menu.prototype._setTabOrder=function(e){t.prototype._setTabOrder.call(this,e);this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex};return Menu}(t.ComboBox);t.Menu=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(t){__extends(InputTime,t);function InputTime(i,n){var o=t.call(this,i)||this;o._format="t";o.valueChanged=new e.Event;e.addClass(o.hostElement,"wj-inputtime");o.isEditable=!0;o._value=e.DateTime.newDate();o._min=o._max=null;o._msk=new e._MaskProvider(o._tbx);e.isIE9()||(o._tbx.type="tel");if("INPUT"==o._orgTag){var s=o._tbx.getAttribute("value");s&&(o.value=e.Globalize.parseDate(s,"HH:mm:ss"))}o.step=15;o.autoExpandSelection=!0;o.initialize(n);return o}Object.defineProperty(InputTime.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0});Object.defineProperty(InputTime.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=e.asString(t)},enumerable:!0,configurable:!0});Object.defineProperty(InputTime.prototype,"value",{get:function(){return this._value},set:function(t){(t=e.asDate(t,!this.isRequired))&&(t=this._clamp(t));this._setText(t?e.Globalize.format(t,this.format):"",!0);this.selectedItem&&this.selectedItem.value&&(t=e.DateTime.fromDateTime(t,this.selectedItem.value));if(t!=this._value&&!e.DateTime.equals(t,this._value)){this._value=t;this.onValueChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(InputTime.prototype,"text",{get:function(){return this._tbx.value},set:function(e){if(e!=this.text){this._setText(e,!0);this._commitText()}},enumerable:!0,configurable:!0});Object.defineProperty(InputTime.prototype,"min",{get:function(){return this._min},set:function(t){this._min=e.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0});Object.defineProperty(InputTime.prototype,"max",{get:function(){return this._max},set:function(t){this._max=e.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0});Object.defineProperty(InputTime.prototype,"step",{get:function(){return this._step},set:function(t){if(t!=this.step){this._step=e.asNumber(t,!0);this.isDroppedDown=!1;this._updateItems()}},enumerable:!0,configurable:!0});Object.defineProperty(InputTime.prototype,"format",{get:function(){return this._format},set:function(t){if(t!=this.format){this._format=e.asString(t);this._tbx.value=e.Globalize.format(this.value,this.format);e.hasItems(this.collectionView)&&this._updateItems()}},enumerable:!0,configurable:!0});Object.defineProperty(InputTime.prototype,"mask",{get:function(){return this._msk.mask},set:function(t){this._msk.mask=e.asString(t)},enumerable:!0,configurable:!0});InputTime.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)};InputTime.prototype.onItemsSourceChanged=function(e){t.prototype.onItemsSourceChanged.call(this,e);this._hasCustomItems=null!=this.itemsSource};InputTime.prototype.refresh=function(i){void 0===i&&(i=!0);t.prototype.refresh.call(this,i);if(this.hostElement){this._msk.refresh();this._tbx.value=e.Globalize.format(this.value,this.format);this._updateItems()}};InputTime.prototype.onSelectedIndexChanged=function(i){if(this.selectedIndex>-1&&!this._settingText){var n=this.value?this.value:e.DateTime.newDate(),o=null!=this.selectedItem.value?this.selectedItem.value:e.Globalize.parseDate(this.text,this.format,this.value);this.value=e.DateTime.fromDateTime(n,o)}t.prototype.onSelectedIndexChanged.call(this,i)};InputTime.prototype._clamp=function(t){null!=this._min&&this._getTime(t)<this._getTime(this._min)&&(t=e.DateTime.fromDateTime(t,this._min));null!=this._max&&this._getTime(t)>this._getTime(this._max)&&(t=e.DateTime.fromDateTime(t,this._max));return t};InputTime.prototype._wheel=function(i){if(!i.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&e.isNumber(this.step)&&this.step>0){var n=e.DateTime.addMinutes(this.value,this.step*e.clamp(i.deltaY,-1,1));this.value=this._clamp(n);this.selectAll();i.preventDefault()}t.prototype._wheel.call(this,i)};InputTime.prototype._updateInputSelection=function(i){if(this._delKey)t.prototype._updateInputSelection.call(this,i);else{for(var n=this._tbx.value;i<n.length&&!n[i].match(/[a-z0-9]/i);)i++;e.setSelectionRange(this._tbx,i,this._tbx.value.length)}};InputTime.prototype._updateItems=function(){if(!this._hasCustomItems){var t=[],i=new Date(2020,0),n=new Date(2020,0,1,23,59,59),o=this.step;this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds());this.max&&n.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds());if(e.isNumber(o)&&o>=1)for(var s=i;s<=n;s=e.DateTime.addMinutes(s,o))t.push({value:s,text:e.Globalize.format(s,this.format)});var r=this.value;this._settingText=!0;this.displayMemberPath="text";this.selectedValuePath="text";this.itemsSource=t;this._hasCustomItems=!1;this._settingText=!1;!r&&this.isRequired||(this.value=r)}};InputTime.prototype._getTime=function(e){return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()};InputTime.prototype._keydown=function(i){t.prototype._keydown.call(this,i);if(!i.defaultPrevented)switch(i.keyCode){case e.Key.Enter:if(!this.isDroppedDown){this._commitText();this.selectAll()}break;case e.Key.Escape:this.text=e.Globalize.format(this.value,this.format);this.selectAll()}};InputTime.prototype._commitText=function(){if(this.text||this.isRequired){var t=this.value?e.Globalize.format(this.value,this.format):"";if(this.text!=t){var i=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:e.Globalize.parseDate(this.text,this.format,this.value);i?(e.DateTime.sameTime(i,this._clamp(i))||this.onInvalidInput(new e.CancelEventArgs))&&(this.value=e.DateTime.fromDateTime(this.value,i)):this.onInvalidInput(new e.CancelEventArgs)&&(this.text=t)}}else this.value=null};return InputTime}(t.ComboBox);t.InputTime=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";e._addCultureInfo("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var i=function(i){__extends(InputDateTime,i);function InputDateTime(n,o){var s=i.call(this,n)||this;e.addClass(s.hostElement,"wj-inputdatetime");var r=e.culture.InputDateTime.ariaLabels;e.setAriaLabel(s._btn,r.tglDate);e.setAriaLabel(s._btnTm,r.tglTime);s.value=new Date;s.format="g";s._inputTime=new t.InputTime(document.createElement("div"),{valueChanged:function(t){var i=s.rangeEnd;s.value=e.DateTime.fromDateTime(s.value,t.value);s.calendar._rngMode()&&i&&(s.rangeEnd=e.DateTime.fromDateTime(i,t.value))},isDroppedDownChanged:function(e){e.listBox.containsFocus()&&s.inputElement.focus();s._selectAll()}});var a=s.addEventListener.bind(s);s._btnTm=s.hostElement.querySelector('[wj-part="btn-tm"]');a(s._btnTm,"mousedown",(function(e){s._btnclick(e)}));s._ddDate=s._dropDown;var l=s._ddTime=s._inputTime.dropDown;a(l,"keydown",s._keydown.bind(s),!0);a(l,"blur",(function(){s._updateFocusState()}),!0);a(l,"click",(function(e){e.defaultPrevented||e.target!=l&&s.hostElement.focus()}),!0);s.initialize(o);s.text=s._getText();return s}Object.defineProperty(InputDateTime.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(e){this._inputTime.min=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDateTime.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(e){this._inputTime.max=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDateTime.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(e){this._inputTime.format=e},enumerable:!0,configurable:!0});Object.defineProperty(InputDateTime.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(t){this._inputTime.step=t;this._btnTm.style.display=e.isNumber(t)&&t>0?"":"none"},enumerable:!0,configurable:!0});Object.defineProperty(InputDateTime.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0});InputDateTime.prototype._fromDateTime=function(e){return e};InputDateTime.prototype._btnclick=function(t){var n=e.closest(t.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(n);i.prototype._btnclick.call(this,t)};InputDateTime.prototype.dispose=function(){this._setDropdown(this._ddDate);i.prototype.dispose.call(this);this._inputTime.dispose()};InputDateTime.prototype.refresh=function(e){void 0===e&&(e=!0);this._inputTime.refresh();i.prototype.refresh.call(this,e)};InputDateTime.prototype._updateBtn=function(){i.prototype._updateBtn.call(this);if(this._btnTm){this._btnTm.tabIndex=this._btn.tabIndex;this._btnTm.parentElement.style.display=this._btn.style.display}};InputDateTime.prototype._setDropdown=function(e){if(this._dropDown==e)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var t=this.dropDownCssClass;this.dropDownCssClass="";this._dropDown=e;this.dropDownCssClass=t;return!0};InputDateTime.prototype._updateDropDown=function(){var e=this._inputTime;if(this._dropDown==e.dropDown){this._commitText();i.prototype._updateDropDown.call(this);e.isRequired=this.isRequired&&null!=this.value;e.value=this.value;this.isDroppedDown&&e.listBox.showSelection()}else i.prototype._updateDropDown.call(this)};InputDateTime.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>';return InputDateTime}(t.InputDate);t.InputDateTime=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(t){__extends(AutoComplete,t);function AutoComplete(i,n){var o=t.call(this,i)||this;o._cssMatch="wj-state-match";o._minLength=2;o._maxItems=6;o._itemCount=0;o._beginsWith=!1;o._delay=e.Control._SEARCH_DELAY;o._query="";o._inCallback=!1;o._srchProps=[];e.addClass(o.hostElement,"wj-autocomplete");o._bsCollapse=!1;o.isEditable=!0;o.isRequired=!1;o.listBox.formatItem.addHandler(o._formatListItem,o);o._itemsSourceFnCallbackBnd=o._itemSourceFunctionCallback.bind(o);o.initialize(n);return o}Object.defineProperty(AutoComplete.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=e.asNumber(t,!1,!0)},enumerable:!0,configurable:!0});Object.defineProperty(AutoComplete.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(t){this._beginsWith=e.asBoolean(t)},enumerable:!0,configurable:!0});Object.defineProperty(AutoComplete.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=e.asNumber(t,!1,!0)},enumerable:!0,configurable:!0});Object.defineProperty(AutoComplete.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=e.asNumber(t,!1,!0)},enumerable:!0,configurable:!0});Object.defineProperty(AutoComplete.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(t){this._srchProp=e.asString(t);this._srchProps=t?t.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0});Object.defineProperty(AutoComplete.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=e.asFunction(t);e.isFunction(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0});Object.defineProperty(AutoComplete.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=e.asString(t)},enumerable:!0,configurable:!0});AutoComplete.prototype._keydown=function(i){if(!i.defaultPrevented&&this.isDroppedDown)switch(i.keyCode){case e.Key.Up:case e.Key.Down:this.selectAll()}t.prototype._keydown.call(this,i)};AutoComplete.prototype._setText=function(t){var i=this;if(!(this._inCallback||this._composing||this._settingText)){if(this.selectedIndex>-1&&this.getDisplayText()!=t){this._settingText=!0;this.selectedIndex=-1;this._settingText=!1}if(t!=this._oldText){var n=this._tbx;n.value!=t&&(n.value=t);this._oldText=t;this.onTextChanged();var o=this.collectionView;if(!t&&o){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1);this._query=this._rxHighlight=null;o.filter=null;var s=this.itemsSourceFunction;if(e.isFunction(s)){this.isDroppedDown=!1;s(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)}return}}this._toSearch&&clearTimeout(this._toSearch);t!=this.getDisplayText()&&(this._toSearch=setTimeout((function(){i._toSearch=null;var t=i.text.trim();if(t.length>=i._minLength&&t!=i._query){i._query=t;t=e.escapeRegExp(t);var n=e.escapeHtml(t),o=i.caseSensitiveSearch?"":"i";i._beginsWith||(o+="g");i._rxSrch=i._beginsWith?new RegExp("^"+t+".*",o):new RegExp("(?=.*"+t.replace(/ /g,")(?=.*")+")",o);i._rxHighlight=new RegExp("("+n.replace(/\s+/g,"|")+")",o);var s=i.itemsSourceFunction;e.isFunction(s)?s(i._query,i.maxItems,i._itemsSourceFnCallbackBnd):i._updateItems()}}),this._delay))}};AutoComplete.prototype._itemSourceFunctionCallback=function(t){this._inCallback=!0;var i=e.asCollectionView(t||[]);i.moveCurrentToPosition(-1);this.itemsSource=i;this._inCallback=!1;if(this.containsFocus()){var n=this._tbx,o=n.selectionStart,s=n.selectionEnd,r=this.collectionView;this.isDroppedDown=null!=r&&r.items.length>0;e.setSelectionRange(n,o,s);this.refresh()}};AutoComplete.prototype.onIsDroppedDownChanged=function(i){t.prototype.onIsDroppedDownChanged.call(this,i);if(this.containsFocus()&&!this.isTouching){var n=this.collectionView;if(this.selectedIndex<0&&n){var o=n.items,s=this.text;1==o.length&&o[0]==s?this.selectedIndex=0:e.setSelectionRange(this._tbx,s.length)}}this._query=""};AutoComplete.prototype._updateItems=function(){var t=this.collectionView;if(t){this._inCallback=!0;t.beginUpdate();this._itemCount=0;t.filter=this._filter.bind(this);t.moveCurrentToPosition(-1);t.endUpdate();this._inCallback=!1;var i=t.items.length,n=this._tbx,o=n.selectionStart,s=n.selectionEnd;this.isDroppedDown=i>0&&this.containsFocus();i||this.isEditable||(this.selectedIndex=-1);if(1==i&&this.selectedIndex<0){var r=this._getItemText(t.items[0],!1),a=n.value;if(!this.caseSensitiveSearch){r=r.toLowerCase();a=a.toLowerCase()}r==a&&(this.selectedIndex=0)}this.isDroppedDown&&e.setSelectionRange(n,o,s);this.refresh()}};AutoComplete.prototype._filter=function(e){if(this._itemCount>=this._maxItems)return!1;var t=[this._getItemText(e,!1)];this._srchProps&&this._srchProps.forEach((function(i){var n=e[i];null!=n&&t.push(n)}));this.isContentHtml&&(t=t.map((function(e){return e.replace(/(<[^>]*>|&[^;]*;)/g,"")})));for(var i=0;i<t.length;i++)if(this._rxSrch.test(t[i])){this._itemCount++;return!0}return!1};AutoComplete.prototype._getItemText=function(e,t){var i=e?e.toString():"",n=t&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;n&&(i=null!=(i=n.getValue(e))?i.toString():"");return i};AutoComplete.prototype._formatListItem=function(e,t){var i=this;this._cssMatch&&this._rxHighlight&&(t.item.innerHTML=t.item.innerHTML.replace(this._rxHighlight,(function(e,t,n,o){return i._enclosed(o,n,"<",">")||i._enclosed(o,n,"&",";")?e:'<span class="'+i._cssMatch+'">'+e+"</span>"})))};AutoComplete.prototype._enclosed=function(e,t,i,n){for(var o=t;o>=0&&e[o]!=n;o--)if(e[o]==i)for(var s=t;s<e.length&&e[s]!=i;s++)if(e[s]==n)return!0;return!1};return AutoComplete}(t.ComboBox);t.AutoComplete=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){!function(t){"use strict";var i=function(t){__extends(MultiAutoComplete,t);function MultiAutoComplete(i,n){var o=t.call(this,i)||this;o._selItems=[];o._maxSelItems=null;o._lastInputValue="";o._selPath=new e.Binding(null);o._notAddItm=!1;o.selectedItemsChanged=new e.Event;e.addClass(o.hostElement,"wj-multi-autocomplete");o._wjTpl=o.hostElement.querySelector(".wj-template");o._wjInput=o.hostElement.querySelector(".wj-input");o.showDropDownButton=!1;o.initialize(n);o.addEventListener(o.hostElement,"keyup",o._keyup.bind(o),!0);o.addEventListener(window,"resize",o._adjustInputWidth.bind(o));o.addEventListener(o._tbx,"focus",(function(){o._itemOff()}));o._addHelperInput();o._initSeltems();o.listBox.itemsChanged.addHandler((function(){return o.selectedIndex=-1}));o._refreshHeader();return o}Object.defineProperty(MultiAutoComplete.prototype,"showDropDownButton",{set:function(e){this._showBtn=!1},enumerable:!0,configurable:!0});Object.defineProperty(MultiAutoComplete.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(t){if(this._maxSelItems!=t){this._maxSelItems=e.asNumber(t,!0);this._updateMaxItems();this._refreshHeader();this._clearSelIndex()}},enumerable:!0,configurable:!0});Object.defineProperty(MultiAutoComplete.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(t){if((t=e.asString(t))!==this.selectedMemberPath){this._selPath.path=t;this._initSeltems();this._refreshHeader();this.onSelectedItemsChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(MultiAutoComplete.prototype,"selectedItems",{get:function(){return this._selItems},set:function(t){this._selItems=e.asArray(t);if(this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var i=0;i<this._selItems.length;i++){var n=this._selItems[i];this._setSelItem(n,!1)}this._updateMaxItems();this.onSelectedItemsChanged();this._refreshHeader();this._clearSelIndex()},enumerable:!0,configurable:!0});MultiAutoComplete.prototype.onSelectedItemsChanged=function(e){this.selectedItemsChanged.raise(this,e)};MultiAutoComplete.prototype.onIsDroppedDownChanged=function(e){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0);this._notAddItm=!1;t.prototype.onIsDroppedDownChanged.call(this,e)};MultiAutoComplete.prototype.refresh=function(e){void 0===e&&(e=!0);t.prototype.refresh.call(this,e);if(this.hostElement){this._initSeltems();this.isDroppedDown||this._refreshHeader()}};MultiAutoComplete.prototype._keydown=function(i){if(!this.isReadOnly){if(!i.defaultPrevented)switch(i.keyCode){case e.Key.Back:this._lastInputValue=this._tbx.value;break;case e.Key.Enter:this._itemOff();this._addItem(!0);e.isIE()&&e.setSelectionRange(this._tbx,this._tbx.textContent.length,this._tbx.textContent.length);break;case e.Key.Tab:if(this.isDroppedDown){this._addItem(!1);this._tbx.value="";this._lbx.selectedIndex=-1;i.preventDefault()}else this._updateFocus();break;case e.Key.Space:if(""!==this._tbx.value)return;if(!this.isDroppedDown&&!this._tbx.disabled){this.isDroppedDown=!0;this._clearSelIndex()}break;case e.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case e.Key.Left:this._itemOn(!this.rightToLeft);break;case e.Key.Right:this._itemOn(!!this.rightToLeft);break;case e.Key.Up:case e.Key.Down:var n=e.getActiveElement();if(i.altKey){if(this._tbx==n){this.isDroppedDown=!this.isDroppedDown;this.isDroppedDown||this._tbx.focus();i.preventDefault();return}}else if(this._tbx!==n)return;default:if(i.keyCode===e.Key.Back||i.keyCode===e.Key.Delete)return;this._itemOff();null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&i.preventDefault()}this._tbx.disabled||t.prototype._keydown.call(this,i)}};MultiAutoComplete.prototype._updateState=function(){t.prototype._updateState.call(this);this._wjTpl&&(e.hasClass(this.hostElement,"wj-state-focused")||this._itemOff())};MultiAutoComplete.prototype._keyup=function(t){if(!this.isReadOnly&&!t.defaultPrevented)switch(t.keyCode){case e.Key.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case e.Key.Delete:this._delItem(!0)}};MultiAutoComplete.prototype._addHelperInput=function(){var e=document.createElement("input");e.type="text";e.tabIndex=-1;e.className="wj-token-helper";e.readOnly=!0;this._wjTpl.insertBefore(e,this._wjInput);this._helperInput=e};MultiAutoComplete.prototype._refreshHeader=function(){for(var e=this.hostElement.querySelectorAll(".wj-token"),t=0;t<e.length;t++)this._wjTpl.removeChild(e[t]);var i=this.selectedItems;if(i&&0!==i.length){for(t=0;t<i.length;t++)this._insertToken(i[t]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left";this._adjustInputWidth()}else{this._wjInput.style.cssFloat=this.rightToLeft?"right":"left";this._adjustInputWidth()}};MultiAutoComplete.prototype._insertToken=function(t){var i=this._getItemText(t,!0);this.isContentHtml||(i=e.escapeHtml(i));this._wjTpl.insertBefore(this._createItem(i),this._wjInput)};MultiAutoComplete.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))};MultiAutoComplete.prototype._updateFocus=function(){var t=this,i=this._wjTpl.querySelector("."+MultiAutoComplete._clsActive);if(i){e.removeClass(i,MultiAutoComplete._clsActive);setTimeout((function(){t._tbx.focus()}))}else this._clearSelIndex()};MultiAutoComplete.prototype._addItem=function(e){if(this.selectedItems.indexOf(this.selectedItem)>-1)this._clearSelIndex();else if(this.selectedIndex>-1){this._updateSelItems(this.selectedItem,!0);this._refreshHeader();e&&this._clearSelIndex();this._disableInput(!0)}};MultiAutoComplete.prototype._delItem=function(e){var t,i,n=this._wjTpl.querySelector("."+MultiAutoComplete._clsActive),o=!1;if(!e||n){if(n){if((i=this._getItemIndex(n))>-1){t=this._selItems[i];o=!0}}else if(this._selItems.length>0){t=this._selItems[this._selItems.length-1];o=!0}if(o){this._updateSelItems(t,!1);this._refreshHeader();this._clearSelIndex();this._disableInput(!1)}this._tbx.focus()}};MultiAutoComplete.prototype._updateSelItems=function(e,t){if(t){this._selItems&&0!==this._selItems.length||(this._selItems=[]);if(null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(e)}else{var i=this._selItems.indexOf(e);this._selItems.splice(i,1)}this._hasSelectedMemeberPath()&&this._setSelItem(e,t);this.onSelectedItemsChanged()};MultiAutoComplete.prototype._createItem=function(t){var i=this,n=document.createElement("div"),o=document.createElement("span"),s=document.createElement("a");n.appendChild(o);n.appendChild(s);n.className="wj-token";o.className="wj-token-label";o.innerHTML=t;s.className="wj-token-close";s.href="#";s.tabIndex=-1;s.text="×";n.style.cssFloat=this.rightToLeft?"right":"left";this.addEventListener(n,"click",(function(t){i._helperInput.focus();var o=i._wjTpl.querySelector("."+MultiAutoComplete._clsActive);o&&e.removeClass(o,MultiAutoComplete._clsActive);e.addClass(n,MultiAutoComplete._clsActive);t.stopPropagation();t.preventDefault()}));this.addEventListener(s,"click",(function(e){if(!i.isReadOnly){var t=i._getItemIndex(n);if(t>-1){var o=i._selItems[t];i._updateSelItems(o,!1)}i._wjTpl.removeChild(n);i._adjustInputWidth();i._disableInput(!1);i._tbx.focus();e.stopPropagation();e.preventDefault()}}));return n};MultiAutoComplete.prototype._itemOn=function(t){var i,n,o,s=e.getActiveElement();if((this._tbx!=s||0===this._tbx.value.length)&&0!==(i=this._wjTpl.querySelectorAll(".wj-token")).length){n=this._wjTpl.querySelector("."+MultiAutoComplete._clsActive);o=this._getItemIndex(n);if(t){if(0===o)return;if(-1===o){e.addClass(i[i.length-1],MultiAutoComplete._clsActive);this._helperInput.focus()}else{e.removeClass(n,MultiAutoComplete._clsActive);e.addClass(i[o-1],MultiAutoComplete._clsActive);this._helperInput.focus()}}else if(!t){if(-1===o)return;if(o!==i.length-1){e.removeClass(n,MultiAutoComplete._clsActive);e.addClass(i[o+1],MultiAutoComplete._clsActive);this._helperInput.focus()}else{e.removeClass(n,MultiAutoComplete._clsActive);this._tbx.focus()}}}};MultiAutoComplete.prototype._itemOff=function(){var t=this._wjTpl.querySelector("."+MultiAutoComplete._clsActive);t&&e.removeClass(t,MultiAutoComplete._clsActive)};MultiAutoComplete.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var e=this.collectionView;if(e)for(var t=0;t<e.sourceCollection.length;t++)this._getSelItem(t)&&this._selItems.push(e.sourceCollection[t])}};MultiAutoComplete.prototype._getSelItem=function(t){var i=this.collectionView,n=i?i.sourceCollection[t]:null;return!(!e.isObject(n)||!this.selectedMemberPath)&&this._selPath.getValue(n)};MultiAutoComplete.prototype._setSelItem=function(t,i){this.itemsSource;e.isObject(t)&&this._selPath.getValue(t)!=i&&this._selPath.setValue(t,i)};MultiAutoComplete.prototype._clearSelIndex=function(){this.selectedIndex=-1};MultiAutoComplete.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath};MultiAutoComplete.prototype._disableInput=function(e){if(null!=this._maxSelItems)if(this._selItems.length<this._maxSelItems){this._tbx.disabled=!1;this._tbx.focus()}else{this._tbx.disabled=!0;this.hostElement.focus()}};MultiAutoComplete.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var t,i=e.getElementRect(this.hostElement),n=e.getElementRect(this._tbx),o=getComputedStyle(this._tbx),s=parseInt(o.paddingLeft,10),r=parseInt(o.paddingRight,10);t=this.rightToLeft?n.left+n.width-i.left-s-r-8:i.left+i.width-n.left-s-r-8;this._tbx.style.width=t+"px"};MultiAutoComplete.prototype._getItemIndex=function(e){for(var t=this.hostElement.querySelectorAll(".wj-token"),i=0;i<t.length;i++)if(e===t[i])return i;return-1};MultiAutoComplete._clsActive="wj-token-active";return MultiAutoComplete}(t.AutoComplete);t.MultiAutoComplete=i}(e.input||(e.input={}))}(wijmo||(wijmo={}));!function(e){e.input||(e.input={}),e._registerModule("wijmo.input",e.input)}(wijmo||(wijmo={}));