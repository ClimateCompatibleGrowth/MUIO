/*!
    *
    * Wijmo Library 5.20213.824
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */

var wijmo,__extends=this&&this.__extends||function(){var extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){extendStatics(t,e);function __(){this.constructor=t}t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}}();!function(t){!function(t){var e=function(){function UndoableAction(t){this._target=t}UndoableAction.prototype.undo=function(){if(this._actions)for(var t=this._actions.length-1;t>=0;t--)this._actions[t].undo();this.applyState(this._oldState)};UndoableAction.prototype.redo=function(){this.applyState(this._newState);this._actions&&this._actions.forEach((function(t){t.redo()}))};UndoableAction.prototype.close=function(){return!0};UndoableAction.prototype.applyState=function(t){};UndoableAction.prototype.shouldAddAsChildAction=function(t){return!1};UndoableAction.prototype.addChildAction=function(t){this._actions||(this._actions=[]);this._actions.push(t)};Object.defineProperty(UndoableAction.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0});return UndoableAction}();t.UndoableAction=e}(t.undo||(t.undo={}))}(wijmo||(wijmo={}));!function(t){!function(e){var n=function(){function _UndoStackHTML(){}_UndoStackHTML.addTarget=function(t,e){var n=_UndoStackHTML;if(e instanceof HTMLInputElement)return n._addInputElement(t,e);if(e instanceof HTMLTextAreaElement)return n._addTextAreaElement(t,e);if(e instanceof HTMLSelectElement)return n._addSelectElement(t,e);for(var o=!1,i=0;i<e.children.length;i++){var r=e.children[i];r instanceof HTMLElement&&t.addTarget(r)&&(o=!0)}return o};_UndoStackHTML._addInputElement=function(e,n){var a=null;if("checkbox"==n.type)n.addEventListener("click",(function(t){e.pushAction(new i(t))}));else{if("radio"==n.type){n.addEventListener("mousedown",(function(t){a=new r(t)}),!0);var c=_UndoStackHTML._getLabel(n);c&&c.addEventListener("mousedown",(function(t){a=new r({target:n})}),!0);n.addEventListener("focus",(function(t){a instanceof r&&a.target==t.target||(a=new r(t))}));n.addEventListener("click",(function(t){if(a instanceof r){e.pushAction(a);a=null}}));return!0}if("range"==n.type){n.addEventListener("mousedown",(function(e){var i=t.getActiveElement();i instanceof HTMLElement&&i!=n&&i.blur();a=new o(e)}));n.addEventListener("mouseup",(function(i){if(a instanceof o&&t.getActiveElement()!=n){a._focus=!1;e.pushAction(a);a=null}}))}n.addEventListener("focus",(function(t){null==a&&(a=new o(t))}));n.addEventListener("blur",(function(t){if(a instanceof o){e.pushAction(a);a=null}}))}return!0};_UndoStackHTML._addTextAreaElement=function(t,e){var n=null;e.addEventListener("focus",(function(t){n=new o(t)}));e.addEventListener("blur",(function(e){if(n instanceof o){t.pushAction(n);n=null}}));return!0};_UndoStackHTML._addSelectElement=function(t,e){var n=null;e.addEventListener("focus",(function(t){n=new o(t)}));e.addEventListener("blur",(function(e){if(n instanceof o){t.pushAction(n);n=null}}));return!0};_UndoStackHTML._getLabel=function(t){var e=t.parentElement;e instanceof HTMLLabelElement||(e=document.querySelector('label[for="'+t.id+'"'));return e};return _UndoStackHTML}();e._UndoStackHTML=n;var o=function(n){__extends(InputChangeAction,n);function InputChangeAction(t){var e=n.call(this,t.target)||this;e._focus=!0;e._oldState=e._target.value;return e}InputChangeAction.prototype.close=function(){this._newState=this._target.value;return this._newState!=this._oldState};InputChangeAction.prototype.applyState=function(n){var o=this._target;o.value=n;o.dispatchEvent(e.UndoStack._evtInput);this._focus&&(t.isFunction(o.select)?o.select():o.focus())};return InputChangeAction}(e.UndoableAction);e.InputChangeAction=o;var i=function(e){__extends(CheckboxClickAction,e);function CheckboxClickAction(n){var o=e.call(this,n.target)||this;t.assert("checkbox"==o._target.type,"checkbox expected");o._newState=o._target.checked;o._oldState=!o._newState;return o}CheckboxClickAction.prototype.applyState=function(t){this._target.checked=t;this._target.focus()};return CheckboxClickAction}(e.UndoableAction);e.CheckboxClickAction=i;var r=function(e){__extends(RadioClickAction,e);function RadioClickAction(n){var o=e.call(this,n.target)||this,i=o._target.type;t.assert("radio"==i,"radio button expected");o._oldState=o._getState();return o}RadioClickAction.prototype.close=function(){this._newState=this._getState();return this._newState!=this._oldState};RadioClickAction.prototype.applyState=function(t){if(t){t.checked=!0;t.focus()}};RadioClickAction.prototype._getState=function(){for(var t='input[name="'+this._target.name+'"]',e=document.querySelectorAll(t),n=0;n<e.length;n++)if(e[n].checked)return e[n];return null};return RadioClickAction}(e.UndoableAction);e.RadioClickAction=r}(t.undo||(t.undo={}))}(wijmo||(wijmo={}));!function(t){!function(e){var n=function(){function UndoStack(e,n){var o=this;this._autoKbd=!0;this._stack=[];this._maxActions=1e3;this._ptr=0;this.addingTarget=new t.Event;this.addedTarget=new t.Event;this.addingAction=new t.Event;this.addedAction=new t.Event;this.undoingAction=new t.Event;this.undoneAction=new t.Event;this.redoingAction=new t.Event;this.redoneAction=new t.Event;this.stateChanged=new t.Event;if(!UndoStack._evtInput){var i=document.createEvent("HTMLEvents");i.initEvent("input",!0,!1);UndoStack._evtInput=i}t.copy(this,n);e=t.getElement(e||document.body);this.addTarget(e);document.addEventListener("keydown",(function(n){if(o._autoKbd&&n.ctrlKey&&!n.defaultPrevented&&t.contains(e,n.target))switch(n.keyCode){case 90:if(o.canUndo){t.getActiveElement().blur();setTimeout((function(){return o.undo()}),100)}n.preventDefault();break;case 89:if(o.canRedo){t.getActiveElement().blur();setTimeout((function(){return o.redo()}),100)}n.preventDefault()}}),t.getEventOptions(!0,!1))}UndoStack.prototype.addTarget=function(n){var i=!1;if(t.isString(n)){for(var r=document.querySelectorAll(n),a=!1,c=0;c<r.length;c++)this.addTarget(r[c])&&(a=!0);return a}t.assert(n instanceof HTMLElement,"Undo target should be an HTML element");var d=new o(n);d.cancel=t.hasClass(n,"wj-no-undo");if(this.onAddingTarget(d)){var s=t.Control.getControl(n);s&&(i=e._UndoStackWijmo.addTarget(this,s));i||(i=e._UndoStackHTML.addTarget(this,n));i&&this.onAddedTarget(d)}return i};Object.defineProperty(UndoStack.prototype,"autoKeyboard",{get:function(){return this._autoKbd},set:function(e){this._autoKbd=t.asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(UndoStack.prototype,"isDisabled",{get:function(){return this._disabled},set:function(e){this._disabled=t.asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(UndoStack.prototype,"maxActions",{get:function(){return this._maxActions},set:function(e){if(e!=this._maxActions){this._maxActions=t.asNumber(e,!1,!0);this.clear()}},enumerable:!0,configurable:!0});Object.defineProperty(UndoStack.prototype,"actionCount",{get:function(){return this._stack.length},enumerable:!0,configurable:!0});Object.defineProperty(UndoStack.prototype,"canUndo",{get:function(){return this._stack.length>0&&this._ptr>0&&!this._disabled},enumerable:!0,configurable:!0});Object.defineProperty(UndoStack.prototype,"canRedo",{get:function(){return this._stack.length>0&&this._ptr<this._stack.length&&!this._disabled},enumerable:!0,configurable:!0});UndoStack.prototype.undo=function(){if(this.canUndo){var t=this._stack[this._ptr-1],e=new i(t);if(this.onUndoingAction(e)){this._ptr--;this._undoing=!0;t.undo();this._undoing=!1;this._pendingAction=null;this.onUndoneAction(e);this.onStateChanged()}}};UndoStack.prototype.redo=function(){if(this.canRedo){var t=this._stack[this._ptr],e=new i(t);if(this.onRedoingAction(e)){this._ptr++;this._undoing=!0;t.redo();this._undoing=!1;this._pendingAction=null;this.onRedoneAction(e);this.onStateChanged()}}};UndoStack.prototype.clear=function(){this._ptr=0;this._stack.splice(0,this._stack.length);this.onStateChanged()};UndoStack.prototype.pushAction=function(t){this._pendingAction=t;this.pushPendingAction()};UndoStack.prototype.onAddingTarget=function(t){this.addingTarget.raise(this,t);return!t.cancel};UndoStack.prototype.onAddedTarget=function(t){this.addedTarget.raise(this,t)};UndoStack.prototype.onAddingAction=function(t){this.addingAction.raise(this,t);return!t.cancel};UndoStack.prototype.onAddedAction=function(t){this.addedAction.raise(this,t)};UndoStack.prototype.onUndoingAction=function(t){this.undoingAction.raise(this,t);return!t.cancel};UndoStack.prototype.onUndoneAction=function(t){this.undoneAction.raise(this,t)};UndoStack.prototype.onRedoingAction=function(t){this.redoingAction.raise(this,t);return!t.cancel};UndoStack.prototype.onRedoneAction=function(t){this.redoneAction.raise(this,t)};UndoStack.prototype.onStateChanged=function(){this.stateChanged.raise(this,t.EventArgs.empty)};UndoStack.prototype.pushPendingAction=function(){if(!this._disabled&&!this._undoing&&this._pendingAction&&this._pendingAction.close()){this._stack.splice(this._ptr,this._stack.length-this._ptr);t.assert(this._stack.length==this._ptr,"should be at the end of the stack");if(this._stack.length){var e=this._stack[this._ptr-1];if(e.shouldAddAsChildAction(this._pendingAction)){e.addChildAction(this._pendingAction);this._pendingAction=null;this.onStateChanged();return}}var n=new i(this._pendingAction);if(!this.onAddingAction(n))return;this._stack.push(this._pendingAction);this._ptr++;this._pendingAction=null;var o=this._stack.length-this._maxActions;if(o>0){this._stack.splice(0,o);this._ptr-=o;t.assert(this._ptr>=0,"pointer should not be negative")}this.onStateChanged()}};return UndoStack}();e.UndoStack=n;var o=function(t){__extends(AddTargetEventArgs,t);function AddTargetEventArgs(e){var n=t.call(this)||this;n._target=e;return n}Object.defineProperty(AddTargetEventArgs.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0});return AddTargetEventArgs}(t.CancelEventArgs);e.AddTargetEventArgs=o;var i=function(t){__extends(UndoActionEventArgs,t);function UndoActionEventArgs(e){var n=t.call(this)||this;n._action=e;return n}Object.defineProperty(UndoActionEventArgs.prototype,"action",{get:function(){return this._action},enumerable:!0,configurable:!0});return UndoActionEventArgs}(t.CancelEventArgs);e.UndoActionEventArgs=i}(t.undo||(t.undo={}))}(wijmo||(wijmo={}));!function(t){!function(e){e.softInput=function softInput(){return t._getModule("wijmo.input")};e.softGrid=function softGrid(){return t._getModule("wijmo.grid")};e.softGauge=function softGauge(){return t._getModule("wijmo.gauge")};e.softNav=function softNav(){return t._getModule("wijmo.nav")}}(t.undo||(t.undo={}))}(wijmo||(wijmo={}));!function(t){!function(e){var n=function(){function _UndoStackWijmo(){}_UndoStackWijmo.addTarget=function(t,n){var o=_UndoStackWijmo;return e.softGrid()&&n instanceof e.softGrid().FlexGrid?o._addFlexGrid(t,n):e.softGauge()&&n instanceof e.softGauge().Gauge?o._addGauge(t,n):e.softNav()&&n instanceof e.softNav().TreeView?o._addTreeView(t,n):!!o._isInputControl(n)&&o._addInputControl(t,n)};_UndoStackWijmo._isInputControl=function(t){var n=e.softInput();return!!n&&(t instanceof n.DropDown||t instanceof n.InputMask||t instanceof n.InputNumber||t instanceof n.Calendar||t instanceof n.ColorPicker)};_UndoStackWijmo._addInputControl=function(t,e){var n=null;e.gotFocus.addHandler((function(){n=new o({target:e})}));e.lostFocus.addHandler((function(){if(n instanceof o){t.pushAction(n);n=null}}));return!0};_UndoStackWijmo._addGauge=function(t,e){if(!e.isReadOnly){var n=null;e.hostElement.addEventListener("focus",(function(){n||(n=new i(e))}));e.lostFocus.addHandler((function(){if(n instanceof i){t.pushAction(n);n=null}}));return!0}return!1};_UndoStackWijmo._addTreeView=function(t,e){var n=null;e.nodeEditStarted.addHandler((function(t,e){n=new f(t,e)}));e.nodeEditEnded.addHandler((function(e,o){if(n instanceof f){t.pushAction(n);n=null}}));e.isCheckedChanging.addHandler((function(t,e){n=new p(t,e)}));e.isCheckedChanged.addHandler((function(e,o){if(n instanceof p){t.pushAction(n);n=null}}));return!0};_UndoStackWijmo._addFlexGrid=function(e,n){var o=null;n.beginningEdit.addHandler((function(e,n){o=n.getRow()instanceof t.grid._NewRowTemplate?null:new r(e,n)}));n.cellEditEnded.addHandler((function(t,n){if(o instanceof r){e.pushAction(o);o=null}}));n.pastingCell.addHandler((function(t,e){o=e.getRow()?new r(t,e):null}));n.pastedCell.addHandler((function(t,n){if(o instanceof r){e.pushAction(o);o=null}}));n.sortingColumn.addHandler((function(t,e){o=new a(t,e)}));n.sortedColumn.addHandler((function(t,n){if(o instanceof a){e.pushAction(o);o=null}}));n.resizingColumn.addHandler((function(t,e){o instanceof c||(o=new c(t,e))}));n.resizedColumn.addHandler((function(){if(o instanceof c){e.pushAction(o);o=null}}));n.autoSizingColumn.addHandler((function(t,e){o=new c(t,e)}));n.autoSizedColumn.addHandler((function(){if(o instanceof c){e.pushAction(o);o=null}}));n.draggingColumn.addHandler((function(t,e){o=new d(t,e)}));n.draggedColumn.addHandler((function(t,n){if(o instanceof d){e.pushAction(o);o=null}}));n.rowAdded.addHandler((function(t,n){n.cancel||e.pushAction(new s(t,n))}));n.deletingRow.addHandler((function(t,n){n.cancel||e.pushAction(new u(t,n))}));n.columnGroupCollapsedChanging.addHandler((function(t,e){o=new l(t,e)}));n.columnGroupCollapsedChanged.addHandler((function(t,n){if(o instanceof l){e.pushAction(o);o=null}}));return!0};return _UndoStackWijmo}();e._UndoStackWijmo=n;var o=function(n){__extends(InputControlChangeAction,n);function InputControlChangeAction(t){var e=n.call(this,t)||this;e._ctl=t.target;e._oldState=e._getControlState();return e}Object.defineProperty(InputControlChangeAction.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0});InputControlChangeAction.prototype.close=function(){this._timeStamp=Date.now();this._newState=this._getControlState();return!this._sameContent(this._oldState,this._newState)};InputControlChangeAction.prototype.shouldAddAsChildAction=function(t){if(t instanceof InputControlChangeAction&&t.target==this.target&&t._timeStamp-this._timeStamp<500){this._timeStamp=Date.now();return!0}return!1};InputControlChangeAction.prototype.applyState=function(n){var o=this._ctl,i=e.softInput();if(i){var r=o instanceof i.Calendar||o instanceof i.InputDate;r&&o.selectionMode!=i.DateSelectionMode.Range&&(r=!1);if(o instanceof i.MultiSelect)o.checkedItems=n;else if(o instanceof i.MultiAutoComplete)o.selectedItems=n;else if(r){o.value=n[0];o.rangeEnd=n[1]}else"value"in o?o.value=n:"text"in o?o.text=n:t.assert(!1,"can't apply control state?");o.focus()}};InputControlChangeAction.prototype._getControlState=function(){var n=this._ctl,o=e.softInput();if(o){var i=n instanceof o.Calendar||n instanceof o.InputDate;i&&n.selectionMode!=o.DateSelectionMode.Range&&(i=!1);if(n instanceof o.MultiSelect)return n.checkedItems.slice();if(n instanceof o.MultiAutoComplete)return n.selectedItems.slice();if(i)return[n.value,n.rangeEnd];if("value"in n)return n.value;if("text"in n)return n.text;t.assert(!1,"can't get control state?")}};InputControlChangeAction.prototype._sameContent=function(e,n){if(t.isArray(e)&&t.isArray(n)){if(e.length!=n.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!=n[o])return!1;return!0}return t.isDate(e)||t.isDate(n)?t.DateTime.sameDate(e,n):e==n};return InputControlChangeAction}(e.InputChangeAction),i=function(t){__extends(GaugeChangeAction,t);function GaugeChangeAction(e){var n=t.call(this,e)||this;n._oldState=e.value;return n}Object.defineProperty(GaugeChangeAction.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0});GaugeChangeAction.prototype.close=function(){this._newState=this._target.value;return this._newState!=this._oldState};GaugeChangeAction.prototype.applyState=function(t){var e=this._target;e.value=t;e.focus()};return GaugeChangeAction}(e.UndoableAction),r=function(e){__extends(GridEditAction,e);function GridEditAction(n,o){var i=e.call(this,n)||this;i._dataItems=[];for(var r=n.collectionView,a=i._rng=o.range,c=a.topRow;c<=a.bottomRow;c++)i._dataItems.push(n.rows[c].dataItem);i._page=r instanceof t.collections.CollectionView?r.pageIndex:-1;i._oldState=n.getCellData(o.row,o.col,!1);return i}Object.defineProperty(GridEditAction.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0});Object.defineProperty(GridEditAction.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0});Object.defineProperty(GridEditAction.prototype,"row",{get:function(){return this._rng.topRow},enumerable:!0,configurable:!0});Object.defineProperty(GridEditAction.prototype,"col",{get:function(){return this._rng.leftCol},enumerable:!0,configurable:!0});Object.defineProperty(GridEditAction.prototype,"dataItem",{get:function(){return this._dataItems[0]},enumerable:!0,configurable:!0});Object.defineProperty(GridEditAction.prototype,"dataItems",{get:function(){return this._dataItems},enumerable:!0,configurable:!0});GridEditAction.prototype.close=function(){var t=this._target.collectionView;if(t&&t.currentAddItem)return!1;this._timeStamp=Date.now();this._newState=this._target.getCellData(this.row,this.col,!1);return this._newState!=this._oldState};GridEditAction.prototype.applyState=function(e){var n=this,o=this._target,i=o.editableCollectionView;if(i){i instanceof t.collections.CollectionView&&this._page>-1&&i.moveToPage(this._page);o.deferUpdate((function(){n._dataItems.forEach((function(t){i.editItem(t);for(var r=n._rng.leftCol;r<=n._rng.rightCol;r++){var a=o.columns[r],c=o._getBindingColumn(o.cells,n.row,a);c&&c._binding&&c._binding.setValue(t,e)}i.commitEdit()}))}))}o.select(o.selection.row,this.col);o.focus()};GridEditAction.prototype.shouldAddAsChildAction=function(t){return t instanceof GridEditAction&&t.target==this.target&&t._timeStamp-this._timeStamp<100};return GridEditAction}(e.UndoableAction),a=function(t){__extends(GridSortAction,t);function GridSortAction(e,n){var o=t.call(this,e)||this,i=o._target.collectionView;i&&(o._oldState=i.sortDescriptions.slice());return o}Object.defineProperty(GridSortAction.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0});GridSortAction.prototype.close=function(){var t=this._target.collectionView;if(t){this._newState=t.sortDescriptions.slice();return!0}return!1};GridSortAction.prototype.applyState=function(t){var e=this._target.collectionView;e&&e.deferUpdate((function(){var n=e.sortDescriptions;n.clear();t.forEach((function(t){n.push(t)}))}));this._target.focus()};return GridSortAction}(e.UndoableAction),c=function(t){__extends(GridResizeAction,t);function GridResizeAction(e,n){var o=t.call(this,e)||this;o._col=e.columns[n.col];o._oldState=o._col.renderWidth;return o}Object.defineProperty(GridResizeAction.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0});Object.defineProperty(GridResizeAction.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0});GridResizeAction.prototype.close=function(){this._timeStamp=Date.now();this._newState=this._col.renderWidth;return this._newState!=this._oldState};GridResizeAction.prototype.applyState=function(t){this._col.width=t;this._target.focus()};GridResizeAction.prototype.shouldAddAsChildAction=function(t){return t instanceof GridResizeAction&&t.target==this.target&&t._timeStamp-this._timeStamp<100};return GridResizeAction}(e.UndoableAction),d=function(e){__extends(GridDragAction,e);function GridDragAction(t,n){var o=e.call(this,t)||this;o._col=n.getColumn(!0);o._oldState=o._getState(o._col);return o}Object.defineProperty(GridDragAction.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0});Object.defineProperty(GridDragAction.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0});GridDragAction.prototype.close=function(){this._newState=this._getState(this._col);return!this._areStatesEqual(this._newState,this._oldState)};GridDragAction.prototype.applyState=function(t){var e=this,n=this._col;n.grid.deferUpdate((function(){var o=e._getState(n);o.coll.splice(o.idx,1);t.coll.splice(t.idx,0,n)}));this._target.focus()};GridDragAction.prototype._getState=function(e){var n=e instanceof t.grid.ColumnGroup?e.parentGroup?e.parentGroup.columns:this.target.getColumnGroups():e.grid.columns;return{coll:n,idx:n.indexOf(e)}};GridDragAction.prototype._areStatesEqual=function(t,e){return t.coll===e.coll&&t.idx===e.idx};return GridDragAction}(e.UndoableAction),s=function(e){__extends(GridAddRowAction,e);function GridAddRowAction(t,n){var o=e.call(this,t)||this,i=o._target.collectionView;if(i&&i.currentAddItem){var r=i.currentAddItem,a=i.sourceCollection.indexOf(r),c=i.currentPosition;o._oldState={item:r,index:a,position:c};o._newState={index:a,position:c}}return o}Object.defineProperty(GridAddRowAction.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0});GridAddRowAction.prototype.close=function(){return null!=this._oldState};GridAddRowAction.prototype.applyState=function(e){var n=this._target.collectionView;if(n){var o=n.sourceCollection;if(e.item){o.splice(e.index,1);if(n instanceof t.collections.CollectionView&&n.trackChanges){var i=e.item;t.assert(n.itemsAdded.indexOf(i)>-1,"item should be in the itemsAdded list");n.itemsAdded.remove(i)}}else{i=this._oldState.item;o.splice(e.index,0,i);if(n instanceof t.collections.CollectionView&&n.trackChanges){t.assert(n.itemsAdded.indexOf(i)<0,"item should not be in the itemsAdded list");n.itemsAdded.push(i)}}n.refresh();n.moveCurrentToPosition(e.position);this._target.focus()}};return GridAddRowAction}(e.UndoableAction),u=function(n){__extends(GridRemoveRowAction,n);function GridRemoveRowAction(e,o){var i=n.call(this,e)||this;i._edtIndex=-1;var r=i._target.collectionView;if(r){var a=e.rows[o.row].dataItem,c=r.sourceCollection.indexOf(a),d=r.currentPosition;r instanceof t.collections.CollectionView&&r.trackChanges&&(i._edtIndex=r.itemsEdited.indexOf(a));i._oldState={item:a,index:c,position:d};i._newState={index:c,position:d}}return i}Object.defineProperty(GridRemoveRowAction.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0});Object.defineProperty(GridRemoveRowAction.prototype,"dataItem",{get:function(){return this._oldState.item},enumerable:!0,configurable:!0});GridRemoveRowAction.prototype.close=function(){this._timeStamp=Date.now();return null!=this._oldState};GridRemoveRowAction.prototype.applyState=function(n){var o=this._target,i=o.collectionView;if(i){var r=i.sourceCollection;if(n.item){r.splice(n.index,0,n.item);if(i instanceof t.collections.CollectionView&&i.trackChanges){var a=n.item;t.assert(i.itemsRemoved.indexOf(a)>-1,"item should be in the itemsRemoved list");i.itemsRemoved.remove(a);this._edtIndex>-1&&i.itemsEdited.indexOf(a)<0&&i.itemsEdited.push(a)}}else{r.splice(n.index,1);if(i instanceof t.collections.CollectionView&&i.trackChanges){a=this._oldState.item;t.assert(i.itemsRemoved.indexOf(a)<0,"item should not be in the itemsRemoved list");i.itemsRemoved.push(a)}}i.refresh();i.moveCurrentToPosition(n.position);var c=new(e.softGrid().CellRange)(n.position,0,n.position,o.columns.length-1);o.select(c);o.focus()}};GridRemoveRowAction.prototype.shouldAddAsChildAction=function(t){return t instanceof GridRemoveRowAction&&t.target==this.target&&t._timeStamp-this._timeStamp<100};return GridRemoveRowAction}(e.UndoableAction),l=function(t){__extends(ExpandCollapseColumnGroupAction,t);function ExpandCollapseColumnGroupAction(e,n){var o=t.call(this,e)||this;o._group=n.data;o._oldState=o._group.isCollapsed;return o}Object.defineProperty(ExpandCollapseColumnGroupAction.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0});Object.defineProperty(ExpandCollapseColumnGroupAction.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0});ExpandCollapseColumnGroupAction.prototype.close=function(){this._newState=this._group.isCollapsed;return this._newState!=this._oldState};ExpandCollapseColumnGroupAction.prototype.applyState=function(t){this._group.isCollapsed=t;this._target.focus()};return ExpandCollapseColumnGroupAction}(e.UndoableAction),f=function(t){__extends(TreeViewEditAction,t);function TreeViewEditAction(e,n){var o=t.call(this,e)||this;o._nd=n.node;o._oldState=o._getNodeText();return o}Object.defineProperty(TreeViewEditAction.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0});Object.defineProperty(TreeViewEditAction.prototype,"node",{get:function(){return this._nd},enumerable:!0,configurable:!0});TreeViewEditAction.prototype.close=function(){this._newState=this._getNodeText();return this._newState!=this._oldState};TreeViewEditAction.prototype.applyState=function(t){this._nd.select();this._setNodeText(t);this._target.focus()};TreeViewEditAction.prototype._getNodeText=function(){var t=this._nd.dataItem[this._getDisplayMemberPath()];return null!=t?t.toString():""};TreeViewEditAction.prototype._setNodeText=function(t){var e=this._nd,n=e.dataItem,o=this._getDisplayMemberPath(),i=e.element.querySelector(".wj-node-text");n[o]=t;e.treeView.isContentHtml?i.innerHTML=t:i.textContent=t};TreeViewEditAction.prototype._getDisplayMemberPath=function(){var t=this._nd,e=t.treeView.displayMemberPath;e instanceof Array&&(e=e[t.level]);return e};return TreeViewEditAction}(e.UndoableAction),p=function(t){__extends(TreeViewCheckAction,t);function TreeViewCheckAction(e,n){var o=t.call(this,e)||this;o._nd=n.node;o._oldState=o._nd.isChecked;return o}Object.defineProperty(TreeViewCheckAction.prototype,"control",{get:function(){return this._target},enumerable:!0,configurable:!0});Object.defineProperty(TreeViewCheckAction.prototype,"node",{get:function(){return this._nd},enumerable:!0,configurable:!0});TreeViewCheckAction.prototype.close=function(){this._newState=this._nd.isChecked;return this._newState!=this._oldState};TreeViewCheckAction.prototype.applyState=function(t){this._nd.select();this._nd.isChecked=t;this._target.focus()};return TreeViewCheckAction}(e.UndoableAction)}(t.undo||(t.undo={}))}(wijmo||(wijmo={}));!function(t){t.undo||(t.undo={}),t._registerModule("wijmo.undo",t.undo)}(wijmo||(wijmo={}));